<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/reconstruction/src/RawReaderCRU.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d24/RawReaderCRU_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RawReaderCRU.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d24/RawReaderCRU_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;fmt/format.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;TSystem.h&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;TObjArray.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d86/RawReaderCRU_8h.html">TPCReconstruction/RawReaderCRU.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h.html">TPCBase/Mapper.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/da4/Logger_8h.html">Framework/Logger.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">   24</a></span>&#160;<span class="preprocessor">#define CHECK_BIT(var, pos) ((var) &amp; (1 &lt;&lt; (pos)))</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#a1e59c3aac4975b3ab73edd8fecae219b">   25</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a> = <a class="code" href="../../de/dd4/namespaceo2_1_1header.html#a1382d043a29d3edd8ec00b89e0f89fa6">o2::header::RAWDataHeader</a>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//using namespace o2::tpc;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html">o2::tpc::rawreader</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;std::ostream&amp; <a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html#a3ed78c80e4748c3b01ce05d3ce79b14c">operator&lt;&lt;</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>, <span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;std::istream&amp; <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#aa4e51bcd405519ffd74f586337b5f162">operator&gt;&gt;</a>(std::istream&amp; input, <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a463abe7d682b6ef6fc100e18d872d4e7">printHeader</a>();</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a2638a924b975fa7c022e030e639058d1">printHorizontal</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// putting this here instead of inside the header trigger unreasonably large compliation times for some reason</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">RawReaderCRUEventSync::LinkInfo&amp; RawReaderCRUEventSync::getLinkInfo(uint32_t heartbeatOrbit, int cru, uint8_t globalLinkID)</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">  // check if event is already registered. If not create a new one.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">  auto&amp; event = createEvent(heartbeatOrbit);</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">  return event.CRUInfoArray[cru].LinkInformation[globalLinkID];</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a55a5f72e85d69dd2183eb6cd7a564a3d">   44</a></span>&#160;<a class="code" href="../../d8/d30/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1EventInfo.html">RawReaderCRUEventSync::EventInfo</a>&amp; <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a55a5f72e85d69dd2183eb6cd7a564a3d">RawReaderCRUEventSync::createEvent</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119f">DataType</a> dataType)</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> heartbeatOrbit = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; ev : mEventInformation) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> hbMatch = ev.hasHearbeatOrbit(heartbeatOrbit);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (hbMatch) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">return</span> ev;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev.HeartbeatOrbits.back() == heartbeatOrbit - 1) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      ev.HeartbeatOrbits.emplace_back(heartbeatOrbit);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> ev;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> mEventInformation.emplace_back(heartbeatOrbit);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a57f3a5cca3882873ceb4730bb3594e93">   60</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a57f3a5cca3882873ceb4730bb3594e93">RawReaderCRUEventSync::analyse</a>()</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">//expected number of packets in one HBorbit</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> numberOfPackets = <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5d6706da4e2667e2049846237a5cdbe9">ExpectedNumberOfPacketsPerHBFrame</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iEvent = mEventInformation.size() - 1; iEvent &gt;= 0; --iEvent) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">auto</span>&amp; <span class="keyword">event</span> = mEventInformation[iEvent];</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">event</span>.IsComplete = <span class="keyword">true</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">size_t</span> totalPayloadSize = 0;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> iCRU = 0; iCRU &lt; <span class="keyword">event</span>.CRUInfoArray.size(); ++iCRU) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; cruInfo = <span class="keyword">event</span>.CRUInfoArray[iCRU];</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">if</span> (!cruInfo.isPresent()) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> (mCRUSeen[iCRU]) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;          <span class="keyword">event</span>.IsComplete = <span class="keyword">false</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        totalPayloadSize += cruInfo.totalPayloadSize();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keywordflow">if</span> (!cruInfo.isComplete()) {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keyword">event</span>.IsComplete = <span class="keyword">false</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// remove empty events</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// can be problems in the filtering in readout</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// typically these are empty HB frame with HB start and HB stop packets only</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (totalPayloadSize == 0) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      O2INFO(<span class="stringliteral">&quot;Removing empty event with HB Orbit %u&quot;</span>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a03b04a5a978bad576866339075de01f6">event</a>.HeartbeatOrbits[0]);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      mEventInformation.erase(mEventInformation.begin() + iEvent);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#aaf6ff4fd2273c862d53b0cdb90d013d6">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#aaf6ff4fd2273c862d53b0cdb90d013d6">RawReaderCRUEventSync::setLinksSeen</a>(<span class="keyword">const</span> <a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> cru, <span class="keyword">const</span> std::bitset&lt;MaxNumberOfLinks&gt;&amp; links)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; ev : mEventInformation) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">auto</span>&amp; cruInfo = ev.CRUInfoArray[cru];</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ilink = 0; ilink &lt; cruInfo.LinkInformation.size(); ++ilink) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keyword">auto</span>&amp; linkInfo = cruInfo.LinkInformation[ilink];</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      linkInfo.WasSeen = links[ilink];</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#afaa3b59e6848c32ca4d28c21b9620cb5">  109</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#afaa3b59e6848c32ca4d28c21b9620cb5">RawReaderCRUEventSync::streamTo</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">const</span> std::string redBG(<span class="stringliteral">&quot;\033[41m&quot;</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">const</span> std::string red(<span class="stringliteral">&quot;\033[31m&quot;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">const</span> std::string <a class="code" href="../../dc/da3/glcorearb_8h.html#aef30e4e3dccbffce99b7509d5366faef">green</a>(<span class="stringliteral">&quot;\033[32m&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">const</span> std::string bold(<span class="stringliteral">&quot;\033[1m&quot;</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">const</span> std::string <a class="code" href="../../df/d18/namespaceo2_1_1mid.html#aca82e9e929edf59c003b2a1b07a3ec69">clear</a>(<span class="stringliteral">&quot;\033[0m&quot;</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Detailed event information\n&quot;</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// event loop</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; mEventInformation.size(); ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <span class="keyword">event</span> = mEventInformation[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> isComplete = <span class="keyword">event</span>.IsComplete;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (!isComplete) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      std::cout &lt;&lt; redBG;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      std::cout &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#aef30e4e3dccbffce99b7509d5366faef">green</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Event &quot;</span> &lt;&lt; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <span class="stringliteral">&quot;                                \n&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;              &lt;&lt; clear &lt;&lt; <span class="stringliteral">&quot;    heartbeatOrbits: &quot;</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; orbit : <a class="code" href="../../dc/da3/glcorearb_8h.html#a03b04a5a978bad576866339075de01f6">event</a>.HeartbeatOrbits) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      std::cout &lt;&lt; orbit &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;    Is complete: &quot;</span> &lt;&lt; isComplete &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// cru loop</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> iCRU = 0; iCRU &lt; <span class="keyword">event</span>.CRUInfoArray.size(); ++iCRU) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; cruInfo = <span class="keyword">event</span>.CRUInfoArray[iCRU];</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">if</span> (!cruInfo.isPresent()) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;        &quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keywordflow">if</span> (!cruInfo.isComplete()) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        std::cout &lt;&lt; bold + red;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;CRU &quot;</span> &lt;&lt; iCRU &lt;&lt; clear &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; cruLinks = cruInfo.LinkInformation;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">// link loop</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> iLink = 0; iLink &lt; cruLinks.size(); ++iLink) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; linkInfo = <span class="keyword">event</span>.CRUInfoArray[iCRU].LinkInformation[iLink];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (!linkInfo.IsPresent) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;        &quot;</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (!linkInfo.isComplete()) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          std::cout &lt;&lt; red;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Link &quot;</span> &lt;&lt; iLink &lt;&lt; clear &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (!linkInfo.HBEndSeen) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          std::cout &lt;&lt; red;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;            HBEndSeen: &quot;</span> &lt;&lt; linkInfo.HBEndSeen &lt;&lt; clear &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> (linkInfo.PacketPositions.size() != <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5d6706da4e2667e2049846237a5cdbe9">ExpectedNumberOfPacketsPerHBFrame</a>) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          std::cout &lt;&lt; red;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;            Number of Packets: &quot;</span> &lt;&lt; linkInfo.PacketPositions.size() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5d6706da4e2667e2049846237a5cdbe9">ExpectedNumberOfPacketsPerHBFrame</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; clear &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;            Payload size : &quot;</span> &lt;&lt; linkInfo.PayloadSize &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; linkInfo.PayloadSize / 16 &lt;&lt; <span class="stringliteral">&quot; GBT frames)&quot;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;            Packets: &quot;</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; packet : linkInfo.PacketPositions) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          std::cout &lt;&lt; packet &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">//==============================================================================</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a6fc0e56594614401e73b50f206b3e55d">  181</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a6fc0e56594614401e73b50f206b3e55d">RawReaderCRU::scanFile</a>()</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (mFileIsScanned)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// std::vector&lt;PacketDescriptor&gt; mPacketDescriptorMap;</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">//const uint64_t RDH_HEADERWORD0 = 0x1ea04003;</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">//const uint64_t RDH_HEADERWORD0 = 0x00004003;</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> RDH_HEADERWORD0 = 0x00004004;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  file.open(mInputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ifstream::binary</a>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (!file.good())</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to open or access file &quot;</span> + mInputFileName);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// get length of file in bytes</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  file.seekg(0, file.end);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  mFileSize = file.tellg();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  file.seekg(0, file.beg);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// the file is supposed to contain N x 8kB packets. So the number of packets</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// can be determined by the file-size. Ideally, this is not required but the</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// information is derived directly from the header size and payload size.</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// *** to be adapted to header info ***</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> uint32_t numPackets = mFileSize / (8 * 1024);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// read in the RDH, then jump to the next RDH position</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a> rdh;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  uint32_t currentPacket = 0;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">while</span> (currentPacket &lt; numPackets) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">const</span> uint32_t currentPos = file.tellg();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// ===| read in the RawDataHeader at the current position |=================</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    file &gt;&gt; rdh;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> packetSize = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = packetSize - rdh.headerSize;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// ===| try to detect data type if not already set |========================</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// for now we assume only HB scaling and triggered mode</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// in case of triggered data we assume that that the for pageCnt == 1 we have</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">//   triggerType == 0x10 in the firt packet</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (mManager) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (mManager-&gt;mDataType == <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fa66ae606afe3428eb69bddd7f462e8843">DataType::TryToDetect</a>) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> triggerTypeForTriggeredData = 0x10;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> triggerType = rdh.triggerType;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> pageCnt = rdh.pageCnt;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (pageCnt == 1) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          <span class="keywordflow">if</span> (triggerType == triggerTypeForTriggeredData) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            mManager-&gt;mDataType = <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fa073b1bbd5b71098e61f7c3b8240a29bf">DataType::Triggered</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            O2INFO(<span class="stringliteral">&quot;Detected triggered data&quot;</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            mManager-&gt;mDataType = <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fad5405284cbf9e19f4fb464bdadd0b009">DataType::HBScaling</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            O2INFO(<span class="stringliteral">&quot;Detected HB scaling&quot;</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// ===| get relavant data information |=====================================</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">//const auto heartbeatOrbit = rdh.heartbeatOrbit;</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> dataWrapperID = rdh.endPointID;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> linkID = rdh.linkID;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> globalLinkID = linkID + dataWrapperID * 12;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">//const auto blockLength = rdh.blockLength;</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> memorySize = rdh.memorySize;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> payloadSize = rdh.memorySize - rdh.headerSize;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// ===| check if cru should be forced |=====================================</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (!mForceCRU) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      mCRU = rdh.cruID;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="comment">//overwrite cru id in rdh for further processing</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      rdh.cruID = mCRU;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// ===| find evnet info or create a new one |===============================</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html">RawReaderCRUEventSync::LinkInfo</a>* linkInfo = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (mManager) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// in case of triggered mode, we use the first heartbeat orbit as event identifier</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      linkInfo = &amp;mManager-&gt;mEventSync.getLinkInfo(rdh, mManager-&gt;getDataType());</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      mManager-&gt;mEventSync.setCRUSeen(mCRU);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;block length: &quot; &lt;&lt; blockLength &lt;&lt; &#39;\n&#39;;</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// ===| set up packet descriptor map for GBT frames |=======================</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// * check Header for Header ID</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// * create the packet descriptor</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// * set the mLinkPresent flag</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> ((rdh.word0 &amp; 0x0000FFFF) == RDH_HEADERWORD0) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="comment">// non 0 stop bit means data with payload</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">if</span> (rdh.stop == 0) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        mPacketDescriptorMaps[globalLinkID].emplace_back(currentPos, mCRU, linkID, dataWrapperID, memorySize, packetSize);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        mLinkPresent[globalLinkID] = <span class="keyword">true</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        mPacketsPerLink[globalLinkID]++;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (linkInfo) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          linkInfo-&gt;<a class="code" href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a6496ebc653b6502d555e08afbde3b470">PacketPositions</a>.emplace_back(mPacketsPerLink[globalLinkID] - 1);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          linkInfo-&gt;<a class="code" href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a117993a5fb768502fc918443c1b7388d">IsPresent</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          linkInfo-&gt;<a class="code" href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a468d6cfa7e15dd0176258b14d82f45be">PayloadSize</a> += payloadSize;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rdh.stop == 1) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">// stop bit 1 means we hit the HB end frame without payload.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="comment">// This marks the end of an &quot;event&quot; in HB scaling mode.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (linkInfo) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          linkInfo-&gt;<a class="code" href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a3d90fc33f929c785e891789a15aad4a5">HBEndSeen</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        O2ERROR(<span class="stringliteral">&quot;Unknown stop code: %lu&quot;</span>, rdh.stop);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">//std::cout &lt;&lt; dataWrapperID &lt;&lt; &quot;.&quot; &lt;&lt; linkID &lt;&lt; &quot; (&quot; &lt;&lt; globalLinkID &lt;&lt; &quot;)\n&quot;;</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      O2ERROR(<span class="stringliteral">&quot;Found header word %x and required header word %x don&#39;t match&quot;</span>, rdh.word0, RDH_HEADERWORD0);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    };</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// debug output</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a2b6bf3c832f15601c8dd0076d81b5010">DebugLevel::RDHDump</a>)) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="comment">//std::cout &lt;&lt; &quot;Packet &quot; &lt;&lt; std::setw(5) &lt;&lt; currentPacket &lt;&lt; &quot; - Link &quot; &lt;&lt; int(linkID) &lt;&lt; &quot;\n&quot;;</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">//std::cout &lt;&lt; rdh;</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a2638a924b975fa7c022e030e639058d1">printHorizontal</a>(rdh);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span> (rdh.stop) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a463abe7d682b6ef6fc100e18d872d4e7">printHeader</a>();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    };</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// std::cout &lt;&lt; &quot;Position after read : &quot; &lt;&lt; std::dec &lt;&lt; file.tellg() &lt;&lt; std::endl;</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    file.seekg(offset, file.cur);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    ++currentPacket;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// close the File</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  file.close();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// go through events and set the status if links were seen</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (mManager) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// in case of triggered mode, we use the first heartbeat orbit as event identifier</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    mManager-&gt;mEventSync.setLinksSeen(mCRU, mLinkPresent);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (mVerbosity) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// show the mLinkPresent map</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Links present&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; MaxNumberOfLinks; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      mLinkPresent[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <span class="keyword">true</span> ? std::cout &lt;&lt; <span class="stringliteral">&quot;1 &quot;</span> : std::cout &lt;&lt; <span class="stringliteral">&quot;0 &quot;</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    };</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    std::cout &lt;&lt; std::dec</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;File Name         : &quot;</span> &lt;&lt; mInputFileName &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;File size [bytes] : &quot;</span> &lt;&lt; mFileSize &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Packets           : &quot;</span> &lt;&lt; numPackets &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">if</span> (mVerbosity &gt; 1) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// ===| display packet statistics |===</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; MaxNumberOfLinks; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">if</span> (mLinkPresent[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;Packets for link &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; mPacketsPerLink[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="comment">//</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <span class="comment">// ===| display the packet descriptor map |===</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pd : mPacketDescriptorMaps[i]) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            std::cout &lt;&lt; pd &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  mFileIsScanned = <span class="keyword">true</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a2510972228645de1e60f3687410bb26e">  361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a2510972228645de1e60f3687410bb26e">RawReaderCRU::findSyncPositions</a>()</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  file.open(mInputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ifstream::binary</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span> (!file.good())</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to open or access file &quot;</span> + mInputFileName);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// loop over the MaxNumberOfLinks potential links in the data</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// only if data from the link is present and selected</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// for decoding it will be decoded.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> link = 0; link &lt; MaxNumberOfLinks; link++) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// all links have been selected</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (!checkLinkPresent(link)) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (mVerbosity) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Finding sync pattern for link &quot;</span> &lt;&lt; link &lt;&lt; std::endl;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Num packets : &quot;</span> &lt;&lt; mPacketsPerLink[link] &lt;&lt; std::endl;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html">GBTFrame</a> gFrame;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    uint32_t packetID{0};</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// loop over the packets for each link and process them</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> packet : mPacketDescriptorMaps[link]) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a6b90a0e0e81ff1ba7e2de665dbba8bfb">setPacketNumber</a>(packetID);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      file.seekg(packet.getPayloadOffset(), file.beg);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="comment">// read in the data frame by frame, extract the 5-bit halfwords for</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="comment">// the two data streams and store them in the corresponding half-word</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="comment">// vectors</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a> = 0; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a> &lt; packet.getPayloadSize() / 16; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a>++) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        file &gt;&gt; gFrame;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">// extract the half words from the 4 32-bit words</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3bb5b8b298cce1126dcbe7e7c7dcbb00">getFrameHalfWords</a>();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        gFrame.updateSyncCheck(mSyncPositions[link]);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      };</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      packetID++;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">// TODO: In future there might be more then one sync in the stream</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">//       this should be takein into account</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> (syncFoundForLink(link)) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9aabe386b298987efc4c795e59bda84a67">DebugLevel::SyncPositions</a>)) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;Sync positions for link &quot;</span> &lt;&lt; link &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>&amp; syncs = mSyncPositions[link];</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; syncs.size(); ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            std::cout &lt;&lt; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; syncs[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#ae75be13bc3ba4fb9d53f2933d435f780">  420</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#ae75be13bc3ba4fb9d53f2933d435f780">RawReaderCRU::processPacket</a>(<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html">GBTFrame</a>&amp; gFrame, uint32_t startPos, uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a>&amp; rawData)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// open the data file</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  file.open(mInputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ifstream::binary</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">if</span> (!file.good())</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to open or access file &quot;</span> + mInputFileName);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// jump to the start position of the packet</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  file.seekg(startPos, file.beg);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// read in the data frame by frame, extract the 5-bit halfwords for</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// the two data streams and store them in the corresponding half-word</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// vectors</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a> = 0; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a> &lt; size / 16; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a>++) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    file &gt;&gt; gFrame;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// extract the half words from the 4 32-bit words</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3bb5b8b298cce1126dcbe7e7c7dcbb00">getFrameHalfWords</a>();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// debug output</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a6da7faa249357dae95e7b26d5739562b">DebugLevel::GBTFrames</a>)) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      std::cout &lt;&lt; gFrame;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    gFrame.getAdcValues(rawData);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    gFrame.updateSyncCheck(<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9aabe386b298987efc4c795e59bda84a67">DebugLevel::SyncPositions</a>));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (!(rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ab25eaf276b984c2aa0403b598f96357f">getNumTimebins</a>() % 16) &amp;&amp; (rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ab25eaf276b984c2aa0403b598f96357f">getNumTimebins</a>() &gt;= mNumTimeBins * 16)) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  };</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#aa407a0023f72ac410b3d42a0b809e59c">  454</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#aa407a0023f72ac410b3d42a0b809e59c">RawReaderCRU::processMemory</a>(<span class="keyword">const</span> std::vector&lt;o2::byte&gt;&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>, <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a>&amp; rawData)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html">GBTFrame</a> gFrame;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// 16 bytes is the size of a GBT frame</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iFrame = 0; iFrame &lt; data.size() / 16; ++iFrame) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a2ad09b6366b90e0fee4b4c64482cbc20">setFrameNumber</a>(iFrame);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a6b90a0e0e81ff1ba7e2de665dbba8bfb">setPacketNumber</a>(iFrame / 508);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">// in readFromMemory a simple memcopy to the internal data structure is done</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// I tried using the memory block directly, storing in an internal data member</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">// reinterpret_cast&lt;const uint32_t*&gt;(data.data() + iFrame * 16), so it could be accessed the</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// same way as the mData array.</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// however, this was ~5% slower in execution time. I suspect due to cache misses</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#ad144c7e56eab52d7be6cb45df0afc121">readFromMemory</a>(gsl::span&lt;const o2::byte&gt;(data.data() + iFrame * 16, 16));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// extract the half words from the 4 32-bit words</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3bb5b8b298cce1126dcbe7e7c7dcbb00">getFrameHalfWords</a>();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// debug output</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a6da7faa249357dae95e7b26d5739562b">DebugLevel::GBTFrames</a>)) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      std::cout &lt;&lt; gFrame;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a5fe9143f1c1bbff3ea81ed6f97381e48">getAdcValues</a>(rawData);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3b29f3c38cba120060f7b35ed00ae4fc">updateSyncCheck</a>(<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9aabe386b298987efc4c795e59bda84a67">DebugLevel::SyncPositions</a>));</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (!(rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ab25eaf276b984c2aa0403b598f96357f">getNumTimebins</a>() % 16) &amp;&amp; (rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ab25eaf276b984c2aa0403b598f96357f">getNumTimebins</a>() &gt;= mNumTimeBins * 16)) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  };</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8890f2df52b5ac6e4e6d9291876cb64f">  487</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8890f2df52b5ac6e4e6d9291876cb64f">RawReaderCRU::getNumberOfEvents</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">return</span> mManager ? mManager-&gt;mEventSync.getNumberOfEvents(mCRU) : 0;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="keywordtype">void</span> RawReaderCRU::fillADCdataMap(<span class="keyword">const</span> <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a>&amp; rawData)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// TODO: Ugly copy below in runADCDataCallback. Modification in here should be also refected there</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; mapper = <a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">Mapper::instance</a>();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// cru and link must be set correctly before</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> cru(mCRU);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> fecLinkOffsetCRU = (mapper.getPartitionInfo(cru.<a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html#aee6e472fe53ee72487088f4d204d9564">partition</a>()).getNumberOfFECs() + 1) / 2;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> fecInPartition = (mLink % 12) + (mLink &gt; 11) * fecLinkOffsetCRU;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> regionIter = mCRU % 2;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> sampaMapping[10] = {0, 0, 1, 1, 2, 3, 3, 4, 4, 2};</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> channelOffset[10] = {0, 16, 0, 16, 0, 0, 16, 0, 16, 16};</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> istreamm = 0; istreamm &lt; 5; ++istreamm) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> partitionStream = istreamm + regionIter * 5;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sampa = sampaMapping[partitionStream];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dataVector = rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac4d517aba19cc31c9cf54b3227d8f891">getDataVector</a>(istreamm);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// loop over all data. Each stream has 16 ADC values for each sampa channel times nTimeBins</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> idata = 0; idata &lt; dataVector.size(); ++idata) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> ichannel = idata % 16;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> sampaChannel = ichannel + channelOffset[partitionStream];</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; padPos = mapper.padPosRegion(cru.<a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html#a082103512f1e7e1e790ea359bdea1f19">region</a>(), fecInPartition, sampa, sampaChannel);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      mADCdata[padPos].emplace_back(dataVector[idata]);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a713cc95fa497a3ddf88efa8de3687d19">  522</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a713cc95fa497a3ddf88efa8de3687d19">RawReaderCRU::runADCDataCallback</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a>&amp; rawData)</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// TODO: Ugly copy below in runADCDataCallback. Modification in here should be also refected there</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; mapper = <a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">Mapper::instance</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// cru and link must be set correctly before</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> cru(mCRU);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> fecLinkOffsetCRU = (mapper.getPartitionInfo(cru.<a class="code" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html#aee6e472fe53ee72487088f4d204d9564">partition</a>()).getNumberOfFECs() + 1) / 2;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> fecInPartition = (mLink % 12) + (mLink &gt; 11) * fecLinkOffsetCRU;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> regionIter = mCRU % 2;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> sampaMapping[10] = {0, 0, 1, 1, 2, 3, 3, 4, 4, 2};</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> channelOffset[10] = {0, 16, 0, 16, 0, 0, 16, 0, 16, 16};</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> istreamm = 0; istreamm &lt; 5; ++istreamm) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> partitionStream = istreamm + regionIter * 5;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sampa = sampaMapping[partitionStream];</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dataVector = rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac4d517aba19cc31c9cf54b3227d8f891">getDataVector</a>(istreamm);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">if</span> (dataVector.size() &lt; 16) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// loop over all data. Each stream has 16 ADC values for each sampa channel times nTimeBins</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ichannel = 0; ichannel &lt; 16; ++ichannel) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> sampaChannel = ichannel + channelOffset[partitionStream];</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; padPos = mapper.padROCPos(cru, fecInPartition, sampa, sampaChannel);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="comment">//printf(&quot;Fill: %d %d %d %d / %d %d %d\n&quot;, int(mCRU), int(cru.roc()), ichannel, sampaChannel, int(padPos.getROC()), int(padPos.getRow()), int(padPos.getPad()));</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      mManager-&gt;mADCDataCallback(padPos, cru, gsl::span&lt;const uint32_t&gt;(dataVector.data() + ichannel, dataVector.size() - ichannel));</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a1457cb7d5cd7675ebd8dcdaff6b0056c">  555</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a1457cb7d5cd7675ebd8dcdaff6b0056c">RawReaderCRU::processDataFile</a>()</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html">GBTFrame</a> gFrame;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">//gFrame.setSyncPositions(mSyncPositions[mLink]);</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a> rawData;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (mVerbosity) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Processing data for link &quot;</span> &lt;&lt; mLink &lt;&lt; std::endl;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Num packets : &quot;</span> &lt;&lt; mPacketsPerLink[mLink] &lt;&lt; std::endl;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// ===| mapping to be updated |===============================================</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">//CRU cru; // assuming each decoder only hast once CRU</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> link = mLink;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; linkInfoArray = mManager-&gt;mEventSync.getLinkInfoArrayForEvent(mEventNumber, mCRU);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// loop over the packets for each link and process them</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">//for (const auto&amp; packet : mPacketDescriptorMaps[link]) {</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> packetNumber : linkInfoArray[link].PacketPositions) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; packet = mPacketDescriptorMaps[link][packetNumber];</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">//cru = packet.getCRUID();</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// std::cout &lt;&lt; &quot;Packet : &quot; &lt;&lt; packetID &lt;&lt; std::endl;</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a6b90a0e0e81ff1ba7e2de665dbba8bfb">setPacketNumber</a>(packetNumber);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordtype">int</span> retCode = processPacket(gFrame, packet.getPayloadOffset(), packet.getPayloadSize(), rawData);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (retCode) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">//if (rawData.getNumTimebins() &gt;= mNumTimeBins * 16)</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">//break;</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  };</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// ===| fill ADC data to the output structure |===</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (mFillADCdataMap) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    fillADCdataMap(rawData);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">if</span> (mManager &amp;&amp; mManager-&gt;mADCDataCallback) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    runADCDataCallback(rawData);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// std::cout &lt;&lt; &quot;Output Data&quot; &lt;&lt; std::endl;</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">if</span> (mDumpTextFiles) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    std::ofstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    std::string fileName;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; 5; s++) {</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">if</span> (mStream == 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a98ac434677655cc8438bb72de2719f39">x0</a> or ((mStream &gt;&gt; s) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0x1) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> (gFrame.<a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a8218634a10153828a1809107046d9509">mSyncFound</a>(s) == <span class="keyword">false</span>) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;No sync found&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="comment">// debug output</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac94aeb8a3488c38305ea35d705a9bd19">setOutputStream</a>(s);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        rawData.<a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac01e2ad27a6c1c05c0e17689e81c16f3">setNumTimebins</a>(mNumTimeBins);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9acf7df0a69b5dd86a8dd59d4b3a0cf9f2">DebugLevel::ADCValues</a>)) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          std::cout &lt;&lt; rawData &lt;&lt; std::endl;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        };</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment">// write the data to file</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">//fileName = &quot;ADC_&quot; + std::to_string(mLink) + &quot;_&quot; + std::to_string(s);</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        fileName = mOutputFilePrefix + <span class="stringliteral">&quot;_ADC_&quot;</span> + std::to_string(mLink) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(s) + <span class="stringliteral">&quot;.txt&quot;</span>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        file.open(fileName, std::ofstream::out);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        file &lt;&lt; rawData;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        file.close();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a683a3e6c9ec625563f667d1f51ac0137">  627</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a683a3e6c9ec625563f667d1f51ac0137">RawReaderCRU::processDataMemory</a>()</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (mVerbosity) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Processing data for link &quot;</span> &lt;&lt; mLink &lt;&lt; std::endl;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Num packets : &quot;</span> &lt;&lt; mPacketsPerLink[mLink] &lt;&lt; std::endl;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a4e6d4067fb0d4a480d4e22a3bc1cec9e">dataSize</a> = 4000 * 16;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">//if (mDataType == DataType::HBScaling) {</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">//dataSize =</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">//} else if (mDataType == DataType::Triggered) {</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"></span>  <span class="comment">//dataSize = 4000 * 16;</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">//}</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  std::vector&lt;o2::byte&gt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>(dataSize);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  collectGBTData(data);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">ADCRawData</a> rawData;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  processMemory(data, rawData);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// ===| fill ADC data to the output structure |===</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (mFillADCdataMap) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    fillADCdataMap(rawData);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (mManager &amp;&amp; mManager-&gt;mADCDataCallback) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    runADCDataCallback(rawData);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="keywordtype">void</span> RawReaderCRU::collectGBTData(std::vector&lt;o2::byte&gt;&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> link = mLink;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; mapper = <a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">Mapper::instance</a>();</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; linkInfoArray = mManager-&gt;mEventSync.getLinkInfoArrayForEvent(mEventNumber, mCRU);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  file.open(mInputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ios::binary</a>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (!file.good())</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to open or access file &quot;</span> + mInputFileName);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">size_t</span> presentDataPosition = 0;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">// loop over the packets for each link and process them</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">//for (const auto&amp; packet : mPacketDescriptorMaps[link]) {</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> packetNumber : linkInfoArray[link].PacketPositions) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; packet = mPacketDescriptorMaps[link][packetNumber];</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> payloadStart = packet.getPayloadOffset();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> payloadSize = <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">std::min</a>(<span class="keywordtype">size_t</span>(packet.getPayloadSize()), data.size() - presentDataPosition);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// jump to the start position of the packet</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    file.seekg(payloadStart, std::ios::beg);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// read data</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    file.read(((<span class="keywordtype">char</span>*)data.data()) + presentDataPosition, payloadSize);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    presentDataPosition += payloadSize;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  };</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a5e393e5f9f3ef728448d7877753190e6">  690</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a5e393e5f9f3ef728448d7877753190e6">RawReaderCRU::processLinks</a>(<span class="keyword">const</span> uint32_t linkMask)</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// read the input data from file, create the packet descriptor map</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// and the mLinkPresent map.</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    scanFile();</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// check if selected event is valid</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (mManager &amp;&amp; mEventNumber &gt;= mManager-&gt;mEventSync.getNumberOfEvents()) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      O2ERROR(<span class="stringliteral">&quot;Selected event number %u is larger then the events in the file %lu&quot;</span>, mEventNumber, mManager-&gt;mEventSync.getNumberOfEvents());</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// loop over the MaxNumberOfLinks potential links in the data</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// only if data from the link is present and selected</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// for decoding it will be decoded.</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lnk = 0; lnk &lt; MaxNumberOfLinks; lnk++) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="comment">// all links have been selected</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">if</span> (linkMask == 0 &amp;&amp; checkLinkPresent(lnk) == <span class="keyword">true</span>) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// set the active link variable and process the data</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">if</span> (mDebugLevel) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          <a class="code" href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">fmt::print</a>(<span class="stringliteral">&quot;Processing link {}\n&quot;</span>, lnk);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        setLink(lnk);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="comment">//processDataFile();</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        processDataMemory();</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((linkMask &gt;&gt; lnk) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0x1 &amp;&amp; checkLinkPresent(lnk) == <span class="keyword">true</span>) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="comment">// set the active link variable and process the data</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">if</span> (mDebugLevel) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          <a class="code" href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">fmt::print</a>(<span class="stringliteral">&quot;Processing link {}\n&quot;</span>, lnk);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        setLink(lnk);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="comment">//processDataFile();</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        processDataMemory();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      };</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    };</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="../../d7/d19/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1Error.html">RawReaderCRU::Error</a>&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    exit(10);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    exit(100);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  } <span class="keywordflow">catch</span> (...) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: Unknown error&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    exit(1000);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;}</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a3456e584139b2fba9bfdc4c971cdaef3">  739</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a3456e584139b2fba9bfdc4c971cdaef3">RawReaderCRU::processFile</a>(<span class="keyword">const</span> std::string_view inputFile, uint32_t timeBins, uint32_t linkMask, uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#ad02d2488127e1cf9a27262c4ee30ba85">stream</a>, uint32_t debugLevel, uint32_t verbosity, <span class="keyword">const</span> std::string_view outputFilePrefix)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// Instantiate the RawReaderCRU</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html">RawReaderCRUManager</a> cruManager;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  cruManager.<a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a982079ad02ef71fd9f9e954aadba12d3">setDebugLevel</a>(debugLevel);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html">RawReaderCRU</a>&amp; rawReaderCRU = cruManager.<a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a838e13ad1616e47cb094e289fb7d0fb0">createReader</a>(inputFile, timeBins, 0, stream, debugLevel, verbosity, outputFilePrefix);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  cruManager.<a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a10723216ce08ced0419f39c6d3266820">init</a>();</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  rawReaderCRU.mDumpTextFiles = <span class="keyword">true</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  rawReaderCRU.mFillADCdataMap = <span class="keyword">false</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ievent = 0; ievent &lt; rawReaderCRU.<a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8890f2df52b5ac6e4e6d9291876cb64f">getNumberOfEvents</a>(); ++ievent) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">fmt::print</a>(<span class="stringliteral">&quot;=============| event {: 5d} |===============\n&quot;</span>, ievent);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    rawReaderCRU.<a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a723a32a79749ab64f137047614bd41d4">setEventNumber</a>(ievent);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    rawReaderCRU.<a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a5e393e5f9f3ef728448d7877753190e6">processLinks</a>(linkMask);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8020cb6e1f3eff217d02aa412edd6818">  755</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8020cb6e1f3eff217d02aa412edd6818">RawReaderCRU::copyEvents</a>(<span class="keyword">const</span> std::vector&lt;uint32_t&gt;&amp; eventNumbers, std::string outputDirectory, std::ios_base::openmode <a class="code" href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>)</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;{</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// assemble output file name</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  std::string outputFileName(gSystem-&gt;BaseName(mInputFileName.data()));</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> (outputDirectory.empty()) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    outputFileName.insert(0, <span class="stringliteral">&quot;filtered.&quot;</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    outputDirectory = gSystem-&gt;DirName(mInputFileName.data());</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  outputFileName.insert(0, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  outputFileName.insert(0, outputDirectory);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  std::ofstream outputFile(outputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ios_base::binary</a> | mode);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// open the input file</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  file.open(mInputFileName, <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ifstream::binary</a>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (!file.good()) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Unable to open or access file &quot;</span> + mInputFileName);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// data buffer. Maximum size is 8k</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>[8192];</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">// loop over events</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> eventNumber : eventNumbers) {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; linkInfoArray = mManager-&gt;mEventSync.getLinkInfoArrayForEvent(eventNumber, mCRU);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iLink = 0; iLink &lt; MaxNumberOfLinks; ++iLink) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; linkInfo = linkInfoArray[iLink];</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (!linkInfo.IsPresent) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> packetNumber : linkInfo.PacketPositions) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; packet = mPacketDescriptorMaps[iLink][packetNumber];</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        file.seekg(packet.getHeaderOffset(), file.beg);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        file.read(buffer, packet.getPacketSize());</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        outputFile.write(buffer, packet.getPacketSize());</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">//==============================================================================</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">//===| stream overloads for helper classes |====================================</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#a67d0237bffb186fa82642bcf164d6831">  801</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#a67d0237bffb186fa82642bcf164d6831">ADCRawData::streamTo</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> numTimeBins = <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">std::min</a>(getNumTimebins(), mNumTimeBins);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numTimeBins * 16; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> % 16 == 0)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      output &lt;&lt; std::setw(4) &lt;&lt; std::to_string(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> / 16) &lt;&lt; <span class="stringliteral">&quot; : &quot;</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    output &lt;&lt; std::setw(4) &lt;&lt; mADCRaw[(mOutputStream)][<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    output &lt;&lt; (((<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) % 16 == 0) ? <span class="stringliteral">&quot;\n&quot;</span> : <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  };</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;};</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno"><a class="line" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#ab9041cbddaa68d41d486e1fe3cb02edb">  812</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#ab9041cbddaa68d41d486e1fe3cb02edb">GBTFrame::streamFrom</a>(std::istream&amp; input)</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;{</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  mFilePos = input.tellg();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  mFrameNum++;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    input.read(reinterpret_cast&lt;char*&gt;(&amp;(mData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])), <span class="keyword">sizeof</span>(mData[i]));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  };</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">//std::ostream&amp; operator&lt;&lt;(std::ostream&amp; output, const RawReaderCRU::GBTFrame&amp; frame)</span></div><div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#acc77847cec13e05016d719e8a2659b4f">  822</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#acc77847cec13e05016d719e8a2659b4f">GBTFrame::streamTo</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = mPrevHWpos ^ 4;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  output &lt;&lt; std::dec &lt;&lt; <span class="stringliteral">&quot;\033[94m&quot;</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mPacketNum &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mFilePos &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mFrameNum &lt;&lt; <span class="stringliteral">&quot; : &quot;</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;         &lt;&lt; std::hex</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mData[3] &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mData[2] &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mData[1] &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;         &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(8) &lt;&lt; mData[0] &lt;&lt; <span class="stringliteral">&quot; : &quot;</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;\033[0m&quot;</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 4; j++) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      output &lt;&lt; std::hex &lt;&lt; std::setw(4) &lt;&lt; mFrameHalfWords[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j + <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    output &lt;&lt; <span class="stringliteral">&quot;| &quot;</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  };</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  output &lt;&lt; std::endl;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;}</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">//friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; output, const PacketDescriptor&amp; PD)</span></div><div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="../../d5/dda/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1PacketDescriptor.html#aedbccffed31b89d04f6bde3443c41141">  845</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/dda/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1PacketDescriptor.html#aedbccffed31b89d04f6bde3443c41141">RawReaderCRU::PacketDescriptor::streamTo</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;===| Packet Descriptor |=================================&quot;</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;CRU ID         :  &quot;</span> &lt;&lt; std::dec &lt;&lt; getCRUID() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;Link ID        :  &quot;</span> &lt;&lt; getLinkID() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;Global Link ID :  &quot;</span> &lt;&lt; getGlobalLinkID() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;Header Offset  :  &quot;</span> &lt;&lt; getHeaderOffset() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;Payload Offset :  &quot;</span> &lt;&lt; getPayloadOffset() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;Payload Size   :  &quot;</span> &lt;&lt; getPayloadSize() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#af35e31851eaa444ea9a0170b6215c693">  858</a></span>&#160;std::ostream&amp; <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#af33e20c4a00ebcc3933dd060398bfc8a">operator&lt;&lt;</a>(std::ostream&amp; <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>, <span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh)</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;{</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word0            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ae04ea718d6a03caec664690c8b3a302c">word0</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  version        : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a14cd97f8ccb7e1c873894a84cd2b38dd">version</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  headerSize     : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  blockLength    : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">blockLength</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  feeId          : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  priority       : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a55c432dc8e7d01d83f0b7619fbd3ba81">priority</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  zero0          : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a53ed9bd1e08a8b029ea77ce36847e85c">zero0</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word1            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a200d9fa63f0f84cb9e496943fa021f22">word1</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  Offset to next : &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  Memory size    : &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  LinkID         : &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">linkID</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  Global LinkID  : &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">linkID</a>) + (((rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a200d9fa63f0f84cb9e496943fa021f22">word1</a> &gt;&gt; 32) &gt;&gt; 28) * 12) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  CRUid          : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a6a60bb796177863c67a8342731055c14">cruID</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  Packet Counter : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a8e718af75fac42d758060834390cd3d8">packetCounter</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  DataWrapper-ID : &quot;</span> &lt;&lt; (((rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a200d9fa63f0f84cb9e496943fa021f22">word1</a> &gt;&gt; 32) &gt;&gt; 28) &amp; 0x01) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word2            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa46569fb00bfd02ce3cd3471b5fcb56f">word2</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  triggerOrbit   : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">triggerOrbit</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  heartbeatOrbit : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word3            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a68ebff84f4eaa0a84af05b9869b7136e">word3</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word4            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5d9690fdd8a206a96ab20e03bd7e09a6">word4</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  triggerBC      : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  zero41         : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ade7916fb6d252edea663f62294c6b058">zero41</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  heartbeatBC    : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  zero42         : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a595abb71ce5620eaaa4d661482e93d72">zero42</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  triggerType    : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word5            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a33b7744150aac4afff1bafb0aa1eac6c">word5</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word6            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af3579075bbc8aab630293fb0e11fb74a">word6</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  detectorField  : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7b5f9e03ba7edc20861a57dbb2f51abe">detectorField</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  par            : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#afa26cf1cd217ce5824a01308cda5c3cc">par</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  stop           : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">stop</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  pageCnt        : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;  zero6          : &quot;</span> &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa820c3404891b7ae536315de52df71be">zero6</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;word7            : 0x&quot;</span> &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(16) &lt;&lt; std::hex &lt;&lt; rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7cf0f600baa72e67fd21eb36db3922d4">word7</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;         &lt;&lt; std::dec;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  output &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#a463abe7d682b6ef6fc100e18d872d4e7">  920</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a463abe7d682b6ef6fc100e18d872d4e7">printHeader</a>()</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <a class="code" href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">fmt::print</a>(<span class="stringliteral">&quot;{:&gt;5} {:&gt;4} {:&gt;4} {:&gt;4} {:&gt;6} {:&gt;4} {:&gt;3} {:&gt;4} {:&gt;10} {:&gt;5} {:&gt;1}\n&quot;</span>,</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;             <span class="stringliteral">&quot;PkC&quot;</span>, <span class="stringliteral">&quot;pCnt&quot;</span>, <span class="stringliteral">&quot;trg&quot;</span>, <span class="stringliteral">&quot;fId&quot;</span>, <span class="stringliteral">&quot;OffN&quot;</span>, <span class="stringliteral">&quot;Mem&quot;</span>, <span class="stringliteral">&quot;CRU&quot;</span>, <span class="stringliteral">&quot;GLID&quot;</span>, <span class="stringliteral">&quot;HBOrbit&quot;</span>, <span class="stringliteral">&quot;HBBC&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;}</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#a2638a924b975fa7c022e030e639058d1">  926</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a2638a924b975fa7c022e030e639058d1">printHorizontal</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh)</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;{</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> globalLinkID = <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">linkID</a>) + (((rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a200d9fa63f0f84cb9e496943fa021f22">word1</a> &gt;&gt; 32) &gt;&gt; 28) * 12);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">fmt::print</a>(<span class="stringliteral">&quot;{:&gt;5} {:&gt;4} {:&gt;4} {:&gt;4} {:&gt;6} {:&gt;4} {:&gt;3} {:&gt;4} {:&gt;10} {:&gt;5} {:&gt;1}\n&quot;</span>,</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a8e718af75fac42d758060834390cd3d8">packetCounter</a>,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a>,</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a>,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a6a60bb796177863c67a8342731055c14">cruID</a>,</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)globalLinkID,</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a>,</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a>,</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;             (<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a>)rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">stop</a>);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="../../d2/d24/RawReaderCRU_8cxx.html#aa4e51bcd405519ffd74f586337b5f162">  944</a></span>&#160;std::istream&amp; <a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#aa4e51bcd405519ffd74f586337b5f162">operator&gt;&gt;</a>(std::istream&amp; input, <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">RDH</a>&amp; rdh)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;{</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> headerSize = <span class="keyword">sizeof</span>(rdh);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">auto</span> charPtr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(&amp;rdh);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  input.read(charPtr, headerSize);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">return</span> input;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">//==============================================================================</span></div><div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a10723216ce08ced0419f39c6d3266820">  953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a10723216ce08ced0419f39c6d3266820">RawReaderCRUManager::init</a>()</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">if</span> (mIsInitialized) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; reader : mRawReadersCRU) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    reader-&gt;scanFile();</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  mEventSync.sortEvents();</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  mEventSync.analyse();</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  O2INFO(<span class="stringliteral">&quot;Event information:&quot;</span>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  O2INFO(<span class="stringliteral">&quot;    Number of all events:      %lu&quot;</span>, <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5dacc1a8036160ee31dc0eb95999d101">getNumberOfEvents</a>());</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  O2INFO(<span class="stringliteral">&quot;    Number of complete events: %lu&quot;</span>, <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#ab1ff722cd2bdc3296d8ab7699805ca40">getNumberOfCompleteEvents</a>());</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a>(mDebugLevel, <a class="code" href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a59df001666c9e7175f49e9035dd614e8">DebugLevel::EventInfo</a>)) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    std::cout &lt;&lt; mEventSync;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  }</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  mIsInitialized = <span class="keyword">true</span>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a22fc2ea38056f1e14ac15a6fd0716fb6">  977</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a22fc2ea38056f1e14ac15a6fd0716fb6">RawReaderCRUManager::setupReaders</a>(<span class="keyword">const</span> std::string_view inputFileNames,</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                                       uint32_t numTimeBins,</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                       uint32_t debugLevel,</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                       uint32_t verbosity,</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                       <span class="keyword">const</span> std::string_view outputFilePrefix)</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;{</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a3ebb30aff01a32cb965ddba3f1eea368">reset</a>();</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keyword">const</span> TString files = gSystem-&gt;GetFromPipe(TString::Format(<span class="stringliteral">&quot;ls %s&quot;</span>, inputFileNames.data()));</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  std::unique_ptr&lt;TObjArray&gt; arr(files.Tokenize(<span class="stringliteral">&quot;\n&quot;</span>));</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  setDebugLevel(debugLevel);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a> : *arr) {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// fix the number of time bins</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keyword">auto</span>&amp; reader = createReader(<a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>-&gt;GetName(), numTimeBins);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    reader.setVerbosity(verbosity);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    reader.setDebugLevel(debugLevel);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    O2INFO(<span class="stringliteral">&quot;Adding file: %s\n&quot;</span>, <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>-&gt;GetName());</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a8944809e3a2a028540c40403383d67b2">  997</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a8944809e3a2a028540c40403383d67b2">RawReaderCRUManager::copyEvents</a>(<span class="keyword">const</span> std::vector&lt;uint32_t&gt; eventNumbers, std::string_view outputDirectory, std::ios_base::openmode <a class="code" href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>)</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;{</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// make sure events have been built</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  init();</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; rawReader : mRawReadersCRU) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    rawReader-&gt;copyEvents(eventNumbers, outputDirectory.data(), <a class="code" href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#abf8814c584e61cd1fdeea5dc3d5cbb22"> 1006</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a8944809e3a2a028540c40403383d67b2">RawReaderCRUManager::copyEvents</a>(<span class="keyword">const</span> std::string_view inputFileNames, <span class="keyword">const</span> std::vector&lt;uint32_t&gt; eventNumbers, std::string_view outputDirectory, std::ios_base::openmode <a class="code" href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>)</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html">RawReaderCRUManager</a> manager;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  manager.<a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a22fc2ea38056f1e14ac15a6fd0716fb6">setupReaders</a>(inputFileNames);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  manager.<a class="code" href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a8944809e3a2a028540c40403383d67b2">copyEvents</a>(eventNumbers, outputDirectory, mode);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div><div class="ttc" id="glcorearb_8h_html_ad02d2488127e1cf9a27262c4ee30ba85"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ad02d2488127e1cf9a27262c4ee30ba85">stream</a></div><div class="ttdeci">GLuint GLuint stream</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01806">glcorearb.h:1806</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a44ae0b14f44563124b01abb4e10a119fad5405284cbf9e19f4fb464bdadd0b009"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fad5405284cbf9e19f4fb464bdadd0b009">o2::tpc::rawreader::DataType::HBScaling</a></div><div class="ttdoc">heart beat sclaing mode </div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a8020cb6e1f3eff217d02aa412edd6818"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8020cb6e1f3eff217d02aa412edd6818">o2::tpc::rawreader::RawReaderCRU::copyEvents</a></div><div class="ttdeci">void copyEvents(const std::vector&lt; uint32_t &gt; &amp;eventNumbers, std::string outputDirectory, std::ios_base::openmode mode=std::ios_base::openmode(0))</div><div class="ttdoc">copy single events to another file </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00755">RawReaderCRU.cxx:755</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a68ebff84f4eaa0a84af05b9869b7136e"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a68ebff84f4eaa0a84af05b9869b7136e">o2::header::RAWDataHeaderV4::word3</a></div><div class="ttdeci">uint64_t word3</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00322">RAWDataHeader.h:322</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ac369b7ad36d11a12b3fe1314ede8b455"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">o2::header::RAWDataHeaderV4::headerSize</a></div><div class="ttdeci">uint64_t headerSize</div><div class="ttdoc">bit 0 to 7: header version </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00296">RAWDataHeader.h:296</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1PacketDescriptor_html_aedbccffed31b89d04f6bde3443c41141"><div class="ttname"><a href="../../d5/dda/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1PacketDescriptor.html#aedbccffed31b89d04f6bde3443c41141">o2::tpc::rawreader::RawReaderCRU::PacketDescriptor::streamTo</a></div><div class="ttdeci">void streamTo(std::ostream &amp;output) const</div><div class="ttdoc">write data to ostream </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00845">RawReaderCRU.cxx:845</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a595abb71ce5620eaaa4d661482e93d72"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a595abb71ce5620eaaa4d661482e93d72">o2::header::RAWDataHeaderV4::zero42</a></div><div class="ttdeci">uint64_t zero42</div><div class="ttdoc">bit 48 to 59: heartbeat BC ID </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00330">RAWDataHeader.h:330</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_a3ebb30aff01a32cb965ddba3f1eea368"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a3ebb30aff01a32cb965ddba3f1eea368">o2::tpc::rawreader::RawReaderCRUEventSync::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">reset all information </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00445">RawReaderCRU.h:445</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a5e393e5f9f3ef728448d7877753190e6"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a5e393e5f9f3ef728448d7877753190e6">o2::tpc::rawreader::RawReaderCRU::processLinks</a></div><div class="ttdeci">void processLinks(const uint32_t linkMask=0)</div><div class="ttdoc">process links </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00690">RawReaderCRU.cxx:690</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_af33e20c4a00ebcc3933dd060398bfc8a"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#af33e20c4a00ebcc3933dd060398bfc8a">o2::tpc::rawreader::RawReaderCRUEventSync::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;output, const RawReaderCRUEventSync &amp;eventSync)</div><div class="ttdoc">overloading output stream operator </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00452">RawReaderCRU.h:452</a></div></div>
<div class="ttc" id="RawReaderCRU_8cxx_html_a463abe7d682b6ef6fc100e18d872d4e7"><div class="ttname"><a href="../../d2/d24/RawReaderCRU_8cxx.html#a463abe7d682b6ef6fc100e18d872d4e7">printHeader</a></div><div class="ttdeci">void printHeader()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00920">RawReaderCRU.cxx:920</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ad297efc4595998e07ee40fc82473b682"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">o2::header::RAWDataHeaderV4::feeId</a></div><div class="ttdeci">uint64_t feeId</div><div class="ttdoc">bit 16 to 31: block length </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00298">RAWDataHeader.h:298</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a2a3c734c270796c35b77c17402e4905e"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">o2::header::RAWDataHeaderV4::triggerOrbit</a></div><div class="ttdeci">uint32_t triggerOrbit</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00317">RAWDataHeader.h:317</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ad9f716f9a89a944782b9db6820e5df8e"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">o2::header::RAWDataHeaderV4::offsetToNext</a></div><div class="ttdeci">uint32_t offsetToNext</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00306">RAWDataHeader.h:306</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html_ac4d517aba19cc31c9cf54b3227d8f891"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac4d517aba19cc31c9cf54b3227d8f891">o2::tpc::rawreader::ADCRawData::getDataVector</a></div><div class="ttdeci">const DataVector &amp; getDataVector(int stream) const</div><div class="ttdoc">get the data vector for a specific stream </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00124">RawReaderCRU.h:124</a></div></div>
<div class="ttc" id="namespaceo2_1_1header_html_a1382d043a29d3edd8ec00b89e0f89fa6"><div class="ttname"><a href="../../de/dd4/namespaceo2_1_1header.html#a1382d043a29d3edd8ec00b89e0f89fa6">o2::header::RAWDataHeader</a></div><div class="ttdeci">RAWDataHeaderV4 RAWDataHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00427">RAWDataHeader.h:427</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html_ac94aeb8a3488c38305ea35d705a9bd19"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac94aeb8a3488c38305ea35d705a9bd19">o2::tpc::rawreader::ADCRawData::setOutputStream</a></div><div class="ttdeci">void setOutputStream(uint32_t outStream)</div><div class="ttdoc">select the stream for which data should be processed </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00097">RawReaderCRU.h:97</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a55c432dc8e7d01d83f0b7619fbd3ba81"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a55c432dc8e7d01d83f0b7619fbd3ba81">o2::header::RAWDataHeaderV4::priority</a></div><div class="ttdeci">uint64_t priority</div><div class="ttdoc">bit 32 to 47: FEE identifier </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00299">RAWDataHeader.h:299</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html">o2::tpc::rawreader::GBTFrame</a></div><div class="ttdoc">helper to encapsulate a GBTFrame </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00190">RawReaderCRU.h:190</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_a57f3a5cca3882873ceb4730bb3594e93"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a57f3a5cca3882873ceb4730bb3594e93">o2::tpc::rawreader::RawReaderCRUEventSync::analyse</a></div><div class="ttdeci">void analyse()</div><div class="ttdoc">analyse events and mark complete events </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00060">RawReaderCRU.cxx:60</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a44ae0b14f44563124b01abb4e10a119fa073b1bbd5b71098e61f7c3b8240a29bf"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fa073b1bbd5b71098e61f7c3b8240a29bf">o2::tpc::rawreader::DataType::Triggered</a></div><div class="ttdoc">triggered data </div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html_ab25eaf276b984c2aa0403b598f96357f"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ab25eaf276b984c2aa0403b598f96357f">o2::tpc::rawreader::ADCRawData::getNumTimebins</a></div><div class="ttdeci">uint32_t getNumTimebins() const</div><div class="ttdoc">number of time bin for selected stream </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00111">RawReaderCRU.h:111</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_acc77847cec13e05016d719e8a2659b4f"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#acc77847cec13e05016d719e8a2659b4f">o2::tpc::rawreader::GBTFrame::streamTo</a></div><div class="ttdeci">void streamTo(std::ostream &amp;output) const</div><div class="ttdoc">write data to ostream </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00822">RawReaderCRU.cxx:822</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0ace813ee1f7020974174eb65d53ff0d"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">binary</a></div><div class="ttdeci">const GLuint GLenum const void * binary</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01898">glcorearb.h:1898</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_a5dacc1a8036160ee31dc0eb95999d101"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5dacc1a8036160ee31dc0eb95999d101">o2::tpc::rawreader::RawReaderCRUEventSync::getNumberOfEvents</a></div><div class="ttdeci">size_t getNumberOfEvents() const</div><div class="ttdoc">get number of all events </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00399">RawReaderCRU.h:399</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a33b7744150aac4afff1bafb0aa1eac6c"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a33b7744150aac4afff1bafb0aa1eac6c">o2::header::RAWDataHeaderV4::word5</a></div><div class="ttdeci">uint64_t word5</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00335">RAWDataHeader.h:335</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo_html_a6496ebc653b6502d555e08afbde3b470"><div class="ttname"><a href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a6496ebc653b6502d555e08afbde3b470">o2::tpc::rawreader::RawReaderCRUEventSync::LinkInfo::PacketPositions</a></div><div class="ttdeci">std::vector&lt; size_t &gt; PacketPositions</div><div class="ttdoc">all packet positions of this link in an event </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00306">RawReaderCRU.h:306</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeaderV4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00285">RAWDataHeader.h:285</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a44ae0b14f44563124b01abb4e10a119f"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119f">o2::tpc::rawreader::DataType</a></div><div class="ttdeci">DataType</div><div class="ttdoc">data type </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00057">RawReaderCRU.h:57</a></div></div>
<div class="ttc" id="namespaceo2_1_1mid_html_aca82e9e929edf59c003b2a1b07a3ec69"><div class="ttname"><a href="../../df/d18/namespaceo2_1_1mid.html#aca82e9e929edf59c003b2a1b07a3ec69">o2::mid::clear</a></div><div class="ttdeci">simClustering correlation clear()</div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a2ad09b6366b90e0fee4b4c64482cbc20"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a2ad09b6366b90e0fee4b4c64482cbc20">o2::tpc::rawreader::GBTFrame::setFrameNumber</a></div><div class="ttdeci">void setFrameNumber(uint32_t frameNumber)</div><div class="ttdoc">set packet number </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00253">RawReaderCRU.h:253</a></div></div>
<div class="ttc" id="testBareElinkEncoder_8cxx_html_a61d454dcf3f57efb6c741c369b92cbf8"><div class="ttname"><a href="../../d7/d33/testBareElinkEncoder_8cxx.html#a61d454dcf3f57efb6c741c369b92cbf8">print</a></div><div class="ttdeci">void print(const char *msg, const ElinkEncoder&lt; FORMAT, CHARGESUM &gt; &amp;enc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d33/testBareElinkEncoder_8cxx_source.html#l00119">testBareElinkEncoder.cxx:119</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a62cdd0a755b6c5ccf0f1d11da3be99e9a6da7faa249357dae95e7b26d5739562b"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a6da7faa249357dae95e7b26d5739562b">o2::tpc::rawreader::GBTFrames</a></div><div class="ttdoc">dump all GBT frames </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00050">RawReaderCRU.h:50</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a7cf0f600baa72e67fd21eb36db3922d4"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7cf0f600baa72e67fd21eb36db3922d4">o2::header::RAWDataHeaderV4::word7</a></div><div class="ttdeci">uint64_t word7</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00348">RAWDataHeader.h:348</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a14cd97f8ccb7e1c873894a84cd2b38dd"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a14cd97f8ccb7e1c873894a84cd2b38dd">o2::header::RAWDataHeaderV4::version</a></div><div class="ttdeci">uint64_t version</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00295">RAWDataHeader.h:295</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a6b90a0e0e81ff1ba7e2de665dbba8bfb"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a6b90a0e0e81ff1ba7e2de665dbba8bfb">o2::tpc::rawreader::GBTFrame::setPacketNumber</a></div><div class="ttdeci">void setPacketNumber(uint32_t packetNumber)</div><div class="ttdoc">set packet number </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00250">RawReaderCRU.h:250</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_afa26cf1cd217ce5824a01308cda5c3cc"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#afa26cf1cd217ce5824a01308cda5c3cc">o2::header::RAWDataHeaderV4::par</a></div><div class="ttdeci">uint64_t par</div><div class="ttdoc">bit 32 to 47: detector field </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00341">RAWDataHeader.h:341</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html_a8944809e3a2a028540c40403383d67b2"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a8944809e3a2a028540c40403383d67b2">o2::tpc::rawreader::RawReaderCRUManager::copyEvents</a></div><div class="ttdeci">void copyEvents(const std::vector&lt; uint32_t &gt; eventNumbers, std::string_view outputDirectory, std::ios_base::openmode mode=std::ios_base::openmode(0))</div><div class="ttdoc">copy single events to another file </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00997">RawReaderCRU.cxx:997</a></div></div>
<div class="ttc" id="RawReaderCRU_8cxx_html_aa4e51bcd405519ffd74f586337b5f162"><div class="ttname"><a href="../../d2/d24/RawReaderCRU_8cxx.html#aa4e51bcd405519ffd74f586337b5f162">operator&gt;&gt;</a></div><div class="ttdeci">std::istream &amp; operator&gt;&gt;(std::istream &amp;input, RDH &amp;rdh)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00944">RawReaderCRU.cxx:944</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ab7fb625dfadb7c815fc46d8dd5d6b012"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time frames(excluding borders)&quot;) AddOption(eventStride</div></div>
<div class="ttc" id="qconfigoptions_8h_html_ad08a37964429d340d966dfa679443e8f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3667f558219c90437106b544a3ca00b8"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00655">glcorearb.h:655</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a5994b4e70b9cabdfa2e3a930ae735528"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">o2::header::RAWDataHeaderV4::blockLength</a></div><div class="ttdeci">uint64_t blockLength</div><div class="ttdoc">bit 8 to 15: header size </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00297">RAWDataHeader.h:297</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8e8a78e36205bada4146dc581c95f82c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a></div><div class="ttdeci">GLintptr offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00660">glcorearb.h:660</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html">o2::tpc::rawreader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00044">RawReaderCRU.h:44</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_af3579075bbc8aab630293fb0e11fb74a"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af3579075bbc8aab630293fb0e11fb74a">o2::header::RAWDataHeaderV4::word6</a></div><div class="ttdeci">uint64_t word6</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00338">RAWDataHeader.h:338</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a200d9fa63f0f84cb9e496943fa021f22"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a200d9fa63f0f84cb9e496943fa021f22">o2::header::RAWDataHeaderV4::word1</a></div><div class="ttdeci">uint64_t word1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00304">RAWDataHeader.h:304</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html_a22fc2ea38056f1e14ac15a6fd0716fb6"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a22fc2ea38056f1e14ac15a6fd0716fb6">o2::tpc::rawreader::RawReaderCRUManager::setupReaders</a></div><div class="ttdeci">void setupReaders(const std::string_view inputFileNames, uint32_t numTimeBins=1000, uint32_t debugLevel=0, uint32_t verbosity=0, const std::string_view outputFilePrefix=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00977">RawReaderCRU.cxx:977</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a03b04a5a978bad576866339075de01f6"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a03b04a5a978bad576866339075de01f6">event</a></div><div class="ttdeci">struct _cl_event * event</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l02982">glcorearb.h:2982</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_ab1ff722cd2bdc3296d8ab7699805ca40"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#ab1ff722cd2bdc3296d8ab7699805ca40">o2::tpc::rawreader::RawReaderCRUEventSync::getNumberOfCompleteEvents</a></div><div class="ttdeci">size_t getNumberOfCompleteEvents() const</div><div class="ttdoc">get number of complete events </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00402">RawReaderCRU.h:402</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1Error_html"><div class="ttname"><a href="../../d7/d19/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_1_1Error.html">o2::tpc::rawreader::RawReaderCRU::Error</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00507">RawReaderCRU.h:507</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo_html_a468d6cfa7e15dd0176258b14d82f45be"><div class="ttname"><a href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a468d6cfa7e15dd0176258b14d82f45be">o2::tpc::rawreader::RawReaderCRUEventSync::LinkInfo::PayloadSize</a></div><div class="ttdeci">size_t PayloadSize</div><div class="ttdoc">total payload size of the link in the present event </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00302">RawReaderCRU.h:302</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_a55a5f72e85d69dd2183eb6cd7a564a3d"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a55a5f72e85d69dd2183eb6cd7a564a3d">o2::tpc::rawreader::RawReaderCRUEventSync::createEvent</a></div><div class="ttdeci">EventInfo &amp; createEvent(const RDH &amp;rdh, DataType dataType)</div><div class="ttdoc">create a new event or return the one with the given HB orbit </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00044">RawReaderCRU.cxx:44</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a8218634a10153828a1809107046d9509"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a8218634a10153828a1809107046d9509">o2::tpc::rawreader::GBTFrame::mSyncFound</a></div><div class="ttdeci">bool mSyncFound(int stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00203">RawReaderCRU.h:203</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html_a67d0237bffb186fa82642bcf164d6831"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#a67d0237bffb186fa82642bcf164d6831">o2::tpc::rawreader::ADCRawData::streamTo</a></div><div class="ttdeci">void streamTo(std::ostream &amp;output) const</div><div class="ttdoc">write data to ostream </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00801">RawReaderCRU.cxx:801</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_afaa3b59e6848c32ca4d28c21b9620cb5"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#afaa3b59e6848c32ca4d28c21b9620cb5">o2::tpc::rawreader::RawReaderCRUEventSync::streamTo</a></div><div class="ttdeci">void streamTo(std::ostream &amp;output) const</div><div class="ttdoc">write data to ostream </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00109">RawReaderCRU.cxx:109</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_aaa531599a25c18b1fd126b12670db2a4"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">o2::header::RAWDataHeaderV4::triggerBC</a></div><div class="ttdeci">uint64_t triggerBC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00327">RAWDataHeader.h:327</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a6fc0e56594614401e73b50f206b3e55d"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a6fc0e56594614401e73b50f206b3e55d">o2::tpc::rawreader::RawReaderCRU::scanFile</a></div><div class="ttdeci">int scanFile()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00181">RawReaderCRU.cxx:181</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a8e718af75fac42d758060834390cd3d8"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a8e718af75fac42d758060834390cd3d8">o2::header::RAWDataHeaderV4::packetCounter</a></div><div class="ttdeci">uint8_t packetCounter</div><div class="ttdoc">bit 96 to 103: link id </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00309">RAWDataHeader.h:309</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a6a60bb796177863c67a8342731055c14"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a6a60bb796177863c67a8342731055c14">o2::header::RAWDataHeaderV4::cruID</a></div><div class="ttdeci">uint16_t cruID</div><div class="ttdoc">bit 104 to 111: packet counter </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00310">RAWDataHeader.h:310</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a62cdd0a755b6c5ccf0f1d11da3be99e9a2b6bf3c832f15601c8dd0076d81b5010"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a2b6bf3c832f15601c8dd0076d81b5010">o2::tpc::rawreader::RDHDump</a></div><div class="ttdoc">dump full RDH </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00052">RawReaderCRU.h:52</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_af5f2814978367ddb9ca7c1f942511632"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">o2::header::RAWDataHeaderV4::memorySize</a></div><div class="ttdeci">uint32_t memorySize</div><div class="ttdoc">bit 64 to 79: offset to next packet in memory </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00307">RAWDataHeader.h:307</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html">o2::tpc::rawreader::RawReaderCRUManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00837">RawReaderCRU.h:837</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a53ed9bd1e08a8b029ea77ce36847e85c"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a53ed9bd1e08a8b029ea77ce36847e85c">o2::header::RAWDataHeaderV4::zero0</a></div><div class="ttdeci">uint64_t zero0</div><div class="ttdoc">bit 48 to 55: priority bit </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00300">RAWDataHeader.h:300</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aef30e4e3dccbffce99b7509d5366faef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aef30e4e3dccbffce99b7509d5366faef">green</a></div><div class="ttdeci">GLfloat green</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00279">glcorearb.h:279</a></div></div>
<div class="ttc" id="test__Algorithm_8cxx_html_ae5477ddff01c63e9facd656f4de7b8c9"><div class="ttname"><a href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">min</a></div><div class="ttdeci">const size_t min</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/test__Algorithm_8cxx_source.html#l00039">test_Algorithm.cxx:39</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a1457cb7d5cd7675ebd8dcdaff6b0056c"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a1457cb7d5cd7675ebd8dcdaff6b0056c">o2::tpc::rawreader::RawReaderCRU::processDataFile</a></div><div class="ttdeci">int processDataFile()</div><div class="ttdoc">process all data for the selected link reading single 8k packet from file </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00555">RawReaderCRU.cxx:555</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a3b29f3c38cba120060f7b35ed00ae4fc"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3b29f3c38cba120060f7b35ed00ae4fc">o2::tpc::rawreader::GBTFrame::updateSyncCheck</a></div><div class="ttdeci">void updateSyncCheck(SyncArray &amp;syncArray)</div><div class="ttdoc">update the sync check </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00725">RawReaderCRU.h:725</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ae04ea718d6a03caec664690c8b3a302c"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ae04ea718d6a03caec664690c8b3a302c">o2::header::RAWDataHeaderV4::word0</a></div><div class="ttdeci">uint64_t word0</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00288">RAWDataHeader.h:288</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Mapper_html_a750b7412728e537ff85ea3dd430ffb4e"><div class="ttname"><a href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">o2::tpc::Mapper::instance</a></div><div class="ttdeci">static Mapper &amp; instance(const std::string mappingDir=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h_source.html#l00041">Mapper.h:41</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_ab9041cbddaa68d41d486e1fe3cb02edb"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#ab9041cbddaa68d41d486e1fe3cb02edb">o2::tpc::rawreader::GBTFrame::streamFrom</a></div><div class="ttdeci">void streamFrom(std::istream &amp;input)</div><div class="ttdoc">read from istream </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00812">RawReaderCRU.cxx:812</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a5fe9143f1c1bbff3ea81ed6f97381e48"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a5fe9143f1c1bbff3ea81ed6f97381e48">o2::tpc::rawreader::GBTFrame::getAdcValues</a></div><div class="ttdeci">void getAdcValues(ADCRawData &amp;rawData)</div><div class="ttdoc">decode ADC values </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00802">RawReaderCRU.h:802</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a1fbedff37e28c01280b5c4a7332e0c12"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">o2::header::RAWDataHeaderV4::stop</a></div><div class="ttdeci">uint64_t stop</div><div class="ttdoc">bit 48 to 63: par </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00342">RAWDataHeader.h:342</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo_html_a3d90fc33f929c785e891789a15aad4a5"><div class="ttname"><a href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a3d90fc33f929c785e891789a15aad4a5">o2::tpc::rawreader::RawReaderCRUEventSync::LinkInfo::HBEndSeen</a></div><div class="ttdeci">bool HBEndSeen</div><div class="ttdoc">if HB end frame was seen </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00303">RawReaderCRU.h:303</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a62cdd0a755b6c5ccf0f1d11da3be99e9acf7df0a69b5dd86a8dd59d4b3a0cf9f2"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9acf7df0a69b5dd86a8dd59d4b3a0cf9f2">o2::tpc::rawreader::ADCValues</a></div><div class="ttdoc">dump extracted ADC values </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00051">RawReaderCRU.h:51</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="../../d6/d30/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo_html_a117993a5fb768502fc918443c1b7388d"><div class="ttname"><a href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html#a117993a5fb768502fc918443c1b7388d">o2::tpc::rawreader::RawReaderCRUEventSync::LinkInfo::IsPresent</a></div><div class="ttdeci">bool IsPresent</div><div class="ttdoc">if the link is present in the current event </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00304">RawReaderCRU.h:304</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_aaf6ff4fd2273c862d53b0cdb90d013d6"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#aaf6ff4fd2273c862d53b0cdb90d013d6">o2::tpc::rawreader::RawReaderCRUEventSync::setLinksSeen</a></div><div class="ttdeci">void setLinksSeen(const CRU cru, const std::bitset&lt; MaxNumberOfLinks &gt; &amp;links)</div><div class="ttdoc">set links that were seen for a CRU </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00098">RawReaderCRU.cxx:98</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html">o2::tpc::rawreader::ADCRawData</a></div><div class="ttdoc">helper to store the ADC raw data </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00076">RawReaderCRU.h:76</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1CRU_html"><div class="ttname"><a href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">o2::tpc::CRU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/CRU_8h_source.html#l00024">CRU.h:24</a></div></div>
<div class="ttc" id="standalone-cluster-dump-entropy-analysed_8cxx_html_af0baa3ccdd9d2a6adf03b72e2bea5789"><div class="ttname"><a href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx_source.html#l00051">standalone-cluster-dump-entropy-analysed.cxx:51</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_html_a5d6706da4e2667e2049846237a5cdbe9"><div class="ttname"><a href="../../db/d2c/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync.html#a5d6706da4e2667e2049846237a5cdbe9">o2::tpc::rawreader::RawReaderCRUEventSync::ExpectedNumberOfPacketsPerHBFrame</a></div><div class="ttdeci">static constexpr size_t ExpectedNumberOfPacketsPerHBFrame</div><div class="ttdoc">expected number of packets in one HB frame per link for HB scaling mode </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00293">RawReaderCRU.h:293</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html">o2::tpc::rawreader::RawReaderCRU</a></div><div class="ttdoc">Reader for RAW TPC data. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00472">RawReaderCRU.h:472</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a1e71d9c196e4683cc06c4b54d53f7ef5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a></div><div class="ttdeci">GLenum mode</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00266">glcorearb.h:266</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html_a3ed78c80e4748c3b01ce05d3ce79b14c"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html#a3ed78c80e4748c3b01ce05d3ce79b14c">o2::tpc::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;out, const tpc::FECInfo &amp;fec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d04/FECInfo_8cxx_source.html#l00026">FECInfo.cxx:26</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a98ac434677655cc8438bb72de2719f39"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a98ac434677655cc8438bb72de2719f39">x0</a></div><div class="ttdeci">GLuint GLfloat x0</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05034">glcorearb.h:5034</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_ae75be13bc3ba4fb9d53f2933d435f780"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#ae75be13bc3ba4fb9d53f2933d435f780">o2::tpc::rawreader::RawReaderCRU::processPacket</a></div><div class="ttdeci">int processPacket(GBTFrame &amp;gFrame, uint32_t startPos, uint32_t size, ADCRawData &amp;rawData)</div><div class="ttdoc">process single packet </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00420">RawReaderCRU.cxx:420</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a8890f2df52b5ac6e4e6d9291876cb64f"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a8890f2df52b5ac6e4e6d9291876cb64f">o2::tpc::rawreader::RawReaderCRU::getNumberOfEvents</a></div><div class="ttdeci">size_t getNumberOfEvents() const</div><div class="ttdoc">get number of events </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00487">RawReaderCRU.cxx:487</a></div></div>
<div class="ttc" id="Logger_8h_html"><div class="ttname"><a href="../../dd/da4/Logger_8h.html">Logger.h</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a44ae0b14f44563124b01abb4e10a119fa66ae606afe3428eb69bddd7f462e8843"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a44ae0b14f44563124b01abb4e10a119fa66ae606afe3428eb69bddd7f462e8843">o2::tpc::rawreader::DataType::TryToDetect</a></div><div class="ttdoc">try to auto detect the mode </div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a3456e584139b2fba9bfdc4c971cdaef3"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a3456e584139b2fba9bfdc4c971cdaef3">o2::tpc::rawreader::RawReaderCRU::processFile</a></div><div class="ttdeci">static void processFile(const std::string_view inputFile, uint32_t timeBins=0, uint32_t linkMask=0, uint32_t stream=0, uint32_t debugLevel=0, uint32_t verbosity=0, const std::string_view outputFilePrefix=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00739">RawReaderCRU.cxx:739</a></div></div>
<div class="ttc" id="TPC_2base_2include_2TPCBase_2Mapper_8h_html"><div class="ttname"><a href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h.html">Mapper.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html_a838e13ad1616e47cb094e289fb7d0fb0"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a838e13ad1616e47cb094e289fb7d0fb0">o2::tpc::rawreader::RawReaderCRUManager::createReader</a></div><div class="ttdeci">RawReaderCRU &amp; createReader(const std::string_view inputFileName, uint32_t numTimeBins=0, uint32_t link=0, uint32_t stream=0, uint32_t debugLevel=0, uint32_t verbosity=0, const std::string_view outputFilePrefix=&quot;&quot;)</div><div class="ttdoc">create a new raw reader </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00846">RawReaderCRU.h:846</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_acc2760558000045ec0803d60d4d01c98"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char e</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00140">qconfigoptions.h:140</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a62cdd0a755b6c5ccf0f1d11da3be99e9a59df001666c9e7175f49e9035dd614e8"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9a59df001666c9e7175f49e9035dd614e8">o2::tpc::rawreader::EventInfo</a></div><div class="ttdoc">dump event synchronisation information </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00053">RawReaderCRU.h:53</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a2510972228645de1e60f3687410bb26e"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a2510972228645de1e60f3687410bb26e">o2::tpc::rawreader::RawReaderCRU::findSyncPositions</a></div><div class="ttdeci">void findSyncPositions()</div><div class="ttdoc">find sync positions for all links </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00361">RawReaderCRU.cxx:361</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1CRU_html_aee6e472fe53ee72487088f4d204d9564"><div class="ttname"><a href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html#aee6e472fe53ee72487088f4d204d9564">o2::tpc::CRU::partition</a></div><div class="ttdeci">unsigned char partition() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/CRU_8h_source.html#l00062">CRU.h:62</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html_a10723216ce08ced0419f39c6d3266820"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a10723216ce08ced0419f39c6d3266820">o2::tpc::rawreader::RawReaderCRUManager::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">initialize all readers </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00953">RawReaderCRU.cxx:953</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a49825216c96caaeb09237b36651181c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a></div><div class="ttdeci">GLuint GLfloat GLfloat GLfloat x1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05034">glcorearb.h:5034</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ade7916fb6d252edea663f62294c6b058"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ade7916fb6d252edea663f62294c6b058">o2::header::RAWDataHeaderV4::zero41</a></div><div class="ttdeci">uint64_t zero41</div><div class="ttdoc">bit 32 to 43: trigger BC ID </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00328">RAWDataHeader.h:328</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_aa407a0023f72ac410b3d42a0b809e59c"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#aa407a0023f72ac410b3d42a0b809e59c">o2::tpc::rawreader::RawReaderCRU::processMemory</a></div><div class="ttdeci">int processMemory(const std::vector&lt; o2::byte &gt; &amp;data, ADCRawData &amp;rawData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00454">RawReaderCRU.cxx:454</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_ad144c7e56eab52d7be6cb45df0afc121"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#ad144c7e56eab52d7be6cb45df0afc121">o2::tpc::rawreader::GBTFrame::readFromMemory</a></div><div class="ttdeci">void readFromMemory(gsl::span&lt; const o2::byte &gt; data)</div><div class="ttdoc">read from memory </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00822">RawReaderCRU.h:822</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_af1aab144563f53eaed471902de453287"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">o2::header::RAWDataHeaderV4::heartbeatOrbit</a></div><div class="ttdeci">uint32_t heartbeatOrbit</div><div class="ttdoc">bit 0 to 31: trigger orbit </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00318">RAWDataHeader.h:318</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a713cc95fa497a3ddf88efa8de3687d19"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a713cc95fa497a3ddf88efa8de3687d19">o2::tpc::rawreader::RawReaderCRU::runADCDataCallback</a></div><div class="ttdeci">void runADCDataCallback(const ADCRawData &amp;rawData)</div><div class="ttdoc">run a data filling callback function </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00522">RawReaderCRU.cxx:522</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_1_1rawreader_html_a62cdd0a755b6c5ccf0f1d11da3be99e9aabe386b298987efc4c795e59bda84a67"><div class="ttname"><a href="../../d3/d28/namespaceo2_1_1tpc_1_1rawreader.html#a62cdd0a755b6c5ccf0f1d11da3be99e9aabe386b298987efc4c795e59bda84a67">o2::tpc::rawreader::SyncPositions</a></div><div class="ttdoc">dump sync positions </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00049">RawReaderCRU.h:49</a></div></div>
<div class="ttc" id="RawReaderCRU_8h_html"><div class="ttname"><a href="../../df/d86/RawReaderCRU_8h.html">RawReaderCRU.h</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1CRU_html_a082103512f1e7e1e790ea359bdea1f19"><div class="ttname"><a href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html#a082103512f1e7e1e790ea359bdea1f19">o2::tpc::CRU::region</a></div><div class="ttdeci">unsigned char region() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/CRU_8h_source.html#l00063">CRU.h:63</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_aa46569fb00bfd02ce3cd3471b5fcb56f"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa46569fb00bfd02ce3cd3471b5fcb56f">o2::header::RAWDataHeaderV4::word2</a></div><div class="ttdeci">uint64_t word2</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00315">RAWDataHeader.h:315</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a4e6d4067fb0d4a480d4e22a3bc1cec9e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a4e6d4067fb0d4a480d4e22a3bc1cec9e">dataSize</a></div><div class="ttdeci">GLenum GLsizei dataSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l03994">glcorearb.h:3994</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a1603fc8ef36d5d19b856208adc6477fe"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">o2::header::RAWDataHeaderV4::linkID</a></div><div class="ttdeci">uint8_t linkID</div><div class="ttdoc">bit 80 to 95: memory size </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00308">RAWDataHeader.h:308</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_aa820c3404891b7ae536315de52df71be"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa820c3404891b7ae536315de52df71be">o2::header::RAWDataHeaderV4::zero6</a></div><div class="ttdeci">uint64_t zero6</div><div class="ttdoc">bit 8 to 23: pages counter </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00344">RAWDataHeader.h:344</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1ADCRawData_html_ac01e2ad27a6c1c05c0e17689e81c16f3"><div class="ttname"><a href="../../d2/d2e/classo2_1_1tpc_1_1rawreader_1_1ADCRawData.html#ac01e2ad27a6c1c05c0e17689e81c16f3">o2::tpc::rawreader::ADCRawData::setNumTimebins</a></div><div class="ttdeci">void setNumTimebins(uint32_t numTB)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00102">RawReaderCRU.h:102</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8922a680b00df660c57f47c1971d04c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a></div><div class="ttdeci">GLboolean * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00298">glcorearb.h:298</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a538d9f155166ed65fda2c60ccb6b71c9"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">o2::header::RAWDataHeaderV4::pageCnt</a></div><div class="ttdeci">uint64_t pageCnt</div><div class="ttdoc">bit 0 to 7: stop code </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00343">RAWDataHeader.h:343</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1EventInfo_html"><div class="ttname"><a href="../../d8/d30/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1EventInfo.html">o2::tpc::rawreader::RawReaderCRUEventSync::EventInfo</a></div><div class="ttdoc">helper to store event information </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00365">RawReaderCRU.h:365</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a7efab7f57d458ad285cd48fcc6528786"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">o2::header::RAWDataHeaderV4::triggerType</a></div><div class="ttdeci">uint64_t triggerType</div><div class="ttdoc">bit 60 to 63: zeroed </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00331">RAWDataHeader.h:331</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a7b5f9e03ba7edc20861a57dbb2f51abe"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7b5f9e03ba7edc20861a57dbb2f51abe">o2::header::RAWDataHeaderV4::detectorField</a></div><div class="ttdeci">uint64_t detectorField</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00340">RAWDataHeader.h:340</a></div></div>
<div class="ttc" id="rawdump_8cxx_html_a7dc04e2458e5499a252d97256c6ec944"><div class="ttname"><a href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a></div><div class="ttdeci">void output(const std::map&lt; std::string, ChannelStat &gt; &amp;channels)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dbc/rawdump_8cxx_source.html#l00194">rawdump.cxx:194</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo_html"><div class="ttname"><a href="../../dd/d97/structo2_1_1tpc_1_1rawreader_1_1RawReaderCRUEventSync_1_1LinkInfo.html">o2::tpc::rawreader::RawReaderCRUEventSync::LinkInfo</a></div><div class="ttdoc">helper to store link information in an event </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00301">RawReaderCRU.h:301</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a683a3e6c9ec625563f667d1f51ac0137"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a683a3e6c9ec625563f667d1f51ac0137">o2::tpc::rawreader::RawReaderCRU::processDataMemory</a></div><div class="ttdeci">void processDataMemory()</div><div class="ttdoc">Collect data to memory and process data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00627">RawReaderCRU.cxx:627</a></div></div>
<div class="ttc" id="RawReaderCRU_8cxx_html_a2638a924b975fa7c022e030e639058d1"><div class="ttname"><a href="../../d2/d24/RawReaderCRU_8cxx.html#a2638a924b975fa7c022e030e639058d1">printHorizontal</a></div><div class="ttdeci">void printHorizontal(const RDH &amp;rdh)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00926">RawReaderCRU.cxx:926</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU_html_a723a32a79749ab64f137047614bd41d4"><div class="ttname"><a href="../../d9/d12/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRU.html#a723a32a79749ab64f137047614bd41d4">o2::tpc::rawreader::RawReaderCRU::setEventNumber</a></div><div class="ttdeci">void setEventNumber(uint32_t eventNumber=0)</div><div class="ttdoc">set event number </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00534">RawReaderCRU.h:534</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a5d9690fdd8a206a96ab20e03bd7e09a6"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5d9690fdd8a206a96ab20e03bd7e09a6">o2::header::RAWDataHeaderV4::word4</a></div><div class="ttdeci">uint64_t word4</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00325">RAWDataHeader.h:325</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1GBTFrame_html_a3bb5b8b298cce1126dcbe7e7c7dcbb00"><div class="ttname"><a href="../../d4/dca/classo2_1_1tpc_1_1rawreader_1_1GBTFrame.html#a3bb5b8b298cce1126dcbe7e7c7dcbb00">o2::tpc::rawreader::GBTFrame::getFrameHalfWords</a></div><div class="ttdeci">void getFrameHalfWords()</div><div class="ttdoc">extract the 4 5b halfwords for the 5 data streams from one GBT frame </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00784">RawReaderCRU.h:784</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ab99d84740fb413c187cd0c55bcae3bca"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">o2::header::RAWDataHeaderV4::heartbeatBC</a></div><div class="ttdeci">uint64_t heartbeatBC</div><div class="ttdoc">bit 44 to 47: zeroed </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00329">RAWDataHeader.h:329</a></div></div>
<div class="ttc" id="RawReaderCRU_8cxx_html_a8d842ab28d8f573d16da7b28b36e2460"><div class="ttname"><a href="../../d2/d24/RawReaderCRU_8cxx.html#a8d842ab28d8f573d16da7b28b36e2460">CHECK_BIT</a></div><div class="ttdeci">#define CHECK_BIT(var, pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d24/RawReaderCRU_8cxx_source.html#l00024">RawReaderCRU.cxx:24</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager_html_a982079ad02ef71fd9f9e954aadba12d3"><div class="ttname"><a href="../../d6/d2b/classo2_1_1tpc_1_1rawreader_1_1RawReaderCRUManager.html#a982079ad02ef71fd9f9e954aadba12d3">o2::tpc::rawreader::RawReaderCRUManager::setDebugLevel</a></div><div class="ttdeci">void setDebugLevel(uint32_t debugLevel)</div><div class="ttdoc">set debug level </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d86/RawReaderCRU_8h_source.html#l00916">RawReaderCRU.h:916</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_a597e8e061b11201a1dff411feb10d0b.html">TPC</a></li><li class="navelem"><a class="el" href="../../dir_a5de047958dd458e809773c6ffaa8478.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_0c8c50542de1d83a040084fab225b0f7.html">src</a></li><li class="navelem"><a class="el" href="../../d2/d24/RawReaderCRU_8cxx.html">RawReaderCRU.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:31 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
