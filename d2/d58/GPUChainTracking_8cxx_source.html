<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/GPU/GPUTracking/Global/GPUChainTracking.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d58/GPUChainTracking_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GPUChainTracking.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d58/GPUChainTracking_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifdef GPUCA_O2_LIB</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d80/InteractionRecord_8h.html">CommonDataFormat/InteractionRecord.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dcd/MCCompLabel_8h.html">SimulationDataFormat/MCCompLabel.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d14/MCTruthContainer_8h.html">SimulationDataFormat/MCTruthContainer.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#ifndef GPUCA_NO_VC</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;Vc/Vc&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/ded/GPUChainTracking_8h.html">GPUChainTracking.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dde/GPUTPCClusterData_8h.html">GPUTPCClusterData.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d4b/GPUTPCSliceOutput_8h.html">GPUTPCSliceOutput.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dd5/GPUTPCSliceOutCluster_8h.html">GPUTPCSliceOutCluster.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dfd/GPUTPCGMMergedTrack_8h.html">GPUTPCGMMergedTrack.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dcc/GPUTPCGMMergedTrackHit_8h.html">GPUTPCGMMergedTrackHit.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d88/GPUTPCTrack_8h.html">GPUTPCTrack.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d7b/GPUTPCHitId_8h.html">GPUTPCHitId.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d3c/GPUTRDTrackletWord_8h.html">GPUTRDTrackletWord.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dbb/AliHLTTPCClusterMCData_8h.html">AliHLTTPCClusterMCData.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/de2/GPUTPCMCInfo_8h.html">GPUTPCMCInfo.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dca/GPUTRDTrack_8h.html">GPUTRDTrack.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d44/GPUTRDTracker_8h.html">GPUTRDTracker.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d86/AliHLTTPCRawCluster_8h.html">AliHLTTPCRawCluster.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/df2/GPUTRDTrackletLabels_8h.html">GPUTRDTrackletLabels.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d69/GPUDisplay_8h.html">GPUDisplay.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/dcc/GPUQA_8h.html">GPUQA.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/ddc/GPULogging_8h.html">GPULogging.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dfa/GPUReconstructionConvert_8h.html">GPUReconstructionConvert.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d36/GPUMemorySizeScalers_8h.html">GPUMemorySizeScalers.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dc8/GPUTrackingInputProvider_8h.html">GPUTrackingInputProvider.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d25/GPUTPCClusterStatistics_8h.html">GPUTPCClusterStatistics.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d04/ZeroSuppression_8h.html">DataFormatsTPC/ZeroSuppression.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h.html">Headers/RAWDataHeader.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/dec/Raw_2include_2DetectorsRaw_2RDHUtils_8h.html">DetectorsRaw/RDHUtils.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d20/GPUHostDataTypes_8h.html">GPUHostDataTypes.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d7d/DataFormats_2Detectors_2TPC_2include_2DataFormatsTPC_2Digit_8h.html">DataFormatsTPC/Digit.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/db0/TPCdEdxCalibrationSplines_8h.html">TPCdEdxCalibrationSplines.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d28/GPUO2FakeClasses_8h.html">GPUO2FakeClasses.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/db1/TPCFastTransform_8h.html">TPCFastTransform.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d35/linux__helpers_8h.html">utils/linux_helpers.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html">GPUCA_NAMESPACE::gpu</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d5c/GPUO2DataTypes_8h.html">GPUO2DataTypes.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html">o2::tpc</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d2/d76/namespaceo2_1_1trd.html">o2::trd</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#abe4efcf5f65902bd0de1a28f4b4cb8b7">   69</a></span>&#160;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#abe4efcf5f65902bd0de1a28f4b4cb8b7">GPUChainTracking::GPUChainTracking</a>(<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html">GPUReconstruction</a>* <a class="code" href="../../dc/df9/standalone_8cxx.html#a89fc507a8313a2c8530b05526aee23af">rec</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxTPCHits, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxTRDTracklets) : <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html">GPUChain</a>(rec), mIOPtrs(processors()-&gt;ioPtrs), mInputsHost(new <a class="code" href="../../db/d07/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTrackingInputProvider.html">GPUTrackingInputProvider</a>), mInputsShadow(new <a class="code" href="../../db/d07/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTrackingInputProvider.html">GPUTrackingInputProvider</a>), mClusterNativeAccess(new <a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html">ClusterNativeAccess</a>), mMaxTPCHits(maxTPCHits), mMaxTRDTracklets(maxTRDTracklets)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a29c862575ad8a61fabe504c465f42261">ClearIOPointers</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a82644d8d9860d17d3e026da10952a814">mChainTracking</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a82644d8d9860d17d3e026da10952a814">mChainTracking</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a02fd5898a46740ace9ecb501462dc826">GPUChainTracking::~GPUChainTracking</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab03603d7330006eebb4bdaf83e864e66">   78</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab03603d7330006eebb4bdaf83e864e66">GPUChainTracking::RegisterPermanentMemoryAndProcessors</a>()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a9f7be30bb104b16309469146c21c9250">InitGPUProcessor</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>, <a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a3864bfb948eaa250baedb09a9fc2ba82afeaaf1909222ae3c32cdf0731c8f857a">GPUProcessor::PROCESSOR_TYPE_SLAVE</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a9f7be30bb104b16309469146c21c9250">InitGPUProcessor</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>, <a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a3864bfb948eaa250baedb09a9fc2ba82a19c893b1095c5a78c82799b3e3def674">GPUProcessor::PROCESSOR_TYPE_DEVICE</a>, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#af27116c7a077071ea1557c0b75104979">mMemoryResFlat</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a656d0a3f46da270c22f4e0807d5da5e5">RegisterMemoryAllocation</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>, &amp;<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad3aad36ef8bc431026f83f8474a90457">GPUTrackingFlatObjects::SetPointersFlatObjects</a>, <a class="code" href="../../d8/d05/classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource.html#a961d9118e92d6b718a40c7aee87cde7fa958db82784a89e22daaf3504ef1e93bc">GPUMemoryResource::MEMORY_PERMANENT</a>, <span class="stringliteral">&quot;Processors&quot;</span>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>.get(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>());</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcMerger, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcConverter, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcCompressor, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcClusterer[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#ifdef GPUCA_KERNEL_DEBUGGER_OUTPUT</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">RegisterGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;debugOutput, <span class="keyword">true</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a9cd4091e420e1f9e96e70408fd8af177">AddGPUEvents</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab21b2647f28a749bbd6010301404c77e">  115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab21b2647f28a749bbd6010301404c77e">GPUChainTracking::RegisterGPUProcessors</a>()</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>()) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>.get());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  memcpy((<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;trdTracker, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker));</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[i]);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcMerger, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcMerger);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;trdTracker, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcConverter, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcConverter);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcCompressor, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcCompressor);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcClusterer[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcClusterer[i]);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#ifdef GPUCA_KERNEL_DEBUGGER_OUTPUT</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">RegisterGPUDeviceProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;debugOutput, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;debugOutput);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9d2a53de10ebb4f093ac027e1a07037">  151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9d2a53de10ebb4f093ac027e1a07037">GPUChainTracking::MemorySize</a>(<span class="keywordtype">size_t</span>&amp; gpuMem, <span class="keywordtype">size_t</span>&amp; pageLockedHostMem)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  gpuMem = <a class="code" href="../../dc/de9/GPUDefGPUParameters_8h.html#a95f8e6e8bb55891380f655885bc014d5">GPUCA_MEMORY_SIZE</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  pageLockedHostMem = <a class="code" href="../../dc/de9/GPUDefGPUParameters_8h.html#aa3cc66312e7baef0bd0fa4a5fcadfd47">GPUCA_HOST_MEMORY_SIZE</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aca3202a119ffbae9c77c68aa29dc39f8">  157</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aca3202a119ffbae9c77c68aa29dc39f8">GPUChainTracking::ValidateSteps</a>()</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a2006a2ed015a93cffb050092f01bfa0d">GPUDataTypes::RecoStep::TPCdEdx</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid Reconstruction Step Setting: dEdx requires TPC Merger to be active&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a2006a2ed015a93cffb050092f01bfa0d">GPUDataTypes::RecoStep::TPCdEdx</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid GPU Reconstruction Step Setting: dEdx requires TPC Merger to be active&quot;</span>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().earlyTpcTransform) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">GPUDataTypes::RecoStep::TPCConversion</a>)) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid Reconstruction Step Setting: Tracking without early transform requires TPC Conversion to be active&quot;</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">GPUDataTypes::RecoStep::TPCConversion</a>)) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid GPU Reconstruction Step Setting: Tracking without early transform requires TPC Conversion to be active&quot;</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">GPUDataTypes::RecoStep::TPCClusterFinding</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; GPUDataTypes::InOutType::TPCRaw)) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid input, TPC Clusterizer needs TPC raw input&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) || !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">GPUDataTypes::RecoStep::TPCConversion</a>)) &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.mergerReadFromTrackerDirectly) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid input / output / step, mergerReadFromTrackerDirectly cannot read/store sectors tracks and needs TPC conversion&quot;</span>);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">bool</span> tpcClustersAvail = (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab5463ae7456897d8335e606ecb6ca8f9">GPUDataTypes::InOutType::TPCClusters</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">GPUDataTypes::RecoStep::TPCClusterFinding</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#ifndef GPUCA_ALIROOT_LIB</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>) &amp;&amp; !tpcClustersAvail) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid Inputs, TPC Clusters required&quot;</span>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#ifndef GPUCA_TPC_GEOMETRY_O2</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">GPUDataTypes::RecoStep::TPCClusterFinding</a>) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Can not run TPC GPU Cluster Finding with Run 2 Data&quot;</span>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">GPUDataTypes::RecoStep::TPCConversion</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">GPUDataTypes::RecoStep::TPCCompression</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a2006a2ed015a93cffb050092f01bfa0d">GPUDataTypes::RecoStep::TPCdEdx</a>)) &amp;&amp; !tpcClustersAvail) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Invalid Inputs, TPC Clusters required&quot;</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>) &amp;&amp; !((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>))) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Input for TPC merger missing&quot;</span>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">GPUDataTypes::RecoStep::TPCCompression</a>) &amp;&amp; !((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">GPUDataTypes::InOutType::TPCMergedTracks</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>))) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Input for TPC compressor missing&quot;</span>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">GPUDataTypes::RecoStep::TRDTracking</a>) &amp;&amp; (!((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">GPUDataTypes::InOutType::TPCMergedTracks</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) || !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GetRecoStepsInputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a3b19b10e85034fb57ea1710009b8b5b0">GPUDataTypes::InOutType::TRDTracklets</a>))) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Input for TRD Tracker missing&quot;</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; GPUDataTypes::InOutType::TPCRaw) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a3b19b10e85034fb57ea1710009b8b5b0">GPUDataTypes::InOutType::TRDTracklets</a>)) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;TPC Raw / TPC Clusters / TRD Tracklets cannot be output&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>)) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;No TPC Slice Tracker Output available&quot;</span>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">GPUDataTypes::InOutType::TPCMergedTracks</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>)) {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;No TPC Merged Track Output available&quot;</span>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac81816b7d89da96e9ad8496466075a01">GPUDataTypes::InOutType::TPCCompressedClusters</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">GPUDataTypes::RecoStep::TPCCompression</a>)) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;No TPC Compression Output available&quot;</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#af3b8f1e4edfe54d81b54c63cb6e1631a">GPUDataTypes::InOutType::TRDTracks</a>) &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">GPUDataTypes::RecoStep::TRDTracking</a>)) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;No TRD Tracker Output available&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a2006a2ed015a93cffb050092f01bfa0d">GPUDataTypes::RecoStep::TPCdEdx</a>) &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.dEdxSplines == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Cannot run dE/dx without calibration splines&quot;</span>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1ad6aea6ab8398eeba1c870d82b6c323">  241</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1ad6aea6ab8398eeba1c870d82b6c323">GPUChainTracking::ValidateSettings</a>()</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.NWays &amp; 1) == 0) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;nWay setting musst be odd number!&quot;</span>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.mergerInterpolateErrors &amp;&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.NWays == 1) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Cannot do error interpolation with NWays = 1!&quot;</span>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.mergerReadFromTrackerDirectly || !<a class="code" href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a>().earlyTpcTransform) &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.NonConsecutiveIDs) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;incompatible settings for non consecutive ids&quot;</span>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>() &amp;&amp; <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nTPCClustererLanes + 1, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nTPCClustererLanes * 2) &gt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>()) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;NStreams must be &gt; nTPCClustererLanes&quot;</span>);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5d14acab80b750d2168502b21366f009">  262</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5d14acab80b750d2168502b21366f009">GPUChainTracking::Init</a>()</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 1) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    printf(<span class="stringliteral">&quot;Enabled Reconstruction Steps: 0x%x (on GPU: 0x%x)&quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().<span class="keyword">get</span>(), (<span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>().<span class="keyword">get</span>());</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <span class="keyword">sizeof</span>(GPUDataTypes::RECO_STEP_NAMES) / <span class="keyword">sizeof</span>(GPUDataTypes::RECO_STEP_NAMES[0]); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(1u &lt;&lt; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        printf(<span class="stringliteral">&quot; - %s&quot;</span>, GPUDataTypes::RECO_STEP_NAMES[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>().isSet(1u &lt;&lt; i)) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          printf(<span class="stringliteral">&quot; (G)&quot;</span>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aca3202a119ffbae9c77c68aa29dc39f8">ValidateSteps</a>()) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1ad6aea6ab8398eeba1c870d82b6c323">ValidateSettings</a>()) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d0/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA.html#a0d6b0e0552989e5993e0e9889527c33a">GPUQA::QAAvailable</a>() &amp;&amp; (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runQA || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>)) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d0/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA.html">GPUQA</a>(<span class="keyword">this</span>));</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a242ddea6aa6a93351d659ec87dd9766a">mEventDisplay</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d9/dda/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplay.html">GPUDisplay</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>, <span class="keyword">this</span>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>.get()));</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa36970668b66532fa9ebf53244a15759">mOutputCompressedClusters</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa36970668b66532fa9ebf53244a15759">mOutputCompressedClusters</a> = &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a18564cb9593a5a8dffc5b2235a9c0953">OutputControl</a>();</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0a0f59f79782dfa6c071949012646d56">mOutputClustersNative</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0a0f59f79782dfa6c071949012646d56">mOutputClustersNative</a> = &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a18564cb9593a5a8dffc5b2235a9c0953">OutputControl</a>();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>()) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.fastTransform) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.fastTransform, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.fastTransform, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.fastTransform));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a903f4cddb72608ed7b8023e439fd32cf">mTpcTransformBuffer</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.fastTransform-&gt;getFlatBufferPtr(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.fastTransform-&gt;getFlatBufferSize());</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.fastTransform-&gt;clearInternalBufferPtr();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.fastTransform-&gt;setActualBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a903f4cddb72608ed7b8023e439fd32cf">mTpcTransformBuffer</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.fastTransform-&gt;setFutureBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a903f4cddb72608ed7b8023e439fd32cf">mTpcTransformBuffer</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.dEdxSplines) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.dEdxSplines, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.dEdxSplines, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.dEdxSplines));</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a486c89614ecac2c36d09dbbc31c0ed43">mdEdxSplinesBuffer</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.dEdxSplines-&gt;getFlatBufferPtr(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.dEdxSplines-&gt;getFlatBufferSize());</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.dEdxSplines-&gt;clearInternalBufferPtr();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.dEdxSplines-&gt;setActualBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a486c89614ecac2c36d09dbbc31c0ed43">mdEdxSplinesBuffer</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.dEdxSplines-&gt;setFutureBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a486c89614ecac2c36d09dbbc31c0ed43">mdEdxSplinesBuffer</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.matLUT) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.matLUT, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.matLUT, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.matLUT));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a58a4e8c6cfed883ab7ef35a8158be2bd">mMatLUTBuffer</a>, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.matLUT-&gt;getFlatBufferPtr(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.matLUT-&gt;getFlatBufferSize());</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.matLUT-&gt;clearInternalBufferPtr();</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.matLUT-&gt;setActualBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a58a4e8c6cfed883ab7ef35a8158be2bd">mMatLUTBuffer</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.matLUT-&gt;setFutureBufferAddress(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a58a4e8c6cfed883ab7ef35a8158be2bd">mMatLUTBuffer</a>);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.trdGeometry) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      memcpy((<span class="keywordtype">void</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.trdGeometry, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.trdGeometry, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects.trdGeometry));</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.trdGeometry-&gt;clearInternalBufferPtr();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(RecoStep::NoRecoStep, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">mFlatObjectsShadow</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#af27116c7a077071ea1557c0b75104979">mMemoryResFlat</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(RecoStep::NoRecoStep, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>), -1); <span class="comment">// First initialization, for users not using RunChain</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 6) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>.open(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>() ? <span class="stringliteral">&quot;GPU.out&quot;</span> : <span class="stringliteral">&quot;CPU.out&quot;</span>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;std::pair&lt;unsigned int, unsigned int&gt; GPUChainTracking::TPCClusterizerDecodeZSCount(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minTime, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxTime)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nDigits = 0;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nPagesSubslice = 0;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">GPUDataTypes::RecoStep::TPCClusterFinding</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="../../da/d0d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1ZSOffset.html">GPUTPCClusterFinder::ZSOffset</a>* o = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a9fd8daf664979d0a15709178cbfa9c60">mPzsOffsets</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordtype">int</span> firstHBF = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[0] ? o2::raw::RDHUtils::getHeartBeatOrbit(*(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].zsPtr[0][0]) : 0;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> j = 0; j &lt; GPUTrackingInOutZS::NENDPOINTS; j++) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (!doGPU) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a9fd8daf664979d0a15709178cbfa9c60">mPzsOffsets</a>[j] = <a class="code" href="../../da/d0d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1ZSOffset.html">GPUTPCClusterFinder::ZSOffset</a>{nDigits, j, 0};</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">maxC</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j];</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#ac21c15b493b2e0259b58a7cf0c6a7b1e">minC</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">maxC</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a664bb18b1eaccfc61522dfe8fa0e13ff">maxN</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j] ? <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j][<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j] - 1] : 0;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a263f62b9248089c632c9464c5e98a085">minN</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a263f62b9248089c632c9464c5e98a085">minN</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#ifndef GPUCA_NO_VC</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().prefetchTPCpageScan &amp;&amp; j &lt; GPUTrackingInOutZS::NENDPOINTS - 1) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j + 1]; k++) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l = 0; l &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j + 1][k]; l++) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          Vc::Common::prefetchForOneRead(((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[iSlice].zsPtr[j + 1][k]) + l * TPCZSHDR::TPC_ZS_PAGE_SIZE);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;          Vc::Common::prefetchForOneRead(((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[iSlice].zsPtr[j + 1][k]) + l * TPCZSHDR::TPC_ZS_PAGE_SIZE + <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">bool</span> firstFound = <span class="keyword">false</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> = 0;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j]; k++) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordtype">bool</span> breakEndpoint = <span class="keyword">false</span>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l = 0; l &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j][k]; l++) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> page = ((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[iSlice].zsPtr[j][k]) + l * TPCZSHDR::TPC_ZS_PAGE_SIZE;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdh = (<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*)page;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">if</span> (o2::raw::RDHUtils::getMemorySize(*rdh) == <span class="keyword">sizeof</span>(<a class="code" href="../../de/dd4/namespaceo2_1_1header.html#a1382d043a29d3edd8ec00b89e0f89fa6">o2::header::RAWDataHeader</a>)) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          <span class="keywordflow">if</span> (firstFound) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            nPagesSubslice++;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html">TPCZSHDR</a>* <span class="keyword">const</span> hdr = (<span class="keyword">const</span> <a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html">TPCZSHDR</a>*)(page + <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>));</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> timeBin = (hdr-&gt;<a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a70643353af25100617d427a9f044ea43">timeOffset</a> + (o2::raw::RDHUtils::getHeartBeatOrbit(*rdh) - firstHBF) * o2::constants::lhc::LHCMaxBunches) / Constants::LHCBCPERTIMEBIN;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (timeBin + hdr-&gt;<a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a06ec33001ad93d5aa2fa1e933fdd36f3">nTimeBins</a> &lt; minTime) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span> (timeBin &gt; maxTime) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">maxC</a> = k + 1;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a664bb18b1eaccfc61522dfe8fa0e13ff">maxN</a> = l;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;          breakEndpoint = <span class="keyword">true</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (!firstFound) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#ac21c15b493b2e0259b58a7cf0c6a7b1e">minC</a> = k;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a263f62b9248089c632c9464c5e98a085">minN</a> = l;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;          firstFound = <span class="keyword">true</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> (timeBin + hdr-&gt;<a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a06ec33001ad93d5aa2fa1e933fdd36f3">nTimeBins</a> &gt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">mTPCMaxTimeBin</a>) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">mTPCMaxTimeBin</a> = timeBin + hdr-&gt;<a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a06ec33001ad93d5aa2fa1e933fdd36f3">nTimeBins</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          *(o++) = <a class="code" href="../../da/d0d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1ZSOffset.html">GPUTPCClusterFinder::ZSOffset</a>{nDigits, j, num++};</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        nPagesSubslice++;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        nDigits += hdr-&gt;<a class="code" href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#af23bf9b0cc7cc269c3dacfb06d1c19e8">nADCsamples</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">if</span> (breakEndpoint) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">return</span> {nDigits, nPagesSubslice};</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5fefd07396adf2e5489e92473b3072c3">  415</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5fefd07396adf2e5489e92473b3072c3">GPUChainTracking::PrepareEvent</a>()</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a619d67ad2b8be538b48ca0ecae22b072">nTRDTracklets</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersTotal;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.fwdTPCDigitsAsClusters) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Forwading zero-suppressed hits not supported&quot;</span>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0380979f4739eaebed3c3a520818ae3f">  427</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0380979f4739eaebed3c3a520818ae3f">GPUChainTracking::ForceInitQA</a>()</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;InitQA();</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0b3d03c5cf7b5ed5c7c0583a1fe86a9a">  432</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0b3d03c5cf7b5ed5c7c0583a1fe86a9a">GPUChainTracking::Finalize</a>()</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runQA &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;IsInitialized()) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;DrawQAHistograms();</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 6) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>.close();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">mCompressionStatistics</a>) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">mCompressionStatistics</a>-&gt;Finish();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad3aad36ef8bc431026f83f8474a90457">  446</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad3aad36ef8bc431026f83f8474a90457">GPUChainTracking::GPUTrackingFlatObjects::SetPointersFlatObjects</a>(<span class="keywordtype">void</span>* mem)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (mChainTracking-&gt;GetTPCTransform()) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    computePointerWithAlignment(mem, mCalibObjects.fastTransform, 1);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    computePointerWithAlignment(mem, mTpcTransformBuffer, mChainTracking-&gt;GetTPCTransform()-&gt;getFlatBufferSize());</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (mChainTracking-&gt;GetdEdxSplines()) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    computePointerWithAlignment(mem, mCalibObjects.dEdxSplines, 1);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    computePointerWithAlignment(mem, mdEdxSplinesBuffer, mChainTracking-&gt;GetdEdxSplines()-&gt;getFlatBufferSize());</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">if</span> (mChainTracking-&gt;GetMatLUT()) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    computePointerWithAlignment(mem, mCalibObjects.matLUT, 1);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    computePointerWithAlignment(mem, mMatLUTBuffer, mChainTracking-&gt;GetMatLUT()-&gt;getFlatBufferSize());</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (mChainTracking-&gt;GetTRDGeometry()) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    computePointerWithAlignment(mem, mCalibObjects.trdGeometry, 1);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> mem;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a29c862575ad8a61fabe504c465f42261">  469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a29c862575ad8a61fabe504c465f42261">GPUChainTracking::ClearIOPointers</a>()</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  std::memset((<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>, 0, <span class="keyword">sizeof</span>(mIOPtrs));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ab49138274b2dcf6d555fa3be6a13993b">~InOutMemory</a>();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">new</span> (&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>) <a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html">InOutMemory</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bcf725eff6c0060fff75b01ec57fea7">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bcf725eff6c0060fff75b01ec57fea7">GPUChainTracking::AllocateIOMemory</a>()</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">clusterData</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nRawClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.rawClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a9a5eacdbbaa76ffc8c2f1695817b69cb">rawClusters</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nSliceTracks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.sliceTracks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ae79c39590a5e3431ab6484ff38543a51">sliceTracks</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nSliceClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.sliceClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ab8c373a03c20d0d9d7df85c76b8fcf94">sliceClusters</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;nClustersTotal, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;clustersLinear, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;nClustersTotal ? <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get() : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMCLabelsTPC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mcLabelsTPC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ad002e4f7a0d164e138caa26d79364630">mcLabelsTPC</a>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMCInfosTPC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mcInfosTPC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a6a71558f13bf00ac4909024ef18abc42">mcInfosTPC</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMergedTracks, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mergedTracks, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a891d1373d00109fecb48d58f67cf5616">mergedTracks</a>);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMergedTrackHits, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mergedTrackHits, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a44460baf9782780e26a05cd8d68749a9">mergedTrackHits</a>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracks, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTracks, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a08fe5d026eb28b932e14129530d835ec">trdTracks</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTracklets, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a906f5094db0db2011a12866f4306fa22">trdTracklets</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">AllocateIOMemoryHelper</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTrackletsMC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTrackletsMC, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ae720ddde2d8597311bfcd09f48471d51">trdTrackletsMC</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0ce8ad884cf3a5dac69d98a151f1a7c5">  495</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0ce8ad884cf3a5dac69d98a151f1a7c5">GPUChainTracking::ConvertNativeToClusterData</a>()</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html">GPUTPCConvert</a>&amp; <a class="code" href="../../df/d6c/convertDigitsToRawZS_8cxx.html#a8761d49d4e74c4e774d0f36d12e060b7">convert</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a51c7e00baf591e49dec38accfd0d0a58">tpcConverter</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html">GPUTPCConvert</a>&amp; convertShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a51c7e00baf591e49dec38accfd0d0a58">tpcConverter</a> : <a class="code" href="../../df/d6c/convertDigitsToRawZS_8cxx.html#a8761d49d4e74c4e774d0f36d12e060b7">convert</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;convert, <span class="keyword">true</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">GPUDataTypes::RecoStep::TPCClusterFinding</a>)) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mNClusterNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mNClusterNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersTotal;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeBuffer);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">ioPtrs</a>.clustersNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeAccess;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;ioPtrs - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs), 0);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      *<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess = *<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess-&gt;clustersLinear = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess-&gt;setOffsetPtrs();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUMemCpy</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clustersLinear, <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clustersLinear[0]) * <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersTotal, 0, <span class="keyword">true</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeAccess, 0);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().earlyTpcTransform) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Early transform inactive, skipping TPC Early transformation kernel, transformed on the fly during slice data creation / refit&quot;</span>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    convert.<a class="code" href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html#a5b46cb4b1c949ce347488b41ecb303fc">mMemory</a>-&gt;<a class="code" href="../../d4/d0e/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_1_1Memory.html#a871a90f768fcfae2309a1c36219ec148">clusters</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = convertShadow.<a class="code" href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html#a31f2b92389205b8456ccc624eaad1149">mClusters</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcConverter - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;convertShadow, <span class="keyword">sizeof</span>(convertShadow), 0);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, &amp;convert, 0);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  runKernel&lt;GPUTPCConvertKernel&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(NSLICES * <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>, 0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>, &amp;convert, 0);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == NSLICES - 1 ? <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersTotal : <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1][0]) - <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = convert.<a class="code" href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html#a31f2b92389205b8456ccc624eaad1149">mClusters</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3d8fcc4765fdf7e05db9b34275d39fc9">  543</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3d8fcc4765fdf7e05db9b34275d39fc9">GPUChainTracking::ConvertNativeToClusterDataLegacy</a>()</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html">ClusterNativeAccess</a>* tmp = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get();</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (tmp != <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    *tmp = *<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <a class="code" href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a300978b87042c1274a63e7bf7feb2b47">GPUReconstructionConvert::ConvertNativeToClusterData</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">clusterData</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.fastTransform, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#abaf65a22e0a36103e77bb2f52e0163a9">continuousMaxTimeBin</a>);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">clusterData</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].get();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().registerStandaloneInputMemory) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a3e901c140e8ed0a6f6b9c168c521d813">registerMemoryForGPU</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">clusterData</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(*<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>.reset(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a852257bf78151b796aeb7d11f9f437df">  560</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a852257bf78151b796aeb7d11f9f437df">GPUChainTracking::ConvertRun2RawToNative</a>()</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a7493b506019949a8bd4b20770b50b78a">GPUReconstructionConvert::ConvertRun2RawToNative</a>(*<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.rawClusters, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nRawClusters);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.rawClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nRawClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a9a5eacdbbaa76ffc8c2f1695817b69cb">rawClusters</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].reset(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">clusterData</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].reset(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().registerStandaloneInputMemory) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a3e901c140e8ed0a6f6b9c168c521d813">registerMemoryForGPU</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;nClustersTotal * <span class="keyword">sizeof</span>(*<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;clustersLinear));</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6be88450a57fbfdca30cddde43b14ae9">  577</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6be88450a57fbfdca30cddde43b14ae9">GPUChainTracking::ConvertZSEncoder</a>(<span class="keywordtype">bool</span> zs12bit)</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9e4e088682e3bf03e8960cb328001f7">mTPCZSSizes</a>.reset(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> * GPUTrackingInOutZS::NENDPOINTS]);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2c9c0bfe9b6c8ab25042d471ef235c40">mTPCZSPtrs</a>.reset(<span class="keyword">new</span> <span class="keywordtype">void</span>*[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> * GPUTrackingInOutZS::NENDPOINTS]);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a274136667136b38b484165d082153e73">mTPCZS</a>.reset(<span class="keyword">new</span> GPUTrackingInOutZS);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  GPUReconstructionConvert::RunZSEncoder&lt;o2::tpc::Digit&gt;(*<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a12efb10aae7ce7eae432e8d1a024808d">mTPCZSBuffer</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9e4e088682e3bf03e8960cb328001f7">mTPCZSSizes</a>.get(), <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>(), zs12bit, <span class="keyword">true</span>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a65bed44605f6269ce848b209a14b7550">GPUReconstructionConvert::RunZSEncoderCreateMeta</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a12efb10aae7ce7eae432e8d1a024808d">mTPCZSBuffer</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9e4e088682e3bf03e8960cb328001f7">mTPCZSSizes</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2c9c0bfe9b6c8ab25042d471ef235c40">mTPCZSPtrs</a>.get(), <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a274136667136b38b484165d082153e73">mTPCZS</a>.get());</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a274136667136b38b484165d082153e73">mTPCZS</a>.get();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().registerStandaloneInputMemory) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; GPUTrackingInOutZS::NENDPOINTS; j++) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].count[j]; k++) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a3e901c140e8ed0a6f6b9c168c521d813">registerMemoryForGPU</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].zsPtr[j][k], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].nZSPtr[j][k] * TPCZSHDR::TPC_ZS_PAGE_SIZE);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a410011949842347074188332fb877c90">  598</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a410011949842347074188332fb877c90">GPUChainTracking::ConvertZSFilter</a>(<span class="keywordtype">bool</span> zs12bit)</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a3ab2e9a0c4566c51cdc685946602d1a7">GPUReconstructionConvert::RunZSFilter</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a8832eff13d254b2f48109536fec2bb92">tpcDigits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;tpcDigits, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a7a398e48b6d754088c660841d69f2a4a">mDigitMap</a>-&gt;nTPCDigits, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;nTPCDigits, <a class="code" href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a>(), zs12bit);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a20f2279925348c696a820ac975b7c111">  603</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a20f2279925348c696a820ac975b7c111">GPUChainTracking::LoadClusterErrors</a>() { <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#a9560663299d8b60f8b8e39070be44eed">LoadClusterErrors</a>(); }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a62523edb5f178674fed775ca1f7b69b5">  605</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a62523edb5f178674fed775ca1f7b69b5">GPUChainTracking::SetTPCFastTransform</a>(std::unique_ptr&lt;TPCFastTransform&gt;&amp;&amp; tpcFastTransform)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a87cffa56e51dfcc1f7ce18246ebcd632">mTPCFastTransformU</a> = std::move(tpcFastTransform);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.fastTransform = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a87cffa56e51dfcc1f7ce18246ebcd632">mTPCFastTransformU</a>.get();</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5373b40d79e6cf77ba420b05b8cd9d96">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5373b40d79e6cf77ba420b05b8cd9d96">GPUChainTracking::SetdEdxSplines</a>(std::unique_ptr&lt;TPCdEdxCalibrationSplines&gt;&amp;&amp; dEdxSplines)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#acbc3b4c96ca4b7842bd7a27add6ba33e">mdEdxSplinesU</a> = std::move(dEdxSplines);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.dEdxSplines = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#acbc3b4c96ca4b7842bd7a27add6ba33e">mdEdxSplinesU</a>.get();</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0058e639fb20921f28a4a5b9d389817a">  617</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0058e639fb20921f28a4a5b9d389817a">GPUChainTracking::SetMatLUT</a>(std::unique_ptr&lt;o2::base::MatLayerCylSet&gt;&amp;&amp; lut)</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5a435d290dd2d94c62fd51ed366d214f">mMatLUTU</a> = std::move(lut);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.matLUT = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5a435d290dd2d94c62fd51ed366d214f">mMatLUTU</a>.get();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c6a567e7025608b9161446f719d1393">GPUChainTracking::SetTRDGeometry</a>(std::unique_ptr&lt;o2::trd::TRDGeometryFlat&gt;&amp;&amp; geo)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a4c05b0d859ba57676325b3f9ea6c4a5a">mTRDGeometryU</a> = std::move(geo);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">calibObjects</a>.trdGeometry = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a4c05b0d859ba57676325b3f9ea6c4a5a">mTRDGeometryU</a>.get();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a543960e2b4cb0f2665934341d6426062">  629</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a543960e2b4cb0f2665934341d6426062">GPUChainTracking::ReadEvent</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">int</span> threadId)</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 5) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Running ReadEvent for slice %d on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  runKernel&lt;GPUTPCCreateSliceData&gt;({<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(1, 0, <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca2b55387dd066c5bac646ac61543d152d">GPUReconstruction::krnlDeviceType::CPU</a>)}, {iSlice});</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 5) {</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Finished ReadEvent for slice %d on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">return</span> (0);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">  641</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">GPUChainTracking::WriteOutput</a>(<span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">int</span> threadId)</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 5) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Running WriteOutput for slice %d on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">while</span> (mLockAtomic.test_and_set(std::memory_order_acquire)) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      ;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].WriteOutputPrepare();</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    mLockAtomic.clear();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].WriteOutput();</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 5) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Finished WriteOutput for slice %d on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a8c2e17fb3ded58501eef3263041595ca">  661</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a8c2e17fb3ded58501eef3263041595ca">GPUChainTracking::ForwardTPCDigits</a>()</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Cannot forward TPC digits with Clusterizer on GPU&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  std::vector&lt;ClusterNative&gt; tmp[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>][<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>];</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4828f6f7e4c6b0b8a69ecbae607e2195">nTotal</a> = 0;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ae0a495a3da00659cc39355a00765bb46">zsThreshold</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">rec</a>.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a7c3aaf630ec901ce63276ae181b55e00">tpcZSthreshold</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;nTPCDigits[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]; j++) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;tpcDigits[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a>.getChargeFloat() &gt;= <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ae0a495a3da00659cc39355a00765bb46">zsThreshold</a>) {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html">ClusterNative</a> c;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        c.setTimeFlags(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a>.getTimeStamp(), 0);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        c.setPad(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a>.getPad());</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        c.setSigmaTime(1);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        c.setSigmaPad(1);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        c.<a class="code" href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html#a869b47009cff6108aa57d25c6916e623">qTot</a> = c.<a class="code" href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html#a3bf15f414113a6e8754942e8f58d20fa">qMax</a> = <a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a>.getChargeFloat();</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        tmp[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a>.getRow()].emplace_back(c);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        nTotal++;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>.reset(<span class="keyword">new</span> <a class="code" href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html">ClusterNative</a>[nTotal]);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  nTotal = 0;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;clustersLinear = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>.get();</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;nClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = tmp[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j].size();</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      memcpy(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">mIOMem</a>.<a class="code" href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">clustersNative</a>[nTotal], tmp[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j].data(), tmp[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j].size() * <span class="keyword">sizeof</span>(*<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;clustersLinear));</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      nTotal += tmp[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j].size();</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>-&gt;setOffsetPtrs();</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Forwarded %u TPC clusters&quot;</span>, nTotal);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> = <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4828f6f7e4c6b0b8a69ecbae607e2195">nTotal</a>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">  703</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GPUChainTracking::GlobalTracking</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">int</span> threadId, <span class="keywordtype">bool</span> synchronizeOutput)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 5) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;GPU Tracker running Global Tracking for slice %u on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737c">GPUReconstruction::krnlDeviceType</a> deviceType = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">fullMergerOnGPU</a> ? <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca06b9281e396db002010bde1de57262eb">GPUReconstruction::krnlDeviceType::Auto</a> : <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca2b55387dd066c5bac646ac61543d152d">GPUReconstruction::krnlDeviceType::CPU</a>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  runKernel&lt;GPUTPCGlobalTracking&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(256, iSlice % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>(), deviceType), {iSlice});</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">fullMergerOnGPU</a>) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice].MemoryResCommon(), iSlice % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>());</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span> (synchronizeOutput) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(iSlice % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>());</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 5) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;GPU Tracker finished Global Tracking for slice %u on thread %d\n&quot;</span>, iSlice, threadId);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">return</span> (0);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;}</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keywordtype">void</span> GPUChainTracking::RunTPCClusterizer_compactPeaks(<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer, <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow, <span class="keywordtype">int</span> stage, <span class="keywordtype">bool</span> doGPU, <span class="keywordtype">int</span> lane)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;{</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keyword">auto</span>&amp; in = stage ? clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#af0fc12dc416ffa449a338622e2c695d8">mPpeakPositions</a> : clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac4477ef5e975cf9f127e432e996f5560">mPpositions</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keyword">auto</span>&amp; out = stage ? clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac5cfd89356041f6b36c1396e2e2bbd2b">mPfilteredPeakPositions</a> : clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#af0fc12dc416ffa449a338622e2c695d8">mPpeakPositions</a>;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a604428f038a4419eeb58b81fe327ead3">mISlice</a>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = stage ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a> : clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    std::vector&lt;size_t&gt; counts;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nSteps = clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ab701b3b0f17eb70ebcc858713836f61d">getNSteps</a>(<a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (nSteps &gt; clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abac27df0b2b1bf61a97694a2d913c963">mNBufs</a>) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Clusterer buffers exceeded (%u &gt; %u)&quot;</span>, nSteps, (<span class="keywordtype">int</span>)clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abac27df0b2b1bf61a97694a2d913c963">mNBufs</a>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      exit(1);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordtype">size_t</span> tmpCount = <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (nSteps &gt; 1) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nSteps; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        counts.push_back(tmpCount);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 1) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          runKernel&lt;GPUTPCCFStreamCompaction, GPUTPCCFStreamCompaction::scanStart&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(tmpCount, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, lane), {iSlice}, {}, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, stage);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          runKernel&lt;GPUTPCCFStreamCompaction, GPUTPCCFStreamCompaction::scanUp&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(tmpCount, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, lane), {iSlice}, {}, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, tmpCount);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        tmpCount = (tmpCount + clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a> - 1) / clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      runKernel&lt;GPUTPCCFStreamCompaction, GPUTPCCFStreamCompaction::scanTop&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(tmpCount, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, lane), {iSlice}, {}, nSteps, tmpCount);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = nSteps - 1; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 1; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        tmpCount = counts[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1];</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        runKernel&lt;GPUTPCCFStreamCompaction, GPUTPCCFStreamCompaction::scanDown&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(tmpCount - clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, lane), {iSlice}, {}, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, tmpCount);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    runKernel&lt;GPUTPCCFStreamCompaction, GPUTPCCFStreamCompaction::compactDigits&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(<a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">mScanWorkGroupSize</a>, lane), {iSlice}, {}, 1, stage, in, out);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keyword">auto</span>&amp; nOut = stage ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">nClusters</a> : clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keyword">auto</span>&amp; nIn = stage ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a> : clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nIn; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">if</span> (clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a85b78c509333e72ad8b2f7626b0850d5">mPisPeak</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        out[count++] = in[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    nOut = <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;std::pair&lt;unsigned int, unsigned int&gt; GPUChainTracking::RunTPCClusterizer_transferZS(<span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#ac55adc720a3098c1b454d2a4647f4361">start</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">end</a>, <span class="keywordtype">int</span> lane)</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#ifdef GPUCA_TPC_GEOMETRY_O2</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; retVal = TPCClusterizerDecodeZSCount(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#ac55adc720a3098c1b454d2a4647f4361">start</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">end</a>);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nPagesSector = 0;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; GPUTrackingInOutZS::NENDPOINTS; j++) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nPages = 0;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPzsMeta-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].zsPtr[j] = &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPzsPtrs[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> * GPUTrackingInOutZS::NENDPOINTS + j];</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPzsPtrs[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> * GPUTrackingInOutZS::NENDPOINTS + j] = clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a4bb93d23807a48ee84242d035e1cebe9">mPzs</a> + (nPagesSector + nPages) * TPCZSHDR::TPC_ZS_PAGE_SIZE;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#ac21c15b493b2e0259b58a7cf0c6a7b1e">minC</a>; k &lt; clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">maxC</a>; k++) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">min</a> = (k == clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#ac21c15b493b2e0259b58a7cf0c6a7b1e">minC</a>) ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a263f62b9248089c632c9464c5e98a085">minN</a> : 0;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a> = (k + 1 == clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">maxC</a>) ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">mMinMaxCN</a>[j].<a class="code" href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a664bb18b1eaccfc61522dfe8fa0e13ff">maxN</a> : <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j][k];</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a> &gt; min) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;          <span class="keywordtype">char</span>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a> = (<span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].zsPtr[j][k] + min * TPCZSHDR::TPC_ZS_PAGE_SIZE;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> = o2::raw::RDHUtils::getMemorySize(*(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*)<a class="code" href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> = (<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a> - min - 1) * TPCZSHDR::TPC_ZS_PAGE_SIZE + (<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> ? TPCZSHDR::TPC_ZS_PAGE_SIZE : <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUMemCpy</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a4bb93d23807a48ee84242d035e1cebe9">mPzs</a> + (nPagesSector + nPages) * TPCZSHDR::TPC_ZS_PAGE_SIZE, src, size, lane, <span class="keyword">true</span>);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        nPages += <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a> - <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">min</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPzsMeta-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j] = &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPzsSizes[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> * GPUTrackingInOutZS::NENDPOINTS + j];</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPzsSizes[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> * GPUTrackingInOutZS::NENDPOINTS + j] = nPages;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPzsMeta-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j] = 1;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      nPagesSector += nPages;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a9946a260a8649831b34b62628502acbf">mZSOffsetId</a>, lane);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">return</span> retVal;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;}</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aabaca5d56039ed16e80e5b576617b64d">  811</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aabaca5d56039ed16e80e5b576617b64d">GPUChainTracking::RunTPCClusterizer</a>(<span class="keywordtype">bool</span> synchronizeOutput)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="preprocessor">#ifdef GPUCA_TPC_GEOMETRY_O2</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">nTPCdigits</a> = 0;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordtype">size_t</span> nPagesTotal = 0;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">bool</span> tpcHasZSPages[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>];</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">mTPCMaxTimeBin</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS ? 0 : std::max&lt;int&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#abaf65a22e0a36103e77bb2f52e0163a9">continuousMaxTimeBin</a>, <a class="code" href="../../d9/db0/clusterFinderDefs_8h.html#a1c080e9b47cafcc0b70d0104c10f3309">TPC_MAX_FRAGMENT_LEN</a>);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  std::fill(tpcHasZSPages, tpcHasZSPages + <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nDigits = 0;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nPages = 0;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; GPUTrackingInOutZS::NENDPOINTS; j++) {</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j]; k++) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          nPages += <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j][k];</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      tpcHasZSPages[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] = nPages;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a070ad9c51a3a940a87080c6b5439c97a">nPages</a> = nPages;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a1ec502557dbed9ee85d9b2a969b4e762">SetNMaxDigits</a>(0, nPages);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>()) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a1ec502557dbed9ee85d9b2a969b4e762">SetNMaxDigits</a>(0, nPages);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcClusterer[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].mZSOffsetId);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      nPagesTotal += nPages;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="preprocessor">#ifndef GPUCA_NO_VC</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().prefetchTPCpageScan &amp;&amp; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; NSLICES - 1) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; GPUTrackingInOutZS::NENDPOINTS; j++) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[j]; k++) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l = 0; l &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].nZSPtr[j][k]; l++) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;              Vc::Common::prefetchFar(((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> + 1].zsPtr[j][k]) + l * TPCZSHDR::TPC_ZS_PAGE_SIZE);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;              Vc::Common::prefetchFar(((<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> + 1].zsPtr[j][k]) + l * TPCZSHDR::TPC_ZS_PAGE_SIZE + <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>));</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;          }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = TPCClusterizerDecodeZSCount(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, 0, -1);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      nDigits = <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>.first;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a7b1f540ebb4fade68e839dd2a6d3d679">nPagesSubslice</a> = <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>.second;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a079b7ca3ecf036ab90ef73e345383b5d">nDigits</a> = nDigits;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      nDigits = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;nTPCDigits[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">nTPCdigits</a> += nDigits;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a1ec502557dbed9ee85d9b2a969b4e762">SetNMaxDigits</a>(nDigits, nPages);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Event has %lld 8kb TPC ZS pages, %lld digits&quot;</span>, (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)nPagesTotal, (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">nTPCdigits</a>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Event has %lld TPC Digits&quot;</span>, (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">nTPCdigits</a>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a2ac3f23887f0f96157a166b7b6f6e569">SetMaxData</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>); <span class="comment">// First iteration to set data sizes</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a2f7769e56e0f17cc59f6ab40f69d4f32">ComputeReuseMax</a>(<span class="keyword">nullptr</span>); <span class="comment">// Resolve maximums for shared buffers</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcClusterer[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>], <span class="keyword">true</span>); <span class="comment">// Now we allocate</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (doGPU &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">ioPtrs</a>.tpcZS = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPzsMeta;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;ioPtrs - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs), 0);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcClusterer - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcClusterer, <span class="keyword">sizeof</span>(<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>) * NSLICES, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>(); <span class="comment">// TODO : get rid of me!</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordtype">size_t</span> nClsTotal = 0;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html">ClusterNativeAccess</a>* tmpNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">mClusterNativeAccess</a>.get();</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// setup MC Labels</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordtype">bool</span> propagateMCLabels = !doGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a8216ddb774d806a1269ccf1c660e8a21">runMC</a> &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">ioPtrs</a>.tpcPackedDigits-&gt;tpcDigitsMC != <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keyword">auto</span>* digitsMC = propagateMCLabels ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">ioPtrs</a>.tpcPackedDigits-&gt;tpcDigitsMC : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html">GPUTPCLinearLabels</a> mcLinearLabels;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordflow">if</span> (propagateMCLabels) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    mcLinearLabels.<a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a6569f075cc8269a0c7f5635ebadc5cbb">header</a>.reserve(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a>);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    mcLinearLabels.<a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a5234e127178b45f270da47850af819d3">data</a>.reserve(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> * 16); <span class="comment">// Assumption: cluster will have less than 16 labels on average</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#abaf65a22e0a36103e77bb2f52e0163a9">continuousMaxTimeBin</a> &gt; 0 &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">mTPCMaxTimeBin</a> &gt;= (<span class="keywordtype">unsigned</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>)<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#abaf65a22e0a36103e77bb2f52e0163a9">continuousMaxTimeBin</a> + 1, <a class="code" href="../../d9/db0/clusterFinderDefs_8h.html#a1c080e9b47cafcc0b70d0104c10f3309">TPC_MAX_FRAGMENT_LEN</a>)) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Input data has invalid time bin\n&quot;</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <a class="code" href="../../dd/d35/namespaceGPUCA__NAMESPACE_1_1gpu_1_1tpccf.html#aea73131e3cbf01bd4a86fea27cb544f3">tpccf::TPCTime</a> timeSliceLen = std::max&lt;int&gt;(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">mTPCMaxTimeBin</a> + 1, <a class="code" href="../../d9/db0/clusterFinderDefs_8h.html#a1c080e9b47cafcc0b70d0104c10f3309">TPC_MAX_FRAGMENT_LEN</a>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="../../dc/d10/classshort.html">tpccf::TPCFragmentTime</a> fragmentLen = <a class="code" href="../../d9/db0/clusterFinderDefs_8h.html#a1c080e9b47cafcc0b70d0104c10f3309">TPC_MAX_FRAGMENT_LEN</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="keywordtype">bool</span> buildNativeGPU = (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">GPUDataTypes::RecoStep::TPCConversion</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">GPUDataTypes::RecoStep::TPCSliceTracking</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>) || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">GPUDataTypes::RecoStep::TPCCompression</a>);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="keywordtype">bool</span> buildNativeHost = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#af45a12dd95b828eaec73160ab529497c">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab5463ae7456897d8335e606ecb6ca8f9">GPUDataTypes::InOutType::TPCClusters</a>; <span class="comment">// TODO: Should do this also when clusters are needed for later steps on the host but not requested as output</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mNClusterNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mNClusterNative = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a3dac95915070b1348214a5d41b42ce42">NTPCClusters</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">nTPCdigits</a>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (buildNativeGPU) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeBuffer);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordflow">if</span> (buildNativeHost &amp;&amp; !(buildNativeGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().delayedOutput)) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeOutput, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0a0f59f79782dfa6c071949012646d56">mOutputClustersNative</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordtype">char</span> transferRunning[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>] = {0};</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> outputQueueStart = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>.size();</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  std::pair&lt;unsigned int, unsigned int&gt; nextPos[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>];</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iSliceBase = 0; iSliceBase &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; iSliceBase += <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a>) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    std::vector&lt;bool&gt; laneHasData(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nTPCClustererLanes, <span class="keyword">false</span>);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (iSliceBase == 0) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html">CfFragment</a> fragmentFirst{timeSliceLen, fragmentLen};</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          nextPos[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] = RunTPCClusterizer_transferZS(iSlice, fragmentFirst.start, fragmentFirst.last() - 1, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> + lane);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html">CfFragment</a> fragment{timeSliceLen, fragmentLen}; !fragment.isEnd(); fragment = fragment.next(timeSliceLen, fragmentLen)) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 3) {</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Processing time bins [%d, %d)&quot;</span>, fragment.start, fragment.last());</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      }</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">if</span> (fragment.index != 0) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(lane); <span class="comment">// Don&#39;t overwrite charge map from previous iteration until cluster computation is finished</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a> = clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">nClusters</a> = 0;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#ade41c3eff2974b280efebdfe15143db0">fragment</a> = fragment;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> (propagateMCLabels) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a0917678590972aa079db85ad657560b7">PrepareMC</a>();</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac22691cf7ac66c5bf310180699dc8823">mPinputLabels</a> = digitsMC-&gt;v[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;          <span class="comment">// TODO: Why is the number of header entries in truth container</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;          <span class="comment">// sometimes larger than the number of digits?</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;          <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac22691cf7ac66c5bf310180699dc8823">mPinputLabels</a>-&gt;<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a9c5fbbeee8e2c01c916ef0bc2a7d0087">getIndexedSize</a>() &gt;= <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits-&gt;nTPCDigits[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">if</span> (not <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS || propagateMCLabels) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          <span class="keyword">auto</span>* inDigits = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;          <span class="keywordtype">size_t</span> numDigits = inDigits-&gt;nTPCDigits[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a079b7ca3ecf036ab90ef73e345383b5d">nDigits</a> = numDigits;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;          <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUMemCpy</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7855c50aaeadf0caf1698d000fd8dbac">mPdigits</a>, inDigits-&gt;tpcDigits[iSlice], <span class="keyword">sizeof</span>(clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7855c50aaeadf0caf1698d000fd8dbac">mPdigits</a>[0]) * numDigits, lane, <span class="keyword">true</span>);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7855c50aaeadf0caf1698d000fd8dbac">mPdigits</a> = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d1/d46/classo2_1_1tpc_1_1Digit.html">o2::tpc::Digit</a>*<span class="keyword">&gt;</span>(inDigits-&gt;tpcDigits[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]); <span class="comment">// TODO: Needs fixing (invalid const cast)</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;          }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a> = nextPos[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].first;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a7b1f540ebb4fade68e839dd2a6d3d679">nPagesSubslice</a> = nextPos[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].second;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#acdd290f82d9dfcec60dd4cc619848ecd">mMemoryId</a>, lane);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="comment">// These buffers only have to be cleared once entirely. The &#39;resetMaps&#39; kernel</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">// takes care of subsequent clean ups.</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">if</span> (iSliceBase == 0) {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          <span class="keyword">using</span> ChargeMapType = decltype(*clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aac313b4155841f7a6f633ce5db83f3a2">mPchargeMap</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          <span class="keyword">using</span> PeakMapType = decltype(*clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ae9120196850d79fa7160c9ff982d6e61">mPpeakMap</a>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          runKernel&lt;GPUMemClean16&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GetGridAutoStep</a>(lane, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aac313b4155841f7a6f633ce5db83f3a2">mPchargeMap</a>, <a class="code" href="../../d9/de7/classGPUCA__NAMESPACE_1_1gpu_1_1TilingLayout.html">TPCMapMemoryLayout&lt;ChargeMapType&gt;::items</a>() * <span class="keyword">sizeof</span>(ChargeMapType));</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          runKernel&lt;GPUMemClean16&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GetGridAutoStep</a>(lane, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ae9120196850d79fa7160c9ff982d6e61">mPpeakMap</a>, <a class="code" href="../../d9/de7/classGPUCA__NAMESPACE_1_1gpu_1_1TilingLayout.html">TPCMapMemoryLayout&lt;PeakMapType&gt;::items</a>() * <span class="keyword">sizeof</span>(PeakMapType));</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aa09731b70ece6cd2870b8e1ca9c60081">GPUTPCClusterFinder::DumpChargeMap</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>, <span class="stringliteral">&quot;Zeroed Charges&quot;</span>);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceZS, lane);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nTPCClustererLanes + lane);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        }</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; !tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">if</span> (propagateMCLabels || not <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          runKernel&lt;GPUTPCCFChargeMapFiller, GPUTPCCFChargeMapFiller::findFragmentStart&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(1, lane), {iSlice}, {});</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#acdd290f82d9dfcec60dd4cc619848ecd">mMemoryId</a>, lane);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          <span class="keywordtype">int</span> firstHBF = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].count[0] ? o2::raw::RDHUtils::getHeartBeatOrbit(*(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS-&gt;slice[iSlice].zsPtr[0][0]) : 0;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          runKernel&lt;GPUTPCCFDecodeZS, GPUTPCCFDecodeZS::decodeZS&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(doGPU ? clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a7b1f540ebb4fade68e839dd2a6d3d679">nPagesSubslice</a> : GPUTrackingInOutZS::NENDPOINTS, lane), {iSlice}, {}, firstHBF);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#acdd290f82d9dfcec60dd4cc619848ecd">mMemoryId</a>, lane);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(lane);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          <a class="code" href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html">CfFragment</a> <a class="code" href="../../dc/da3/glcorearb_8h.html#a1fe2b9d716f80da76adb19505d583dc1">f</a> = fragment.next(timeSliceLen, fragmentLen);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          <span class="keywordtype">int</span> nextSlice = <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <span class="keywordflow">if</span> (f.isEnd()) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            nextSlice += <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a>;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            f = {timeSliceLen, fragmentLen};</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;          }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;          <span class="keywordflow">if</span> (nextSlice &lt; NSLICES &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS &amp;&amp; tpcHasZSPages[iSlice]) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            nextPos[nextSlice] = RunTPCClusterizer_transferZS(nextSlice, f.<a class="code" href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html#ac36df148f128ac7cf690ce2309992828">start</a>, f.last() - 1, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> + lane);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;          }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        }</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">if</span> (propagateMCLabels || not <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;          <span class="keywordflow">if</span> (clusterer.mPmemory-&gt;counters.nPositions == 0) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;          }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          runKernel&lt;GPUTPCCFChargeMapFiller, GPUTPCCFChargeMapFiller::fillFromDigits&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.mPmemory-&gt;counters.nPositions, lane), {iSlice}, {});</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a067d7265bd74917b85706e9bc477d720">GPUTPCClusterFinder::DumpDigits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>)) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aa09731b70ece6cd2870b8e1ca9c60081">DumpChargeMap</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>, <span class="stringliteral">&quot;Charges&quot;</span>);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">if</span> (propagateMCLabels) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          runKernel&lt;GPUTPCCFChargeMapFiller, GPUTPCCFChargeMapFiller::fillIndexMap&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.mPmemory-&gt;counters.nPositions, lane), {iSlice}, {});</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        runKernel&lt;GPUTPCCFPeakFinder&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.mPmemory-&gt;counters.nPositions, lane), {iSlice}, {});</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#afa9bfa7544967e093577c6647c23317b">GPUTPCClusterFinder::DumpPeaks</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        RunTPCClusterizer_compactPeaks(clusterer, clustererShadow, 0, doGPU, lane);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.mMemoryId, lane);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3f4145a56489e42b992fb11a65936fb">GPUTPCClusterFinder::DumpPeaksCompacted</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(lane);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span> (clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a> == 0) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        runKernel&lt;GPUTPCCFNoiseSuppression, GPUTPCCFNoiseSuppression::noiseSuppression&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        runKernel&lt;GPUTPCCFNoiseSuppression, GPUTPCCFNoiseSuppression::updatePeaks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a423b1e953c11b51f89cf697074e06521">GPUTPCClusterFinder::DumpSuppressedPeaks</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        RunTPCClusterizer_compactPeaks(clusterer, clustererShadow, 1, doGPU, lane);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#acdd290f82d9dfcec60dd4cc619848ecd">mMemoryId</a>, lane);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac294f4bc2a452f0b07979028978c4270">GPUTPCClusterFinder::DumpSuppressedPeaksCompacted</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(lane);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (fragment.index == 0) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          runKernel&lt;GPUMemClean16&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GetGridAutoStep</a>(lane, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {<span class="keyword">nullptr</span>, transferRunning[lane] == 1 ? &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[lane] : <span class="keyword">nullptr</span>}, clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>, <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a> * <span class="keyword">sizeof</span>(*clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>));</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;          transferRunning[lane] = 2;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">if</span> (clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">nClusters</a> == 0) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        runKernel&lt;GPUTPCCFDeconvolution&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aa09731b70ece6cd2870b8e1ca9c60081">GPUTPCClusterFinder::DumpChargeMap</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>, <span class="stringliteral">&quot;Split Charges&quot;</span>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        runKernel&lt;GPUTPCCFClusterizer&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">nClusters</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 3) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;          <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Lane %d: Found clusters: digits %u peaks %u clusters %u&quot;</span>, lane, (<span class="keywordtype">int</span>)clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>, (<span class="keywordtype">int</span>)clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">nPeaks</a>, (<span class="keywordtype">int</span>)clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">nClusters</a>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, &amp;clusterer, lane);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        laneHasData[lane] = <span class="keyword">true</span>;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, 0, clusterer, &amp;<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a41261f68c3a1f979a550648ab2309c74">GPUTPCClusterFinder::DumpCountedPeaks</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>)) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;          clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a3ac24c39179573f5c8a0cd0520a83bf3">DumpClusters</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keywordflow">if</span> (clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>) {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;          runKernel&lt;GPUTPCCFChargeMapFiller, GPUTPCCFChargeMapFiller::resetMaps&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">mPmemory</a>-&gt;<a class="code" href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">counters</a>.<a class="code" href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">nPositions</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordtype">size_t</span> nClsFirst = nClsTotal;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordtype">bool</span> anyLaneHasData = <span class="keyword">false</span>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lane = 0; lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a> &amp;&amp; iSliceBase + lane &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; lane++) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = iSliceBase + lane;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      std::fill(&amp;tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a7a32e75ccf6192097a3c78e86c6aa036">nClusters</a>[iSlice][0], &amp;tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a7a32e75ccf6192097a3c78e86c6aa036">nClusters</a>[iSlice][0] + tpc::Constants::MAXGLOBALPADROW, 0);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(lane);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clusterer = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUTPCClusterFinder</a>&amp; clustererShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">tpcClusterer</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : clusterer;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">if</span> (laneHasData[lane]) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        anyLaneHasData = <span class="keyword">true</span>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (buildNativeGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().tpccfGatherKernel) {</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          runKernel&lt;GPUTPCCFGather&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1), {iSlice}, {}, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer[nClsTotal]);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;          <span class="keywordflow">if</span> (buildNativeGPU) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a611055f7914444f487085e171ccb40b3">tpccfGatherKernel</a>) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;              <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer[nClsTotal], (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7299126c624b473d8c0fe67628b1468c">mPclusterByRow</a>[j * clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad504b4b7246f24ca408014024c1bc965">mNMaxClusterPerRow</a>], <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clustersLinear[0]) * clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j], <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, -2);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buildNativeHost) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[nClsTotal], (<span class="keyword">const</span> <span class="keywordtype">void</span>*)&amp;clustererShadow.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7299126c624b473d8c0fe67628b1468c">mPclusterByRow</a>[j * clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad504b4b7246f24ca408014024c1bc965">mNMaxClusterPerRow</a>], <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clustersLinear[0]) * clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j], <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;          }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;          tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a7a32e75ccf6192097a3c78e86c6aa036">nClusters</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>][j] += clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j];</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;          nClsTotal += clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j];</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">if</span> (transferRunning[lane]) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[lane]);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">RecordMarker</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[lane], <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        transferRunning[lane] = 1;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">if</span> (not propagateMCLabels) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      runKernel&lt;GPUTPCCFMCLabelFlattener, GPUTPCCFMCLabelFlattener::setRowOffsets&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>, lane), {iSlice}, {});</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <a class="code" href="../../d0/dad/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCFMCLabelFlattener.html#a55e60214b5b2de52f3e8d907c84987cc">GPUTPCCFMCLabelFlattener::setGlobalOffsetsAndAllocate</a>(clusterer, mcLinearLabels);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span> (clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j] == 0) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        runKernel&lt;GPUTPCCFMCLabelFlattener, GPUTPCCFMCLabelFlattener::flatten&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(clusterer.<a class="code" href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">mPclusterInRow</a>[j], lane), {iSlice}, {}, j, &amp;mcLinearLabels);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">if</span> (buildNativeHost &amp;&amp; buildNativeGPU &amp;&amp; anyLaneHasData) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#ae34432139934da9df737f38b430a5a3b">delayedOutput</a>) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>.emplace_back(<a class="code" href="../../db/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1outputQueueEntry.html">outputQueueEntry</a>{(<span class="keywordtype">void</span>*)((<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[nClsFirst] - (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[0]), &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer[nClsFirst], (nClsTotal - nClsFirst) * <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[nClsFirst]), <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>});</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUMemCpy</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[nClsFirst], (<span class="keywordtype">void</span>*)&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer[nClsFirst], (nClsTotal - nClsFirst) * <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[nClsFirst]), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">nTPCClustererLanes</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (transferRunning[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[i]);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keyword">static</span> <a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt;o2::MCCompLabel&gt;</a> mcLabels;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(propagateMCLabels ? mcLinearLabels.<a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a6569f075cc8269a0c7f5635ebadc5cbb">header</a>.size() == nClsTotal : <span class="keyword">true</span>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  mcLabels.<a class="code" href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a985ade4a3ea55da8c98ec79e963c2078">setFrom</a>(mcLinearLabels.<a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a6569f075cc8269a0c7f5635ebadc5cbb">header</a>, mcLinearLabels.<a class="code" href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a5234e127178b45f270da47850af819d3">data</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (buildNativeHost &amp;&amp; buildNativeGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().delayedOutput) {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mNClusterNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mNClusterNative = nClsTotal;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeOutput, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0a0f59f79782dfa6c071949012646d56">mOutputClustersNative</a>);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = outputQueueStart; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>.size(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].dst = (<span class="keywordtype">char</span>*)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput + (<span class="keywordtype">size_t</span>)<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].dst;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (buildNativeHost) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a1fd58899f8ae8d16e3c2a677ddabd3c8">clustersLinear</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a5dffcb6a36dd6a6db3c24a8c34dfd527">clustersMCTruth</a> = propagateMCLabels ? &amp;mcLabels : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#afbb61f84fedb341004571f15245b4d56">setOffsetPtrs</a>();</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative = tmpNative;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">if</span> (buildNativeGPU) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">ioPtrs</a>.clustersNative = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeAccess;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;ioPtrs - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;ioPtrs), 0);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    *<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess = *<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess-&gt;clustersLinear = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">mInputsShadow</a>-&gt;mPclusterNativeBuffer;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeAccess-&gt;setOffsetPtrs();</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">TransferMemoryResourceLinkToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mResourceClusterNativeAccess, 0);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="keywordflow">if</span> (synchronizeOutput) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (buildNativeHost &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 4) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        std::sort(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a1d0678d105530d43592d904224522814">clusterOffset</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j]], &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">mInputsHost</a>-&gt;mPclusterNativeOutput[tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a1d0678d105530d43592d904224522814">clusterOffset</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] + tmpNative-&gt;<a class="code" href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a7a32e75ccf6192097a3c78e86c6aa036">nClusters</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j]]);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> = nClsTotal;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a865d51ba0e026696ff29cf72f63e9af1"> 1191</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a865d51ba0e026696ff29cf72f63e9af1">GPUChainTracking::RunTPCTrackingSlices</a>()</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;{</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>) &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a18564cb9593a5a8dffc5b2235a9c0953">OutputControl</a>().<a class="code" href="../../d4/d7c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl.html#a977d935486aa013fcb32dd719cc3979c">OutputType</a> != <a class="code" href="../../d4/d7c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl.html#a4618347055620f67656be8726bfa5119a0ac64733e6a236902ddd3c00aae051fc">GPUOutputControl::AllocateInternal</a> &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a2c9f125deb8ce12d0119192ab3bedc7f">nThreads</a> &gt; 1) {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;mOutputPtr must not be used with multiple threads\n&quot;</span>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  }</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a00dd0d7fcd5a5fd329b5c3abcb9f4de2">GPUStuck</a>()) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a0327b604726fa146470ef5fb49842710">GPUWarning</a>(<span class="stringliteral">&quot;This GPU is stuck, processing of tracking for this event is skipped!&quot;</span>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keywordtype">int</span> retVal = RunTPCTrackingSlices_internal();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (retVal) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keywordflow">if</span> (retVal &gt;= 2) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aad58f27124fcb7c8be0fa2c7788f70ce">ResetHelperThreads</a>(retVal &gt;= 3);</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">return</span> (retVal != 0);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="keywordtype">int</span> GPUChainTracking::RunTPCTrackingSlices_internal()</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;{</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 2) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Running TPC Slice Tracker&quot;</span>);</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  }</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordtype">bool</span> doSliceDataOnGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[0].SliceDataOnGPU();</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().earlyTpcTransform) {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().SetClusterData(<span class="keyword">nullptr</span>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersSector[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().SetClusterData(<span class="keyword">nullptr</span>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersSector[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0]); <span class="comment">// TODO: not needed I think, anyway copied in SetupGPUProcessor</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClustersTotal;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = 0;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().SetClusterData(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], offset);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">if</span> (doGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>)) {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().SetClusterData(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcConverter.mClusters + <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().ClusterIdOffset(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].NHitsTotal(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Data().ClusterIdOffset());</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;      }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      offset += <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nClusterData[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a> = <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Event has %u TPC Clusters, %d TRD Tracklets&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">MemoryScalers</a>()-&gt;<a class="code" href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">nTPCHits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].SetMaxData(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>); <span class="comment">// First iteration to set data sizes</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a2f7769e56e0f17cc59f6ab40f69d4f32">ComputeReuseMax</a>(<span class="keyword">nullptr</span>); <span class="comment">// Resolve maximums for shared buffers</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>], <span class="keyword">false</span>); <span class="comment">// Prepare custom allocation for 1st stack level</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#aa68ac23f8d6230fee708781719e62f29">AllocateRegisteredMemory</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice].MemoryResSliceScratch());</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#aa68ac23f8d6230fee708781719e62f29">AllocateRegisteredMemory</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice].MemoryResSliceInput());</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>], <span class="keyword">true</span>); <span class="comment">// Now we allocate</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a5ea92fca324f00565e0e002416be68f6">ResetRegisteredMemoryPointers</a>(&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice]); <span class="comment">// TODO: The above call breaks the GPU ptrs to already allocated memory. This fixes them. Should actually be cleaner up at the source.</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].SetupCommonMemory();</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keywordtype">bool</span> streamInit[<a class="code" href="../../dc/de9/GPUDefGPUParameters_8h.html#a965cb1eb4e2b1f84d1ed7fc1d4e7b5c7">GPUCA_MAX_STREAMS</a>] = {<span class="keyword">false</span>};</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].GPUParametersConst()-&gt;gpumem = (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#afb7fd07f7ac0d28805ae03fdf0f3b738">DeviceMemoryBase</a>();</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="comment">// Initialize Startup Constants</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].GPUParameters()-&gt;nextStartHit = (((getKernelProperties&lt;GPUTPCTrackletConstructor, GPUTPCTrackletConstructor::allSlices&gt;().minBlocks * <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a733ab06fa1f3914f1df751ecd1aa69e4">BlockCount</a>()) + NSLICES - 1 - <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>) / <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>) * getKernelProperties&lt;GPUTPCTrackletConstructor, GPUTPCTrackletConstructor::allSlices&gt;().nThreads;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].SetGPUTextureBase(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#afb7fd07f7ac0d28805ae03fdf0f3b738">DeviceMemoryBase</a>());</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (!doSliceDataOnGPU) {</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0ac3cfeb0ab6408b3b1906e47fc2f807">RunHelperThreads</a>(&amp;GPUChainTracking::HelperReadEvent, <span class="keyword">this</span>, NSLICES);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ac796a975b2c334bef9bcd83179be4b">PrepareTextures</a>()) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keywordflow">return</span> (2);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="comment">// Copy Tracker Object to GPU Memory</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Copying Tracker objects to GPU&quot;</span>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a4cc3c10bc1e2b243266e7a308b17d64e">PrepareProfile</a>()) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;tpcTrackers, <span class="keyword">sizeof</span>(<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html">GPUTPCTracker</a>) * NSLICES, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      streamInit[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">false</span>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    streamInit[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1] = <span class="keyword">true</span>;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac30869970936bcf670ba9a85c936df02">GPUDebug</a>(<span class="stringliteral">&quot;Initialization (1)&quot;</span>, 0)) {</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">return</span> (2);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="keywordtype">int</span> streamMap[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>];</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordtype">bool</span> error = <span class="keyword">false</span>;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <a class="code" href="../../d6/dff/GPUDefMacros_8h.html#a8f5eec32d1a68364e1f8686a03170527">GPUCA_OPENMP</a>(<a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a930799bc13c911ce05e376c5b6c8ac09">parallel</a> <span class="keywordflow">for</span> num_threads(doGPU || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().ompKernels ? 1 : <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nThreads))</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html">GPUTPCTracker</a>&amp; trk = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>];</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html">GPUTPCTracker</a>&amp; trkShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] : trk;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordtype">int</span> useStream = (<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>());</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 3) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Creating Slice Data (Slice %d)&quot;</span>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>);</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (doSliceDataOnGPU) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;trk, useStream);</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      runKernel&lt;GPUTPCCreateSliceData&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>, useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>}, {<span class="keyword">nullptr</span>, streamInit[useStream] ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>});</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      streamInit[useStream] = <span class="keyword">true</span>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!doGPU || <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1) == 0) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a543960e2b4cb0f2665934341d6426062">ReadEvent</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, 0)) {</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Error reading event&quot;</span>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        error = 1;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Waiting for helper thread %d&quot;</span>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1) - 1);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4b17ce60bb6dd3c89ff4622aa975e0d6">HelperDone</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1) - 1) &lt; (<span class="keywordtype">int</span>)<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>) {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        ;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      }</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65ecc434243949d46778bf569de5dbd1">HelperError</a>(iSlice % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1) - 1)) {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        error = 1;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">if</span> (!doGPU &amp;&amp; trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#aab04bf7ab8b51041e703ac6ee3b41f16">CheckEmptySlice</a>() &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> == 0) {</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 6) {</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a> &lt;&lt; <span class="stringliteral">&quot;\n\nReconstruction: Slice &quot;</span> &lt;&lt; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; NSLICES &lt;&lt; std::endl;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a2c46c5745396cbea3720d67084f6d399">debugMask</a> &amp; 1) {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">if</span> (doSliceDataOnGPU) {</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;trk, -1, <span class="keyword">true</span>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a34370e1e1f8a067a1a994373ca67f7b2">DumpSliceData</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// Initialize temporary memory where needed</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Copying Slice Data to GPU and initializing temporary memory&quot;</span>);</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepAllMemory &amp;&amp; !doSliceDataOnGPU) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      memset((<span class="keywordtype">void</span>*)trk.Data().HitWeights(), 0, trkShadow.Data().NumberOfHitsPlusAlign() * <span class="keyword">sizeof</span>(*trkShadow.Data().HitWeights()));</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      runKernel&lt;GPUMemClean16&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GetGridAutoStep</a>(useStream, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, trkShadow.Data().HitWeights(), trkShadow.Data().NumberOfHitsPlusAlign() * <span class="keyword">sizeof</span>(*trkShadow.Data().HitWeights()));</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">// Copy Data to GPU Global Memory</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (!doSliceDataOnGPU) {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;trk, useStream);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac30869970936bcf670ba9a85c936df02">GPUDebug</a>(<span class="stringliteral">&quot;Initialization (3)&quot;</span>, useStream)) {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;memcpy failure&quot;</span>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    runKernel&lt;GPUTPCNeighboursFinder&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>, useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>}, {<span class="keyword">nullptr</span>, streamInit[useStream] ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>});</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    streamInit[useStream] = <span class="keyword">true</span>;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a9ca273a160747e8527034fd2c4718ff9">keepDisplayMemory</a>) {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;trk, -1, <span class="keyword">true</span>);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      memcpy(trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a6c7e313219bfc8a53e2585e89805e3af">LinkTmpMemory</a>(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ae3603f033c1c86e526a69ac0db43d8de">Res</a>(trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ad104e4fa66037c2eab1a9b4585452ec2">MemoryResLinks</a>()).Ptr(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ae3603f033c1c86e526a69ac0db43d8de">Res</a>(trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ad104e4fa66037c2eab1a9b4585452ec2">MemoryResLinks</a>()).Size());</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a2c46c5745396cbea3720d67084f6d399">debugMask</a> &amp; 2) {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae4185bf26565d44665bc02036e2a871b">DumpLinks</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    runKernel&lt;GPUTPCNeighboursCleaner&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a> - 2, useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>});</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, 4, trk, &amp;<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae4185bf26565d44665bc02036e2a871b">GPUTPCTracker::DumpLinks</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    runKernel&lt;GPUTPCStartHitsFinder&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a> - 6, useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>});</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="preprocessor">#ifdef GPUCA_SORT_STARTHITS_GPU</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      runKernel&lt;GPUTPCStartHitsSorter&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>});</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, 32, trk, &amp;<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a7643bd23fc695348e5311cd1aa4459d0">GPUTPCTracker::DumpStartHits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().memoryAllocationStrategy == <a class="code" href="../../d8/d05/classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource.html#a284954b319bc158539f4c5f868d47d36a968ab40da0397c963a7d46f34a6bb096">GPUMemoryResource::ALLOCATION_INDIVIDUAL</a>) {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae258ddf232ec671131162a088fb04183">UpdateMaxData</a>();</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ab27314658ae4661a3c9f88bec8902e30">MemoryResTracklets</a>());</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a5ba18847d3f81da01d3374aab06b9092">MemoryResOutput</a>());</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (!(doGPU || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 1) || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a003a674aa99f4b54ef7aacf7d67f12d9">trackletConstructorInPipeline</a>) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      runKernel&lt;GPUTPCTrackletConstructor&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>});</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, 128, trk, &amp;<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ac884f73a5ff3b881a2adb0a6dfb766e1">GPUTPCTracker::DumpTrackletHits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugMask &amp; 256 &amp;&amp; !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().comparableDebutOutput) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a91374f30d2bd4159966474701d0db87c">DumpHitWeights</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">if</span> (!(doGPU || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 1) || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletSelectorInPipeline) {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      runKernel&lt;GPUTPCTrackletSelector&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>});</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      runKernel&lt;GPUTPCGlobalTrackingCopyNumbers&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ccc0bbdca8d5bf004187ea77108195a">ThreadCount</a>(), useStream}, {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>}, {}, 1);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, trk.<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae18c2118b6aeaf2f919793ad4262b80b">MemoryResCommon</a>(), useStream, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      streamMap[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>] = useStream;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 3) {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Slice %u, Number of tracks: %d&quot;</span>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, *trk.NTracks());</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, 512, trk, &amp;<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a413a18787fef661c17f8245ca61ee1be">GPUTPCTracker::DumpTrackHits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">if</span> (error) {</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> (3);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span> (doGPU || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 1) {</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> (!doSliceDataOnGPU) {</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a06e0bd9b889dc9a9405387167a40292b">WaitForHelperThreads</a>();</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletSelectorInPipeline) {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletConstructorInPipeline) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">RecordMarker</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        runKernel&lt;GPUTPCTrackletConstructor, 1&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>()});</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">stream</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa3c2e02109437a9f1c1f8eb018f31b2c">SynchronizeEvents</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 4) {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, 128, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>], &amp;<a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ac884f73a5ff3b881a2adb0a6dfb766e1">GPUTPCTracker::DumpTrackletHits</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      }</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordtype">int</span> runSlices = 0;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordtype">int</span> useStream = 0;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> += runSlices) {</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">if</span> (runSlices &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletSelectorSlices) {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;          runSlices++;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        runSlices = CAMath::Min&lt;int&gt;(runSlices, NSLICES - <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">if</span> (getKernelProperties&lt;GPUTPCTrackletSelector&gt;().minBlocks * <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a733ab06fa1f3914f1df751ecd1aa69e4">BlockCount</a>() &lt; (<span class="keywordtype">unsigned</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>)runSlices) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;          runSlices = getKernelProperties&lt;GPUTPCTrackletSelector&gt;().minBlocks * <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a733ab06fa1f3914f1df751ecd1aa69e4">BlockCount</a>();</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;          <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Running TPC Tracklet selector (Stream %d, Slice %d to %d)&quot;</span>, useStream, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> + runSlices);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        }</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        runKernel&lt;GPUTPCTrackletSelector&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(useStream), {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, runSlices});</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        runKernel&lt;GPUTPCGlobalTrackingCopyNumbers&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ccc0bbdca8d5bf004187ea77108195a">ThreadCount</a>(), useStream}, {<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>}, {}, runSlices);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>; k &lt; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> + runSlices; k++) {</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[k].MemoryResCommon(), useStream, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[k]);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          streamMap[k] = useStream;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        }</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        useStream++;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">if</span> (useStream &gt;= <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>()) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;          useStream = 0;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      }</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    }</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> = 0;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    std::array&lt;bool, NSLICES&gt; transferRunning;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    transferRunning.fill(<span class="keyword">true</span>);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) || (doGPU &amp;&amp; !(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>))) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c88c0a5bd5f79a1393cf11bd6016ee1">mWriteOutputDone</a>.fill(0);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0ac3cfeb0ab6408b3b1906e47fc2f807">RunHelperThreads</a>(&amp;GPUChainTracking::HelperOutput, <span class="keyword">this</span>, NSLICES);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tmpSlice = 0;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;          <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Transfering Tracks from GPU to Host&quot;</span>);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        }</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">if</span> (tmpSlice == <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>) {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa3c2e02109437a9f1c1f8eb018f31b2c">SynchronizeEvents</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        }</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">while</span> (tmpSlice &lt; NSLICES &amp;&amp; (tmpSlice == <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#abfd65ec9224c39fc814775de6ac36e01">IsEventDone</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[tmpSlice]))) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[tmpSlice]);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          <span class="keywordflow">if</span> (*<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[tmpSlice].NTracks() &gt; 0) {</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[tmpSlice].MemoryResOutput(), streamMap[tmpSlice], &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[tmpSlice]);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            transferRunning[tmpSlice] = <span class="keyword">false</span>;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;          }</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;          tmpSlice++;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepAllMemory) {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>], -1, <span class="keyword">true</span>);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletConstructorInPipeline) {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugMask &amp; 256 &amp;&amp; !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().comparableDebutOutput) {</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;              <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].DumpHitWeights(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            }</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;          }</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().trackletSelectorInPipeline) {</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugMask &amp; 512) {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;              <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].DumpTrackHits(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            }</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;          }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordflow">if</span> (transferRunning[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]) {</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa3c2e02109437a9f1c1f8eb018f31b2c">SynchronizeEvents</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[iSlice]);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        }</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;          <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Tracks Transfered: %d / %d&quot;</span>, *<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice].NTracks(), *<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[iSlice].NTrackHits());</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        }</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;          <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Data ready for slice %d, helper thread %d&quot;</span>, iSlice, iSlice % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1));</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> = <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking) {</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tmpSlice2a = 0; tmpSlice2a &lt;= <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>; tmpSlice2a += <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#ae86c24230e7fe8103c42c49284e33421">nDeviceHelperThreads</a> + 1) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tmpSlice2 = GPUTPCGlobalTracking::GlobalTrackingSliceOrder(tmpSlice2a);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceLeft = (tmpSlice2 + (NSLICES / 2 - 1)) % (NSLICES / 2);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sliceRight = (tmpSlice2 + 1) % (NSLICES / 2);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            <span class="keywordflow">if</span> (tmpSlice2 &gt;= (<span class="keywordtype">int</span>)NSLICES / 2) {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;              sliceLeft += NSLICES / 2;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;              sliceRight += NSLICES / 2;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            }</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            <span class="keywordflow">if</span> (tmpSlice2 &lt;= iSlice &amp;&amp; sliceLeft &lt;= iSlice &amp;&amp; sliceRight &lt;= iSlice &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c88c0a5bd5f79a1393cf11bd6016ee1">mWriteOutputDone</a>[tmpSlice2] == 0) {</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;              <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GlobalTracking</a>(tmpSlice2, 0);</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;              <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">WriteOutput</a>(tmpSlice2, 0);</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;              <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c88c0a5bd5f79a1393cf11bd6016ee1">mWriteOutputDone</a>[tmpSlice2] = 1;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            }</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          <span class="keywordflow">if</span> (iSlice % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nDeviceHelperThreads + 1) == 0) {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">WriteOutput</a>(iSlice, 0);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;          }</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        }</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a06e0bd9b889dc9a9405387167a40292b">WaitForHelperThreads</a>();</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    }</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <span class="keywordflow">if</span> (transferRunning[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>]) {</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[iSlice]);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      }</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking) {</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GlobalTracking</a>(iSlice, 0, !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().fullMergerOnGPU);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="../../d6/dff/GPUDefMacros_8h.html#a8f5eec32d1a68364e1f8686a03170527">GPUCA_OPENMP</a>(<a class="code" href="../../dd/d8d/namespaceo2_1_1framework.html#a930799bc13c911ce05e376c5b6c8ac09">parallel</a> <span class="keywordflow">for</span> num_threads(doGPU || <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().ompKernels ? 1 : <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().nThreads))</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking) {</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GlobalTracking</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, 0);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      }</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GetRecoStepsOutputs</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">WriteOutput</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, 0);</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      }</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    }</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  }</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;kernelError != 0) {</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* errorMsgs[] = <a class="code" href="../../dc/de9/GPUDefGPUParameters_8h.html#a74481f2caa41aac925721511f27df6a9">GPUCA_ERROR_STRINGS</a>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* errorMsg = (unsigned)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;kernelError &gt;= <span class="keyword">sizeof</span>(errorMsgs) / <span class="keyword">sizeof</span>(errorMsgs[0]) ? <span class="stringliteral">&quot;UNKNOWN&quot;</span> : errorMsgs[<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;kernelError];</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;GPU Tracker returned Error Code %d (%s) in slice %d (Clusters %d)&quot;</span>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;kernelError, errorMsg, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].Data().NumberOfHits());</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 3) {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> = 0; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>++) {</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Slice %d - Tracks: Local %d Global %d - Hits: Local %d Global %d&quot;</span>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>,</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;              <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;nLocalTracks, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;nTracks, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;nLocalTrackHits, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>].CommonMemory()-&gt;nTrackHits);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  }</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugMask &amp; 1024 &amp;&amp; !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().comparableDebutOutput) {</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].DumpOutput(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a800b1ed9c542c883fb70d695257a3536">DoProfile</a>()) {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  }</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nSliceTracks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = *<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].NTracks();</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.sliceTracks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Tracks();</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nSliceClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = *<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].NTrackHits();</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.sliceClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].TrackHits();</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepDisplayMemory &amp;&amp; !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepAllMemory) {</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>, &amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], -1, <span class="keyword">true</span>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  }</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>(); <span class="comment">// Todo: why needed? processing small data fails otherwise</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 2) {</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;TPC Slice Tracker finished&quot;</span>);</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  }</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="keywordtype">void</span> GPUChainTracking::RunTPCTrackingMerger_MergeBorderTracks(<span class="keywordtype">char</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <span class="keywordtype">char</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>, <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737c">GPUReconstruction::krnlDeviceType</a> deviceType)</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a> = <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a> == -1 ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2 : <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().alternateBorderSort) {</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordtype">bool</span> doGPUall = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a> &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">fullMergerOnGPU</a>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>&amp; Merger = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a>;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>&amp; MergerShadow = doGPUall ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a> : Merger;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>, Merger.MemoryResMemory(), 0, <span class="keyword">nullptr</span>, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">RecordMarker</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>, 0);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#ad02d2488127e1cf9a27262c4ee30ba85">stream</a> = <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>();</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 0&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(stream, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {<span class="keyword">nullptr</span>, stream ? &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a> : <span class="keyword">nullptr</span>}, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa3c2e02109437a9f1c1f8eb018f31b2c">SynchronizeEvents</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">init</a>);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#ad02d2488127e1cf9a27262c4ee30ba85">stream</a> = <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> % <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>();</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordtype">int</span> n1, n2;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <a class="code" href="../../dd/dc8/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack.html">GPUTPCGMBorderTrack</a> *b1, *b2;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="keywordtype">int</span> jSlice;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      Merger.MergeBorderTracksSetup(n1, n2, b1, b2, jSlice, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <a class="code" href="../../da/ddf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack_1_1Range.html">GPUTPCGMBorderTrack::Range</a>* range1 = MergerShadow.BorderRange(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <a class="code" href="../../da/ddf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack_1_1Range.html">GPUTPCGMBorderTrack::Range</a>* range2 = MergerShadow.BorderRange(jSlice) + *<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[jSlice].NTracks();</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 3&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, range1, n1, 0);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 3&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, range2, n2, 1);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3245b84c69e5e936594c77d64d26cc8a">deviceEvent</a>** <a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keywordtype">int</span> ne = 0;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == n - 1) { <span class="comment">// Synchronize all execution on stream 0 with the last kernel</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        ne = std::min&lt;int&gt;(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>());</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; ne; j++) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">RecordMarker</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[j], j);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        }</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        e = &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">slice</a>[1];</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        ne--;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        stream = 0;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 2&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(stream, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {<span class="keyword">nullptr</span>, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>, ne}, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 0&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    runKernel&lt;GPUTPCGMMergerMergeBorders, 1&gt;({2 * <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 0, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      runKernel&lt;GPUTPCGMMergerMergeBorders, 2&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">withinSlice</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">mergeMode</a>);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  }</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a77a8baeadd290be8dbf1bfc970eb0799">ReturnVolatileDeviceMemory</a>();</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;}</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="keywordtype">void</span> GPUChainTracking::RunTPCTrackingMerger_Resolve(<span class="keywordtype">char</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a61a53b3e6c9b8cd972655a4eade777f0">useOrigTrackParam</a>, <span class="keywordtype">char</span> mergeAll, <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737c">GPUReconstruction::krnlDeviceType</a> deviceType)</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;{</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  runKernel&lt;GPUTPCGMMergerResolve, 0&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  runKernel&lt;GPUTPCGMMergerResolve, 1&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  runKernel&lt;GPUTPCGMMergerResolve, 2&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  runKernel&lt;GPUTPCGMMergerResolve, 3&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a61a53b3e6c9b8cd972655a4eade777f0">useOrigTrackParam</a>, mergeAll);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;}</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4"> 1668</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4">GPUChainTracking::RunTPCTrackingMerger</a>(<span class="keywordtype">bool</span> synchronizeOutput)</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;{</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 6 &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().comparableDebutOutput &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.mergerReadFromTrackerDirectly) {</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <a class="code" href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html">GPUTPCTracker</a>&amp; trk = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">tpcTrackers</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(RecoStep::NoRecoStep, &amp;trk);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="keyword">auto</span> sorter = [&amp;trk](<a class="code" href="../../d6/dfa/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTrack.html">GPUTPCTrack</a>&amp; trk1, <a class="code" href="../../d6/dfa/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTrack.html">GPUTPCTrack</a>&amp; trk2) {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="keywordflow">if</span> (trk1.NHits() == trk2.NHits()) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;          <span class="keywordflow">return</span> trk1.Param().Y() &gt; trk2.Param().Y();</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="keywordflow">return</span> trk1.NHits() &gt; trk2.NHits();</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      };</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      std::sort(trk.Tracks(), trk.Tracks() + trk.CommonMemory()-&gt;nLocalTracks, sorter);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      std::sort(trk.Tracks() + trk.CommonMemory()-&gt;nLocalTracks, trk.Tracks() + *trk.NTracks(), sorter);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(RecoStep::NoRecoStep, &amp;trk, 0);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordtype">bool</span> doGPUall = doGPU &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">fullMergerOnGPU</a>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737c">GPUReconstruction::krnlDeviceType</a> deviceType = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">fullMergerOnGPU</a> ? <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca06b9281e396db002010bde1de57262eb">GPUReconstruction::krnlDeviceType::Auto</a> : <a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca2b55387dd066c5bac646ac61543d152d">GPUReconstruction::krnlDeviceType::CPU</a>;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numBlocks = doGPUall ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a733ab06fa1f3914f1df751ecd1aa69e4">BlockCount</a>() : 1;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>&amp; Merger = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a>;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>&amp; MergerShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a> : Merger;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>&amp; MergerShadowAll = doGPUall ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a> : Merger;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 2) {</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Running TPC Merger&quot;</span>);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  }</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;Merger, <span class="keyword">true</span>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">if</span> (Merger.<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a533e3b44d43fc43e47dd227b100a6995">CheckSlices</a>()) {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  }</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  memset(Merger.Memory(), 0, <span class="keyword">sizeof</span>(*Merger.Memory()));</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcMerger - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;MergerShadow, <span class="keyword">sizeof</span>(MergerShadow), 0);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keywordflow">if</span> (doGPUall) {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>, &amp;Merger, 0);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  }</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    runKernel&lt;GPUTPCGMMergerUnpackResetIds&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    runKernel&lt;GPUTPCGMMergerUnpackSaveNumber&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    runKernel&lt;GPUTPCGMMergerSliceRefit&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    runKernel&lt;GPUTPCGMMergerUnpackSaveNumber&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, NSLICES + <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    runKernel&lt;GPUTPCGMMergerUnpackGlobal&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  runKernel&lt;GPUTPCGMMergerUnpackSaveNumber&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 2 * <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#aae7f90e1f2eec4265dd11bd06c6c470d">GPUTPCGMMerger::DumpSliceTracks</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  runKernel&lt;GPUTPCGMMergerClearLinks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 0);</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  runKernel&lt;GPUMemClean16&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.TmpCounter(), NSLICES * <span class="keyword">sizeof</span>(*MergerShadowAll.TmpCounter()));</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  runKernel&lt;GPUTPCGMMergerMergeWithinPrepare&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(1, 0, deviceType);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  RunTPCTrackingMerger_Resolve(0, 1, deviceType);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#ac06e716d97559320145abd218f154a7d">GPUTPCGMMerger::DumpMergedWithinSlices</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  runKernel&lt;GPUTPCGMMergerClearLinks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 0);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  runKernel&lt;GPUMemClean16&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.TmpCounter(), 2 * NSLICES * <span class="keyword">sizeof</span>(*MergerShadowAll.TmpCounter()));</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  runKernel&lt;GPUTPCGMMergerMergeSlicesPrepare&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(2u, numBlocks), 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 2, 3, 0);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(0, 0, deviceType);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  RunTPCTrackingMerger_Resolve(0, 1, deviceType);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  runKernel&lt;GPUMemClean16&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.TmpCounter(), 2 * NSLICES * <span class="keyword">sizeof</span>(*MergerShadowAll.TmpCounter()));</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  runKernel&lt;GPUTPCGMMergerMergeSlicesPrepare&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(2u, numBlocks), 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 0, 1, 0);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(0, 0, deviceType);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  RunTPCTrackingMerger_Resolve(0, 1, deviceType);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  runKernel&lt;GPUMemClean16&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.TmpCounter(), 2 * NSLICES * <span class="keyword">sizeof</span>(*MergerShadowAll.TmpCounter()));</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  runKernel&lt;GPUTPCGMMergerMergeSlicesPrepare&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(<a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(2u, numBlocks), 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 0, 1, 1);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(0, -1, deviceType);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  RunTPCTrackingMerger_Resolve(0, 1, deviceType);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a7919415ecb38dfb31197aac76767e98f">GPUTPCGMMerger::DumpMergedBetweenSlices</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  runKernel&lt;GPUMemClean16&gt;({1, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.TmpCounter(), 2 * NSLICES * <span class="keyword">sizeof</span>(*MergerShadowAll.TmpCounter()));</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  runKernel&lt;GPUTPCGMMergerLinkGlobalTracks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  runKernel&lt;GPUTPCGMMergerCollect&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a68a706391977e4ada7b2df0f45cf3b1c">GPUTPCGMMerger::DumpCollected</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  runKernel&lt;GPUTPCGMMergerClearLinks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, 1);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(-1, 1, deviceType);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  RunTPCTrackingMerger_MergeBorderTracks(-1, 2, deviceType);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  runKernel&lt;GPUTPCGMMergerMergeCE&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a50a0849a10ad547c8a115e96e5d91dd8">GPUTPCGMMerger::DumpMergeCE</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordtype">int</span> waitForTransfer = 0;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="keywordflow">if</span> (doGPUall) {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(RecoStep::TPCMerging, Merger.MemoryResMemory(), 0, <span class="keyword">nullptr</span>, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    waitForTransfer = 1;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af5d10c49c75eb2964eb61929d581d680">mergerSortTracks</a>) {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    runKernel&lt;GPUTPCGMMergerSortTracksPrepare&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3a41715047866c36ea85f56f236303bc">CondWaitEvent</a>(waitForTransfer, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    runKernel&lt;GPUTPCGMMergerSortTracks&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  }</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxId = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">rec</a>.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a34b0182618d30abd4afe9f5bcb5d88aa">NonConsecutiveIDs</a> ? Merger.Memory()-&gt;nOutputTrackClusters : Merger.NMaxClusters();</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="keywordflow">if</span> (maxId &gt; Merger.NMaxClusters()) {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;mNMaxClusters too small&quot;</span>);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  }</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.NonConsecutiveIDs) {</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* sharedCount = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>*)MergerShadowAll.TmpMem() + CAMath::nextMultipleOf&lt;4&gt;(Merger.Memory()-&gt;nOutputTracks);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    runKernel&lt;GPUMemClean16&gt;({numBlocks, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ccc0bbdca8d5bf004187ea77108195a">ThreadCount</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, sharedCount, maxId * <span class="keyword">sizeof</span>(*sharedCount));</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    runKernel&lt;GPUMemClean16&gt;({numBlocks, -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ccc0bbdca8d5bf004187ea77108195a">ThreadCount</a>(), 0, deviceType, RecoStep::TPCMerging}, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, {}, MergerShadowAll.ClusterAttachment(), maxId * <span class="keyword">sizeof</span>(*MergerShadowAll.ClusterAttachment()));</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    runKernel&lt;GPUTPCGMMergerPrepareClusters, 0&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3a41715047866c36ea85f56f236303bc">CondWaitEvent</a>(waitForTransfer, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    runKernel&lt;GPUTPCGMMergerSortTracksQPt&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    runKernel&lt;GPUTPCGMMergerPrepareClusters, 1&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    runKernel&lt;GPUTPCGMMergerPrepareClusters, 2&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(numBlocks, 0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a0127c91f96a048a4e537eca2d4089697">GPUTPCGMMerger::DumpFitPrepare</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">if</span> (doGPUall) {</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3a41715047866c36ea85f56f236303bc">CondWaitEvent</a>(waitForTransfer, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">if</span> (waitForTransfer) {</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    }</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (doGPU) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(RecoStep::TPCMerging, &amp;Merger);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  }</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().delayedOutput) {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>.size(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUMemCpy</a>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].step, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../dc/da3/glcorearb_8h.html#a85e59cd56e10d0a7f49ab199f277d486">dst</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, <span class="keyword">false</span>);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">mOutputQueue</a>.clear();</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  }</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().fitSlowTracksInOtherPass &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().mergerSortTracks) {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    runKernel&lt;GPUTPCGMMergerTrackFit&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GetGrid</a>(Merger.NSlowTracks(), -<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">WarpSize</a>(), 0), krnlRunRangeNone, krnlEventNone, -1);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    runKernel&lt;GPUTPCGMMergerTrackFit&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(Merger.NOutputTracks() - Merger.NSlowTracks(), 0), krnlRunRangeNone, krnlEventNone, 1);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    runKernel&lt;GPUTPCGMMergerTrackFit&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(Merger.NOutputTracks(), 0), krnlRunRangeNone, krnlEventNone, 0);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  }</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.retryRefit == 1) {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    runKernel&lt;GPUTPCGMMergerTrackFit&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(Merger.NOutputTracks(), 0), krnlRunRangeNone, krnlEventNone, -2);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.loopInterpolationInExtraPass) {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    runKernel&lt;GPUTPCGMMergerFollowLoopers&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(Merger.NOutputTracks(), 0), krnlRunRangeNone, krnlEventNone);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  }</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">if</span> (doGPU &amp;&amp; !doGPUall) {</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(RecoStep::TPCMerging, &amp;Merger);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  }</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#ae3bfcf5d82ebeb82d4a4b4907bf98e49">GPUTPCGMMerger::DumpRefit</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  runKernel&lt;GPUTPCGMMergerFinalize, 0&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">rec</a>.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a34b0182618d30abd4afe9f5bcb5d88aa">NonConsecutiveIDs</a>) {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    runKernel&lt;GPUTPCGMMergerFinalize, 1&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    runKernel&lt;GPUTPCGMMergerFinalize, 2&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0, deviceType), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  }</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">DoDebugAndDump</a>(RecoStep::TPCMerging, 0, doGPUall, Merger, &amp;<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#acccba4ea32c487bc836cfbcc56adee27">GPUTPCGMMerger::DumpFinal</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a>);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keywordflow">if</span> (doGPUall) {</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">RecordMarker</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>, 0);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">TransferMemoryResourceLinkToHost</a>(RecoStep::TPCMerging, Merger.MemoryResOutput(), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1, <span class="keyword">nullptr</span>, &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">ReleaseEvent</a>(&amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">mEvents</a>-&gt;<a class="code" href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">single</a>);</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordflow">if</span> (synchronizeOutput) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    }</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(RecoStep::TPCMerging, &amp;Merger);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  }</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepDisplayMemory &amp;&amp; !<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().keepAllMemory) {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(RecoStep::TPCMerging, &amp;Merger, -1, <span class="keyword">true</span>);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a77a8baeadd290be8dbf1bfc970eb0799">ReturnVolatileDeviceMemory</a>();</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mergedTracks = Merger.OutputTracks();</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMergedTracks = Merger.NOutputTracks();</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mergedTrackHits = Merger.Clusters();</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMergedTrackHits = Merger.NOutputTrackClusters();</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 2) {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;TPC Merger Finished (output clusters %d / input clusters %d)&quot;</span>, Merger.NOutputTrackClusters(), Merger.NClusters());</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  }</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;}</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a9d3bc73d6237b7053fcc7009274a2260"> 1853</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a9d3bc73d6237b7053fcc7009274a2260">GPUChainTracking::RunTPCCompression</a>()</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;{</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ad5652f8cb2e921d5dceca1338d6b30f5">RecoStep</a> myStep = <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html">GPUTPCCompression</a>&amp; Compressor = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acb16771ee48e5ec173f2470150c5043c">tpcCompressor</a>;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html">GPUTPCCompression</a>&amp; CompressorShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acb16771ee48e5ec173f2470150c5043c">tpcCompressor</a> : Compressor;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a037e58dd205fd582954dfc0317b34c5c">mNMaxClusterSliceRow</a> = 0;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] &gt; Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a037e58dd205fd582954dfc0317b34c5c">mNMaxClusterSliceRow</a>) {</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a037e58dd205fd582954dfc0317b34c5c">mNMaxClusterSliceRow</a> = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;nClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j];</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      }</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    }</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  }</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;Compressor, <span class="keyword">true</span>);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <span class="keyword">new</span> (Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a612834ff8a86879fbee791169dc585e7">mMemory</a>) <a class="code" href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html">GPUTPCCompression::memory</a>;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(myStep, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcCompressor - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;CompressorShadow, <span class="keyword">sizeof</span>(CompressorShadow), 0);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(myStep, &amp;Compressor, 0);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  runKernel&lt;GPUMemClean16&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GetGridAutoStep</a>(0, <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>, CompressorShadow.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#adf365c11aad2c869acf8e2eb821424ef">mClusterStatus</a>, Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a1fcfc53f8e9b8d31e42be3b7eb6b4d8a">mMaxClusters</a> * <span class="keyword">sizeof</span>(CompressorShadow.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#adf365c11aad2c869acf8e2eb821424ef">mClusterStatus</a>[0]));</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  runKernel&lt;GPUTPCCompressionKernels, GPUTPCCompressionKernels::step0attached&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  runKernel&lt;GPUTPCCompressionKernels, GPUTPCCompressionKernels::step1unattached&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(myStep, &amp;Compressor, 0);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <a class="code" href="../../d6/d95/structo2_1_1tpc_1_1CompressedClusters.html">o2::tpc::CompressedClusters</a>* O = Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ac8be0ecc7018564881a578a23c042965">mOutput</a>;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  memset((<span class="keywordtype">void</span>*)O, 0, <span class="keyword">sizeof</span>(*O));</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  O-&gt;nTracks = Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a612834ff8a86879fbee791169dc585e7">mMemory</a>-&gt;<a class="code" href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#ab13756ebd3c2dd7aecd9f7c91eca0a82">nStoredTracks</a>;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  O-&gt;nAttachedClusters = Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a612834ff8a86879fbee791169dc585e7">mMemory</a>-&gt;<a class="code" href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#a8d6198925e6db8957db1893a0dc95ade">nStoredAttachedClusters</a>;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  O-&gt;nUnattachedClusters = Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a612834ff8a86879fbee791169dc585e7">mMemory</a>-&gt;<a class="code" href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#a828aea3109dbed18801c40083e95534d">nStoredUnattachedClusters</a>;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  O-&gt;nAttachedClustersReduced = O-&gt;nAttachedClusters - O-&gt;nTracks;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  O-&gt;nSliceRows = NSLICES * <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  O-&gt;nComppressionModes = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">rec</a>.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a9e92ef344b5580e431515e8209bd644d">tpcCompressionModes</a>;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordtype">size_t</span> outputSize = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a502ed0e55617137bc96581a8fa82270f">mMemoryResOutputHost</a>, <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa36970668b66532fa9ebf53244a15759">mOutputCompressedClusters</a>);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ad9c8942233122c362d29f0608e708b71">mOutputFlat</a>-&gt;<a class="code" href="../../dd/d43/structo2_1_1tpc_1_1CompressedClustersFlat.html#ae160f86a3d2af3785375ea63ee2f0cb7">set</a>(outputSize, *Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ac8be0ecc7018564881a578a23c042965">mOutput</a>);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dd/d10/structo2_1_1tpc_1_1CompressedClustersPtrs.html">o2::tpc::CompressedClustersPtrs</a>* <a class="code" href="../../db/d72/classP.html">P</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="../../da/dd8/classHighResTimer.html">HighResTimer</a>* gatherTimer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">DeviceProcessingSettings</a>().tpcCompressionGatherMode == 2) {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(myStep, &amp;Compressor, 0);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nBlocks = 2;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    runKernel&lt;GPUTPCCompressionKernels, GPUTPCCompressionKernels::step2gather&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GetGridBlk</a>(nBlocks, 0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">krnlEventNone</a>);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    getKernelTimer&lt;GPUTPCCompressionKernels, GPUTPCCompressionKernels::step2gather&gt;(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>, 0, outputSize);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordtype">char</span> direction = 0;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">DeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a98b257efe50891982d348aaee620bba8">tpcCompressionGatherMode</a> == 0) {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      P = &amp;CompressorShadow.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a792c0521c5d77f99830010422b347ff5">mPtrs</a>;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">DeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a98b257efe50891982d348aaee620bba8">tpcCompressionGatherMode</a> == 1) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      P = &amp;Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a792c0521c5d77f99830010422b347ff5">mPtrs</a>;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      direction = -1;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      gatherTimer = &amp;getTimer&lt;GPUTPCCompressionKernels&gt;(<span class="stringliteral">&quot;GPUTPCCompression_GatherOnCPU&quot;</span>, 0);</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      gatherTimer-&gt;<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    }</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;nSliceRowClusters, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ad5586d3e3c86b2751ff931d35a882051">nSliceRowClusters</a>, NSLICES * GPUCA_ROW_COUNT * <span class="keyword">sizeof</span>(O-&gt;nSliceRowClusters[0]), 0, direction);</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;nTrackClusters, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a1a1e1e0fa7a8f2ca329690495321c195">nTrackClusters</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;nTrackClusters[0]), 0, direction);</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = 0;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a>; j++) {</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;qTotU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a636a2c6795db46faecc46cc36977e7d8">qTotU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;qTotU[0]), 0, direction);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;qMaxU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a46e6602297bfb7de7e26d48076ca3b53">qMaxU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;qMaxU[0]), 0, direction);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;flagsU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#af390a15b4f294ac48b41f086291a00d6">flagsU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;flagsU[0]), 0, direction);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;padDiffU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a8fcdc3737de0b28706b0fef3c614f0c8">padDiffU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;padDiffU[0]), 0, direction);</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;timeDiffU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#acb254cc74fae72ee0637ae0ad37a11c4">timeDiffU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;timeDiffU[0]), 0, direction);</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sigmaPadU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a96613f30de73ec6ca1ddab52c4641dc7">sigmaPadU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;sigmaPadU[0]), 0, direction);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sigmaTimeU + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac199a2ffc8745106692ac44783659faa">sigmaTimeU</a> + <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative-&gt;clusterOffset[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j] * <span class="keyword">sizeof</span>(O-&gt;sigmaTimeU[0]), 0, direction);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        offset += O-&gt;nSliceRowClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * GPUCA_ROW_COUNT + j];</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      }</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    offset = 0;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; O-&gt;nTracks; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;qTotA + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac4d3125aa50ccdf03c37bd37f1d0b773">qTotA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(O-&gt;qTotA[0]), 0, direction);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;qMaxA + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#af2d3083e411ef0f020c87802d113ac0c">qMaxA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(O-&gt;qMaxA[0]), 0, direction);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;flagsA + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac95192f828b99337342cc241f1514b2b">flagsA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(O-&gt;flagsA[0]), 0, direction);</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sigmaPadA + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a3f953d9b9f7332f0bf31639ef2d13dcd">sigmaPadA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(O-&gt;sigmaPadA[0]), 0, direction);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sigmaTimeA + offset, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#aca7469df90901b394ac0ed4021e2edf2">sigmaTimeA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * <span class="keyword">sizeof</span>(O-&gt;sigmaTimeA[0]), 0, direction);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;      <span class="comment">// First index stored with track</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;rowDiffA + offset - <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a8a2d827ea698fdf95d92856ad72d512b">rowDiffA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1, (O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1) * <span class="keyword">sizeof</span>(O-&gt;rowDiffA[0]), 0, direction);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sliceLegDiffA + offset - <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ad4ea3ef60127e1bc71828c1e959bdfe4">sliceLegDiffA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1, (O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1) * <span class="keyword">sizeof</span>(O-&gt;sliceLegDiffA[0]), 0, direction);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;padResA + offset - <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ab3edd0c45a2bc21070df16d27bd56428">padResA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1, (O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1) * <span class="keyword">sizeof</span>(O-&gt;padResA[0]), 0, direction);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;timeResA + offset - <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#aa8e87429fd6e09d7b89c4d283b599ad7">timeResA</a> + Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">mAttachedClusterFirstIndex</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1, (O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1) * <span class="keyword">sizeof</span>(O-&gt;timeResA[0]), 0, direction);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      offset += O-&gt;nTrackClusters[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;qPtA, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac077dea9b5b4300e7dafdf626092e008">qPtA</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;qPtA[0]), 0, direction);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;rowA, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a69b848b9608a18fe18bf04f9b932ffb5">rowA</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;rowA[0]), 0, direction);</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;sliceA, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ab4c7273ec226e5e48b2353b137e02ce7">sliceA</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;sliceA[0]), 0, direction);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;timeA, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a7bdf1fd279539660c9f369a66438e14f">timeA</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;timeA[0]), 0, direction);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUMemCpyAlways</a>(myStep, O-&gt;padA, P-&gt;<a class="code" href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a9ee12e2ff416f9b0c055abbc71a01ae5">padA</a>, O-&gt;nTracks * <span class="keyword">sizeof</span>(O-&gt;padA[0]), 0, direction);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">DeviceProcessingSettings</a>().tpcCompressionGatherMode == 1) {</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    gatherTimer-&gt;<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  }</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcCompressedClusters = Compressor.<a class="code" href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ad9c8942233122c362d29f0608e708b71">mOutputFlat</a>;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;}</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ac4affe0e901d90cfd2b5221f7c34536d"> 1956</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ac4affe0e901d90cfd2b5221f7c34536d">GPUChainTracking::RunTRDTracking</a>()</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;{</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker.IsInitialized()) {</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  }</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>();</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  std::vector&lt;GPUTRDTrackGPU&gt; tracksTPC;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  std::vector&lt;int&gt; tracksTPCLab;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html">GPUTRDTrackerGPU</a>&amp; Tracker = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acdfa716b6cc3ff5bda4ddaca27766d11">trdTracker</a>;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMergedTracks; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack.html">GPUTPCGMMergedTrack</a>&amp; trk = <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.mergedTracks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">if</span> (!trk.OK()) {</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    }</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> (trk.Looper()) {</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">rec</a>.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#abc3674b857f0c613f3fd7218ec6ad517">NWaysOuter</a>) {</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      tracksTPC.emplace_back(trk.OuterParam());</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      tracksTPC.emplace_back(trk);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    }</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    tracksTPC.back().SetTPCtrackId(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    tracksTPCLab.push_back(-1);</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  }</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  Tracker.<a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a9419331c60a69260de8240e4eed9ed05">Reset</a>();</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  Tracker.SetMaxData(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;ioPtrs);</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().memoryAllocationStrategy == <a class="code" href="../../d8/d05/classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource.html#a284954b319bc158539f4c5f868d47d36a968ab40da0397c963a7d46f34a6bb096">GPUMemoryResource::ALLOCATION_INDIVIDUAL</a>) {</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(Tracker.<a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a118c964794507dccccab8d332b6d8f5c">MemoryTracks</a>());</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">AllocateRegisteredMemory</a>(Tracker.<a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a9904cd6a58efd16c8a86518a28afb1c0">MemoryTracklets</a>()); <span class="comment">// TODO: Is this needed?</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  }</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iTracklet = 0; iTracklet &lt; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets; ++iTracklet) {</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">if</span> (Tracker.LoadTracklet(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTracklets[iTracklet], <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTrackletsMC ? <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTrackletsMC[iTracklet].mLabel : <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  }</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iTrack = 0; iTrack &lt; tracksTPC.size(); ++iTrack) {</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">if</span> (Tracker.LoadTrack(tracksTPC[iTrack], tracksTPCLab[iTrack])) {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    }</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  }</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  Tracker.<a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#acc58be76789310c2b1a4c9ec38b8447d">DoTracking</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracks = Tracker.NTracks();</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.trdTracks = Tracker.Tracks();</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>();</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;}</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6b88ff84879e043607c2014cf4680df0"> 2012</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6b88ff84879e043607c2014cf4680df0">GPUChainTracking::DoTRDGPUTracking</a>()</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;{</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="preprocessor">#ifdef HAVE_O2HEADERS</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordtype">bool</span> doGPU = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GetRecoStepsGPU</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  <a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html">GPUTRDTrackerGPU</a>&amp; Tracker = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acdfa716b6cc3ff5bda4ddaca27766d11">trdTracker</a>;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html">GPUTRDTrackerGPU</a>&amp; TrackerShadow = doGPU ? <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">processorsShadow</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acdfa716b6cc3ff5bda4ddaca27766d11">trdTracker</a> : Tracker;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">SetupGPUProcessor</a>(&amp;Tracker, <span class="keyword">true</span>);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  TrackerShadow.SetGeometry(reinterpret_cast&lt;GPUTRDGeometry*&gt;(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>.trdGeometry));</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;trdTracker - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;TrackerShadow, <span class="keyword">sizeof</span>(TrackerShadow), 0);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">TransferMemoryResourcesToGPU</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>, &amp;Tracker);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  runKernel&lt;GPUTRDTrackerKernels&gt;(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GetGridAuto</a>(0), <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">krnlRunRangeNone</a>);</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">TransferMemoryResourcesToHost</a>(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>, &amp;Tracker);</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">SynchronizeGPU</a>();</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 2) {</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;GPU TRD tracker Finished&quot;</span>);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  }</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">return</span> (0);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bef245c04f4beef2e5ff0576f3b20d6"> 2039</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bef245c04f4beef2e5ff0576f3b20d6">GPUChainTracking::RunChain</a>()</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;{</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runCompressionStatistics &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">mCompressionStatistics</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">mCompressionStatistics</a>.reset(<span class="keyword">new</span> <a class="code" href="../../d8/ddb/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterStatistics.html">GPUTPCClusterStatistics</a>);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  }</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> needQA = <a class="code" href="../../d0/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA.html#a0d6b0e0552989e5993e0e9889527c33a">GPUQA::QAAvailable</a>() &amp;&amp; (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a0c24e551e9b160aa1d5fab2c14d575ac">runQA</a> || (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a> &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nMCInfosTPC));</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> (needQA &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;IsInitialized() == <span class="keyword">false</span>) {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;InitQA()) {</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  }</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="../../da/dd8/classHighResTimer.html">HighResTimer</a> timerTracking, timerMerger, timerQA, timerTransform, timerCompression, timerClusterer, timerPrepare, timerTRD;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">debugLevel</a> &gt;= 6) {</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">mDebugFile</a> &lt;&lt; <span class="stringliteral">&quot;\n\nProcessing event &quot;</span> &lt;&lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a623bb8ee3a3a7d4c51cf52e84c8b6e23">getNEventsProcessed</a>() &lt;&lt; std::endl;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  }</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4b4a3f0a41999591e10837407b86efb6">slavesExist</a>() &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">IsGPU</a>()) {</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">WriteToConstantMemory</a>(RecoStep::NoRecoStep, (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;calibObjects - (<span class="keywordtype">char</span>*)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>(), &amp;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">mFlatObjectsDevice</a>.<a class="code" href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">mCalibObjects</a>), -1); <span class="comment">// Reinitialize</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  timerPrepare.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="preprocessor">#ifdef GPUCA_STANDALONE</span></div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a24f0e3f8418f4810e0cb23e5b183711d">PrepareEvent</a>();</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a24f0e3f8418f4810e0cb23e5b183711d">PrepareEvent</a>();</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::bad_alloc&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>) {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a>(<span class="stringliteral">&quot;Memory Allocation Error&quot;</span>);</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  }</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  timerPrepare.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ada35fd69391a5f4566542b30060b47f8">PrepareDebugOutput</a>();</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">RecoStep::TPCClusterFinding</a>) &amp;&amp; (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits || <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS)) {</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    timerClusterer.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.fwdTPCDigitsAsClusters) {</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a8c2e17fb3ded58501eef3263041595ca">ForwardTPCDigits</a>();</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aabaca5d56039ed16e80e5b576617b64d">RunTPCClusterizer</a>(<span class="keyword">false</span>)) {</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    }</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    timerClusterer.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  }</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">RecoStep::TPCConversion</a>) &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative) {</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    timerTransform.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0ce8ad884cf3a5dac69d98a151f1a7c5">ConvertNativeToClusterData</a>()) {</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    timerTransform.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  }</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">PushNonPersistentMemory</a>(); <span class="comment">// 1st stack level for TPC tracking slice data</span></div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  timerTracking.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">RecoStep::TPCSliceTracking</a>) &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a865d51ba0e026696ff29cf72f63e9af1">RunTPCTrackingSlices</a>()) {</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  timerTracking.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  timerMerger.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="comment">// GPUInfo(&quot;slice %d clusters %d tracks %d&quot;, i, mClusterData[i].NumberOfClusters(), processors()-&gt;tpcTrackers[i].Output()-&gt;NTracks());</span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">tpcMerger</a>.<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#af7a61d8eb15e97ffa2a8f2a81bee8cc9">SetSliceData</a>(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.mergerReadFromTrackerDirectly ? <span class="keyword">nullptr</span> : <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcTrackers[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].Output());</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  }</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">RecoStep::TPCMerging</a>) &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4">RunTPCTrackingMerger</a>(<span class="keyword">false</span>)) {</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  }</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  timerMerger.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">PopNonPersistentMemory</a>(); <span class="comment">// Release 1st stack level, TPC slice data not needed after merger</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>) &amp;&amp; <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative) {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    timerCompression.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a9d3bc73d6237b7053fcc7009274a2260">RunTPCCompression</a>()) {</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    }</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runCompressionStatistics) {</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">mCompressionStatistics</a>-&gt;RunStatistics(<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative, <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;tpcCompressor.mOutput, <a class="code" href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a>());</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    }</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    timerCompression.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>().isSet(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>)) {</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    timerTRD.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets) {</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ac4affe0e901d90cfd2b5221f7c34536d">RunTRDTracking</a>()) {</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;      }</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">processors</a>()-&gt;<a class="code" href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acdfa716b6cc3ff5bda4ddaca27766d11">trdTracker</a>.<a class="code" href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a9419331c60a69260de8240e4eed9ed05">Reset</a>();</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    timerTRD.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  }</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  { <span class="comment">// Synchronize with output copies running asynchronously</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; threadContext = <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GetThreadContext</a>();</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">SynchronizeStream</a>(<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">mRec</a>-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">NStreams</a>() - 1);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">if</span> (needQA) {</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    timerQA.<a class="code" href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">Start</a>();</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">mQA</a>-&gt;RunQA(!<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runQA);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    timerQA.<a class="code" href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">Stop</a>();</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  }</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().debugLevel &gt;= 0) {</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;Prepare Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerPrepare.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcPackedDigits || <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.tpcZS) {</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;TPC Clusterizer Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerClusterer.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    }</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative) {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;TPC Transformation Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerTransform.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    }</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;Tracking Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerTracking.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;Merging and Refit Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerMerger.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.clustersNative &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">RecoStep::TPCCompression</a>) {</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;TPC Compression Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerCompression.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    }</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">mIOPtrs</a>.nTRDTracklets &amp;&amp; <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GetRecoSteps</a>() &amp; <a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">RecoStep::TRDTracking</a>) {</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;TRD tracking time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerTRD.<a class="code" href="../../da/dd8/classHighResTimer.html#a8ce2f11871e76c0774c5f554ec7fffb6">GetCurrentElapsedTime</a>()));</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().runQA) {</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      printf(<span class="stringliteral">&quot;%25s: %&#39;10d us\n&quot;</span>, <span class="stringliteral">&quot;QA Time&quot;</span>, (<span class="keywordtype">int</span>)(1000000 * timerQA.<a class="code" href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">GetElapsedTime</a>()));</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    }</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  }</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>) {</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a424664f0341f307bcd8b632b807e1783">mDisplayRunning</a>) {</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a242ddea6aa6a93351d659ec87dd9766a">mEventDisplay</a>-&gt;StartDisplay()) {</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keywordflow">return</span> (1);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      }</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a424664f0341f307bcd8b632b807e1783">mDisplayRunning</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a242ddea6aa6a93351d659ec87dd9766a">mEventDisplay</a>-&gt;ShowNextEvent();</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    }</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>-&gt;EnableSendKey()) {</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;      <span class="keywordflow">while</span> (kbhit()) {</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        getch();</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;      }</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Press key for next event!&quot;</span>);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    }</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <span class="keywordtype">int</span> iKey;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      Sleep(10);</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>-&gt;EnableSendKey()) {</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        iKey = kbhit() ? getch() : 0;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <span class="keywordflow">if</span> (iKey == <span class="charliteral">&#39;q&#39;</span>) {</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a>-&gt;<a class="code" href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#a8c72b335b6f40f472871469a3e665a51">mDisplayControl</a> = 2;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iKey == <span class="charliteral">&#39;n&#39;</span>) {</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iKey) {</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;          <span class="keywordflow">while</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>-&gt;mSendKey != 0) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;            Sleep(1);</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;          }</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;          <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a>-&gt;<a class="code" href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#aa659fefc3bcc4cb03bbcbb15696f501c">mSendKey</a> = iKey;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        }</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      }</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>-&gt;mDisplayControl == 0);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a>-&gt;mDisplayControl == 2) {</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a424664f0341f307bcd8b632b807e1783">mDisplayRunning</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a>-&gt;<a class="code" href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#ae9f166eb5273b3215bc56a7b4f3c739b">DisplayExit</a>();</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">DeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <span class="keywordflow">return</span> (2);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    }</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GetDeviceProcessingSettings</a>().<a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">eventDisplay</a>-&gt;<a class="code" href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#a8c72b335b6f40f472871469a3e665a51">mDisplayControl</a> = 0;</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <a class="code" href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a>(<span class="stringliteral">&quot;Loading next event&quot;</span>);</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a242ddea6aa6a93351d659ec87dd9766a">mEventDisplay</a>-&gt;WaitForNextEvent();</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  }</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a999a8564f1d149ee7953b91cf83a5172">PrintDebugOutput</a>();</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="comment">//PrintMemoryRelations();</span></div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;}</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="keywordtype">int</span> GPUChainTracking::HelperReadEvent(<span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">int</span> threadId, <a class="code" href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html">GPUReconstructionHelpers::helperParam</a>* par) { <span class="keywordflow">return</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a543960e2b4cb0f2665934341d6426062">ReadEvent</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, threadId); }</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="keywordtype">int</span> GPUChainTracking::HelperOutput(<span class="keywordtype">int</span> <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, <span class="keywordtype">int</span> threadId, <a class="code" href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html">GPUReconstructionHelpers::helperParam</a>* par)</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;{</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">param</a>().<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">rec</a>.GlobalTracking) {</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    <span class="keywordtype">int</span> tmpSlice = GPUTPCGlobalTracking::GlobalTrackingSliceOrder(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordtype">int</span> sliceLeft = (tmpSlice + (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2 - 1)) % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2);</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keywordtype">int</span> sliceRight = (tmpSlice + 1) % (<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2);</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (tmpSlice &gt;= (<span class="keywordtype">int</span>)<a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2) {</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      sliceLeft += <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      sliceRight += <a class="code" href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">NSLICES</a> / 2;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    }</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> &lt; tmpSlice || <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> &lt; sliceLeft || <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> &lt; sliceRight) {</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="keywordflow">if</span> (par-&gt;<a class="code" href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html#aada722c8bcac8f6d3034552977176b6f">reset</a>) {</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;      }</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    }</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GlobalTracking</a>(tmpSlice, 0);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">WriteOutput</a>(tmpSlice, 0);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">mSliceSelectorReady</a> &lt; <a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>) {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      <span class="keywordflow">if</span> (par-&gt;<a class="code" href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html#aada722c8bcac8f6d3034552977176b6f">reset</a>) {</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      }</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    }</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">WriteOutput</a>(<a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">iSlice</a>, threadId);</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  }</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;}</div><div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a7643bd23fc695348e5311cd1aa4459d0"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a7643bd23fc695348e5311cd1aa4459d0">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpStartHits</a></div><div class="ttdeci">void DumpStartHits(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00113">GPUTPCTrackerDump.cxx:113</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ad02d2488127e1cf9a27262c4ee30ba85"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ad02d2488127e1cf9a27262c4ee30ba85">stream</a></div><div class="ttdeci">GLuint GLuint stream</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01806">glcorearb.h:1806</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ae7b2b17b359872d7ec2cc61e99afba5f"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ae7b2b17b359872d7ec2cc61e99afba5f">TRDTracking</a></div><div class="ttdeci">TRDTracking</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00112">GPUDataTypes.h:112</a></div></div>
<div class="ttc" id="GPULogging_8h_html"><div class="ttname"><a href="../../df/ddc/GPULogging_8h.html">GPULogging.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_a486c89614ecac2c36d09dbbc31c0ed43"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a486c89614ecac2c36d09dbbc31c0ed43">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mdEdxSplinesBuffer</a></div><div class="ttdeci">char * mdEdxSplinesBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00166">GPUChainTracking.h:166</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a611055f7914444f487085e171ccb40b3"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a611055f7914444f487085e171ccb40b3">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::tpccfGatherKernel</a></div><div class="ttdeci">bool tpccfGatherKernel</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00169">GPUSettings.h:169</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a9e92ef344b5580e431515e8209bd644d"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a9e92ef344b5580e431515e8209bd644d">GPUCA_NAMESPACE::gpu::GPUSettingsRec::tpcCompressionModes</a></div><div class="ttdeci">unsigned char tpcCompressionModes</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00074">GPUSettings.h:74</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_a533e3b44d43fc43e47dd227b100a6995"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a533e3b44d43fc43e47dd227b100a6995">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::CheckSlices</a></div><div class="ttdeci">int CheckSlices()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd4/GPUTPCGMMerger_8cxx_source.html#l00320">GPUTPCGMMerger.cxx:320</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a604428f038a4419eeb58b81fe327ead3"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a604428f038a4419eeb58b81fe327ead3">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mISlice</a></div><div class="ttdeci">int mISlice</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00114">GPUTPCClusterFinder.h:114</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_abe4efcf5f65902bd0de1a28f4b4cb8b7"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#abe4efcf5f65902bd0de1a28f4b4cb8b7">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUChainTracking</a></div><div class="ttdeci">GPUChainTracking(GPUReconstruction *rec, unsigned int maxTPCHits=GPUCA_MAX_CLUSTERS, unsigned int maxTRDTracklets=GPUCA_MAX_TRD_TRACKLETS)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00069">GPUChainTracking.cxx:69</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_abac27df0b2b1bf61a97694a2d913c963"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abac27df0b2b1bf61a97694a2d913c963">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mNBufs</a></div><div class="ttdeci">unsigned int mNBufs</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00122">GPUTPCClusterFinder.h:122</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ada35fd69391a5f4566542b30060b47f8"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ada35fd69391a5f4566542b30060b47f8">GPUCA_NAMESPACE::gpu::GPUChainTracking::PrepareDebugOutput</a></div><div class="ttdeci">void PrepareDebugOutput()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUChainTrackingDebugAndProfiling_8cxx_source.html#l00158">GPUChainTrackingDebugAndProfiling.cxx:158</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor_html_a9f7be30bb104b16309469146c21c9250"><div class="ttname"><a href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a9f7be30bb104b16309469146c21c9250">GPUCA_NAMESPACE::gpu::GPUProcessor::InitGPUProcessor</a></div><div class="ttdeci">void InitGPUProcessor(GPUReconstruction *rec, ProcessorType type=PROCESSOR_TYPE_CPU, GPUProcessor *slaveProcessor=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d53/GPUProcessor_8cxx_source.html#l00029">GPUProcessor.cxx:29</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a7bdf1fd279539660c9f369a66438e14f"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a7bdf1fd279539660c9f369a66438e14f">o2::tpc::CompressedClustersPtrs_x::timeA</a></div><div class="ttdeci">TINT timeA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00051">CompressedClusters.h:51</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a56badbece7b88cfb05b0fbedf814f49c"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a56badbece7b88cfb05b0fbedf814f49c">TPCConversion</a></div><div class="ttdeci">TPCConversion</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00108">GPUDataTypes.h:108</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory_html_a8d6198925e6db8957db1893a0dc95ade"><div class="ttname"><a href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#a8d6198925e6db8957db1893a0dc95ade">GPUCA_NAMESPACE::gpu::GPUTPCCompression::memory::nStoredAttachedClusters</a></div><div class="ttdeci">unsigned int nStoredAttachedClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00078">GPUTPCCompression.h:78</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment_html_ac36df148f128ac7cf690ce2309992828"><div class="ttname"><a href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html#ac36df148f128ac7cf690ce2309992828">GPUCA_NAMESPACE::gpu::CfFragment::start</a></div><div class="ttdeci">tpccf::TPCTime start</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/CfFragment_8h_source.html#l00032">CfFragment.h:32</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a34b0182618d30abd4afe9f5bcb5d88aa"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a34b0182618d30abd4afe9f5bcb5d88aa">GPUCA_NAMESPACE::gpu::GPUSettingsRec::NonConsecutiveIDs</a></div><div class="ttdeci">char NonConsecutiveIDs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00067">GPUSettings.h:67</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a2791838a7c3fd57eee449eb379d890ff"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2791838a7c3fd57eee449eb379d890ff">GPUCA_NAMESPACE::gpu::GPUChainTracking::mClusterNativeAccess</a></div><div class="ttdeci">std::unique_ptr&lt; o2::tpc::ClusterNativeAccess &gt; mClusterNativeAccess</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00222">GPUChainTracking.h:222</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a242ddea6aa6a93351d659ec87dd9766a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a242ddea6aa6a93351d659ec87dd9766a">GPUCA_NAMESPACE::gpu::GPUChainTracking::mEventDisplay</a></div><div class="ttdeci">std::unique_ptr&lt; GPUDisplay &gt; mEventDisplay</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00211">GPUChainTracking.h:211</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a4b17ce60bb6dd3c89ff4622aa975e0d6"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4b17ce60bb6dd3c89ff4622aa975e0d6">GPUCA_NAMESPACE::gpu::GPUChain::HelperDone</a></div><div class="ttdeci">int HelperDone(int iThread) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00099">GPUChain.h:99</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a7855c50aaeadf0caf1698d000fd8dbac"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7855c50aaeadf0caf1698d000fd8dbac">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPdigits</a></div><div class="ttdeci">tpc::Digit * mPdigits</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00096">GPUTPCClusterFinder.h:96</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_a50a0849a10ad547c8a115e96e5d91dd8"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a50a0849a10ad547c8a115e96e5d91dd8">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpMergeCE</a></div><div class="ttdeci">void DumpMergeCE(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00097">GPUTPCGMMergerDump.cxx:97</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_a8723f58bbbdad37e1426210b219bb131"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a8723f58bbbdad37e1426210b219bb131">GPUCA_NAMESPACE::gpu::GPUConstantMem::calibObjects</a></div><div class="ttdeci">GPUCalibObjectsConst calibObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00074">GPUConstantMem.h:74</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a0380979f4739eaebed3c3a520818ae3f"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0380979f4739eaebed3c3a520818ae3f">GPUCA_NAMESPACE::gpu::GPUChainTracking::ForceInitQA</a></div><div class="ttdeci">int ForceInitQA()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00427">GPUChainTracking.cxx:427</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a410011949842347074188332fb877c90"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a410011949842347074188332fb877c90">GPUCA_NAMESPACE::gpu::GPUChainTracking::ConvertZSFilter</a></div><div class="ttdeci">void ConvertZSFilter(bool zs12bit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00598">GPUChainTracking.cxx:598</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a76acbadf44a31b306436bff2a5779144"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a76acbadf44a31b306436bff2a5779144">GPUCA_NAMESPACE::gpu::GPUChain::TransferMemoryResourcesToGPU</a></div><div class="ttdeci">void TransferMemoryResourcesToGPU(RecoStep step, GPUProcessor *proc, int stream=-1, bool all=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00104">GPUChain.h:104</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ac7c896d55e93a6cf7ff8524005b4e7b4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ac7c896d55e93a6cf7ff8524005b4e7b4">param</a></div><div class="ttdeci">GLenum GLfloat param</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00271">glcorearb.h:271</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct_html_abbacfb8fe9fa597b673b588bb15a0e16"><div class="ttname"><a href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#abbacfb8fe9fa597b673b588bb15a0e16">GPUCA_NAMESPACE::gpu::GPUChainTracking::eventStruct::init</a></div><div class="ttdeci">void * init</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00176">GPUChainTracking.h:176</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html">GPUCA_NAMESPACE::gpu::GPUTPCTracker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00045">GPUTPCTracker.h:45</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_aa8e87429fd6e09d7b89c4d283b599ad7"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#aa8e87429fd6e09d7b89c4d283b599ad7">o2::tpc::CompressedClustersPtrs_x::timeResA</a></div><div class="ttdeci">TINT timeResA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00044">CompressedClusters.h:44</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a656d0a3f46da270c22f4e0807d5da5e5"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a656d0a3f46da270c22f4e0807d5da5e5">GPUCA_NAMESPACE::gpu::GPUReconstruction::RegisterMemoryAllocation</a></div><div class="ttdeci">short RegisterMemoryAllocation(T *proc, void *(T::*setPtr)(void *), int type, const char *name=&quot;&quot;, const GPUMemoryReuse &amp;re=GPUMemoryReuse())</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00411">GPUReconstruction.h:411</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_acccba4ea32c487bc836cfbcc56adee27"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#acccba4ea32c487bc836cfbcc56adee27">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpFinal</a></div><div class="ttdeci">void DumpFinal(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00143">GPUTPCGMMergerDump.cxx:143</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1outputQueueEntry_html"><div class="ttname"><a href="../../db/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1outputQueueEntry.html">GPUCA_NAMESPACE::gpu::GPUChainTracking::outputQueueEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00180">GPUChainTracking.h:180</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_ae34432139934da9df737f38b430a5a3b"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#ae34432139934da9df737f38b430a5a3b">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::delayedOutput</a></div><div class="ttdeci">bool delayedOutput</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00168">GPUSettings.h:168</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a145a121e31e517190aadb553765dfbc7"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a145a121e31e517190aadb553765dfbc7">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::clustersNative</a></div><div class="ttdeci">std::unique_ptr&lt; o2::tpc::ClusterNative[]&gt; clustersNative</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00092">GPUChainTracking.h:92</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a423b1e953c11b51f89cf697074e06521"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a423b1e953c11b51f89cf697074e06521">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpSuppressedPeaks</a></div><div class="ttdeci">void DumpSuppressedPeaks(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00077">GPUTPCClusterFinderDump.cxx:77</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ace2a60a606788ba00117abf10e197c1d"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ace2a60a606788ba00117abf10e197c1d">GPUCA_NAMESPACE::gpu::GPUChainTracking::mIOPtrs</a></div><div class="ttdeci">GPUTrackingInOutPointers &amp; mIOPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00078">GPUChainTracking.h:78</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_a68a706391977e4ada7b2df0f45cf3b1c"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a68a706391977e4ada7b2df0f45cf3b1c">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpCollected</a></div><div class="ttdeci">void DumpCollected(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00084">GPUTPCGMMergerDump.cxx:84</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a3b19b10e85034fb57ea1710009b8b5b0"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a3b19b10e85034fb57ea1710009b8b5b0">TRDTracklets</a></div><div class="ttdeci">TRDTracklets</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00122">GPUDataTypes.h:122</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html_a5dffcb6a36dd6a6db3c24a8c34dfd527"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a5dffcb6a36dd6a6db3c24a8c34dfd527">o2::tpc::ClusterNativeAccess::clustersMCTruth</a></div><div class="ttdeci">const o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt; * clustersMCTruth</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00160">ClusterNative.h:160</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html_a61a53b3e6c9b8cd972655a4eade777f0"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a61a53b3e6c9b8cd972655a4eade777f0">GPUCA_NAMESPACE::gpu::useOrigTrackParam</a></div><div class="ttdeci">unsigned long size int mode int iSlice int iSlice char nOutput int int char useOrigTrackParam</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00042">GPUReconstructionCPU.h:42</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a5c06f0648ea674abe689c0daa97d3d14"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5c06f0648ea674abe689c0daa97d3d14">GPUCA_NAMESPACE::gpu::GPUChain::TransferMemoryResourceLinkToGPU</a></div><div class="ttdeci">void TransferMemoryResourceLinkToGPU(RecoStep step, short res, int stream=-1, deviceEvent *ev=nullptr, deviceEvent *evList=nullptr, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00106">GPUChain.h:106</a></div></div>
<div class="ttc" id="namespaceo2_1_1header_html_a1382d043a29d3edd8ec00b89e0f89fa6"><div class="ttname"><a href="../../de/dd4/namespaceo2_1_1header.html#a1382d043a29d3edd8ec00b89e0f89fa6">o2::header::RAWDataHeader</a></div><div class="ttdeci">RAWDataHeaderV4 RAWDataHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00427">RAWDataHeader.h:427</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ac884f73a5ff3b881a2adb0a6dfb766e1"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ac884f73a5ff3b881a2adb0a6dfb766e1">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpTrackletHits</a></div><div class="ttdeci">void DumpTrackletHits(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00150">GPUTPCTrackerDump.cxx:150</a></div></div>
<div class="ttc" id="GPUReconstructionIncludes_8h_html_a287eedb5aeb3e2204ded2924050fb641"><div class="ttname"><a href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a></div><div class="ttdeci">#define assert(param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d94/GPUReconstructionIncludes_8h_source.html#l00021">GPUReconstructionIncludes.h:21</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_aab04bf7ab8b51041e703ac6ee3b41f16"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#aab04bf7ab8b51041e703ac6ee3b41f16">GPUCA_NAMESPACE::gpu::GPUTPCTracker::CheckEmptySlice</a></div><div class="ttdeci">int CheckEmptySlice()</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a5373b40d79e6cf77ba420b05b8cd9d96"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5373b40d79e6cf77ba420b05b8cd9d96">GPUCA_NAMESPACE::gpu::GPUChainTracking::SetdEdxSplines</a></div><div class="ttdeci">void SetdEdxSplines(std::unique_ptr&lt; TPCdEdxCalibrationSplines &gt; &amp;&amp;dEdxSplines)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00611">GPUChainTracking.cxx:611</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_afa9bfa7544967e093577c6647c23317b"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#afa9bfa7544967e093577c6647c23317b">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpPeaks</a></div><div class="ttdeci">void DumpPeaks(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00057">GPUTPCClusterFinderDump.cxx:57</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_a58a4e8c6cfed883ab7ef35a8158be2bd"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a58a4e8c6cfed883ab7ef35a8158be2bd">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mMatLUTBuffer</a></div><div class="ttdeci">char * mMatLUTBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00167">GPUChainTracking.h:167</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ac077dea9b5b4300e7dafdf626092e008"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac077dea9b5b4300e7dafdf626092e008">o2::tpc::CompressedClustersPtrs_x::qPtA</a></div><div class="ttdeci">TCHAR qPtA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00048">CompressedClusters.h:48</a></div></div>
<div class="ttc" id="standalone_8cxx_html_acfff8d2c33b2a0837af3a0bc4cc5f829"><div class="ttname"><a href="../../dc/df9/standalone_8cxx.html#acfff8d2c33b2a0837af3a0bc4cc5f829">eventDisplay</a></div><div class="ttdeci">std::unique_ptr&lt; GPUDisplayBackend &gt; eventDisplay</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df9/standalone_8cxx_source.html#l00081">standalone.cxx:81</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_aac313b4155841f7a6f633ce5db83f3a2"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aac313b4155841f7a6f633ce5db83f3a2">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPchargeMap</a></div><div class="ttdeci">ushort * mPchargeMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00101">GPUTPCClusterFinder.h:101</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert_html_a7493b506019949a8bd4b20770b50b78a"><div class="ttname"><a href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a7493b506019949a8bd4b20770b50b78a">GPUCA_NAMESPACE::gpu::GPUReconstructionConvert::ConvertRun2RawToNative</a></div><div class="ttdeci">static void ConvertRun2RawToNative(o2::tpc::ClusterNativeAccess &amp;native, std::unique_ptr&lt; o2::tpc::ClusterNative[]&gt; &amp;nativeBuffer, const AliHLTTPCRawCluster **rawClusters, unsigned int *nRawClusters)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/GPUReconstructionConvert_8cxx_source.html#l00083">GPUReconstructionConvert.cxx:83</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a65ecc434243949d46778bf569de5dbd1"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65ecc434243949d46778bf569de5dbd1">GPUCA_NAMESPACE::gpu::GPUChain::HelperError</a></div><div class="ttdeci">int HelperError(int iThread) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00098">GPUChain.h:98</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t_html"><div class="ttname"><a href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html">GPUCA_NAMESPACE::gpu::GPUTRDTracker_t&lt; GPUTRDTrackGPU, GPUTRDPropagatorGPU &gt;</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a0dd45207fde549f7076b61d458e43a3b"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0dd45207fde549f7076b61d458e43a3b">GPUCA_NAMESPACE::gpu::GPUChain::GetRecoStepsGPU</a></div><div class="ttdeci">GPUReconstruction::RecoStepField GetRecoStepsGPU() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00062">GPUChain.h:62</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ac22691cf7ac66c5bf310180699dc8823"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac22691cf7ac66c5bf310180699dc8823">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPinputLabels</a></div><div class="ttdeci">o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt; const  * mPinputLabels</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00110">GPUTPCClusterFinder.h:110</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_aa3c2e02109437a9f1c1f8eb018f31b2c"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa3c2e02109437a9f1c1f8eb018f31b2c">GPUCA_NAMESPACE::gpu::GPUChain::SynchronizeEvents</a></div><div class="ttdeci">void SynchronizeEvents(deviceEvent *evList, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00080">GPUChain.h:80</a></div></div>
<div class="ttc" id="GPUReconstructionConvert_8h_html"><div class="ttname"><a href="../../d1/dfa/GPUReconstructionConvert_8h.html">GPUReconstructionConvert.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a85b78c509333e72ad8b2f7626b0850d5"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a85b78c509333e72ad8b2f7626b0850d5">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPisPeak</a></div><div class="ttdeci">unsigned char * mPisPeak</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00100">GPUTPCClusterFinder.h:100</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_abc3674b857f0c613f3fd7218ec6ad517"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#abc3674b857f0c613f3fd7218ec6ad517">GPUCA_NAMESPACE::gpu::GPUSettingsRec::NWaysOuter</a></div><div class="ttdeci">char NWaysOuter</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00062">GPUSettings.h:62</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a3b9015d843f4af827abcf29494796fb6"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3b9015d843f4af827abcf29494796fb6">GPUCA_NAMESPACE::gpu::GPUChainTracking::mIOMem</a></div><div class="ttdeci">struct GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory mIOMem</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a546660df99dab59e0a54c4c4889e80c6"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a546660df99dab59e0a54c4c4889e80c6">GPUCA_NAMESPACE::gpu::GPUChain::GetGridAutoStep</a></div><div class="ttdeci">krnlExec GetGridAutoStep(int stream, GPUCA_RECO_STEP st=GPUCA_RECO_STEP::NoRecoStep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/GPUChain_8cxx_source.html#l00046">GPUChain.cxx:46</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a78f87aa13d90b5068cc76adbd55da062"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a78f87aa13d90b5068cc76adbd55da062">GPUCA_NAMESPACE::gpu::GPUChain::krnlRunRangeNone</a></div><div class="ttdeci">static constexpr krnlRunRange krnlRunRangeNone</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00036">GPUChain.h:36</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a41261f68c3a1f979a550648ab2309c74"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a41261f68c3a1f979a550648ab2309c74">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpCountedPeaks</a></div><div class="ttdeci">void DumpCountedPeaks(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00098">GPUTPCClusterFinderDump.cxx:98</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ae258ddf232ec671131162a088fb04183"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae258ddf232ec671131162a088fb04183">GPUCA_NAMESPACE::gpu::GPUTPCTracker::UpdateMaxData</a></div><div class="ttdeci">void UpdateMaxData()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/GPUTPCTracker_8cxx_source.html#l00166">GPUTPCTracker.cxx:166</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment_html"><div class="ttname"><a href="../../db/d3d/structGPUCA__NAMESPACE_1_1gpu_1_1CfFragment.html">GPUCA_NAMESPACE::gpu::CfFragment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dcc/CfFragment_8h_source.html#l00025">CfFragment.h:25</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN_html_a263f62b9248089c632c9464c5e98a085"><div class="ttname"><a href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a263f62b9248089c632c9464c5e98a085">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::MinMaxCN::minN</a></div><div class="ttdeci">unsigned int minN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00072">GPUTPCClusterFinder.h:72</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a2ac3f23887f0f96157a166b7b6f6e569"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a2ac3f23887f0f96157a166b7b6f6e569">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::SetMaxData</a></div><div class="ttdeci">void SetMaxData(const GPUTrackingInOutPointers &amp;io)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/GPUTPCClusterFinder_8cxx_source.html#l00093">GPUTPCClusterFinder.cxx:93</a></div></div>
<div class="ttc" id="GPUMemorySizeScalers_8h_html"><div class="ttname"><a href="../../d3/d36/GPUMemorySizeScalers_8h.html">GPUMemorySizeScalers.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a7c3aaf630ec901ce63276ae181b55e00"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a7c3aaf630ec901ce63276ae181b55e00">GPUCA_NAMESPACE::gpu::GPUSettingsRec::tpcZSthreshold</a></div><div class="ttdeci">unsigned char tpcZSthreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00078">GPUSettings.h:78</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ac55adc720a3098c1b454d2a4647f4361"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ac55adc720a3098c1b454d2a4647f4361">start</a></div><div class="ttdeci">GLuint start</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00469">glcorearb.h:469</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t_html_acc58be76789310c2b1a4c9ec38b8447d"><div class="ttname"><a href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#acc58be76789310c2b1a4c9ec38b8447d">GPUCA_NAMESPACE::gpu::GPUTRDTracker_t::DoTracking</a></div><div class="ttdeci">void DoTracking(GPUChainTracking *chainTracking)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/GPUTRDTracker_8cxx_source.html#l00217">GPUTRDTracker.cxx:217</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a5ba18847d3f81da01d3374aab06b9092"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a5ba18847d3f81da01d3374aab06b9092">GPUCA_NAMESPACE::gpu::GPUTPCTracker::MemoryResOutput</a></div><div class="ttdeci">short MemoryResOutput() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00148">GPUTPCTracker.h:148</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a38ae86120644cfc1a44430552712874d"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a38ae86120644cfc1a44430552712874d">GPUCA_NAMESPACE::gpu::GPUReconstruction::MemoryScalers</a></div><div class="ttdeci">GPUMemorySizeScalers * MemoryScalers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00203">GPUReconstruction.h:203</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ae18c2118b6aeaf2f919793ad4262b80b"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae18c2118b6aeaf2f919793ad4262b80b">GPUCA_NAMESPACE::gpu::GPUTPCTracker::MemoryResCommon</a></div><div class="ttdeci">short MemoryResCommon() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00146">GPUTPCTracker.h:146</a></div></div>
<div class="ttc" id="GPUTPCMCInfo_8h_html"><div class="ttname"><a href="../../d7/de2/GPUTPCMCInfo_8h.html">GPUTPCMCInfo.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a4292800a972364ee477fbd561809440c"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4292800a972364ee477fbd561809440c">GPUCA_NAMESPACE::gpu::GPUReconstruction::RegisterGPUDeviceProcessor</a></div><div class="ttdeci">void RegisterGPUDeviceProcessor(GPUProcessor *proc, GPUProcessor *slaveProcessor)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00332">GPUReconstruction.cxx:332</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a0a0f59f79782dfa6c071949012646d56"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0a0f59f79782dfa6c071949012646d56">GPUCA_NAMESPACE::gpu::GPUChainTracking::mOutputClustersNative</a></div><div class="ttdeci">GPUOutputControl * mOutputClustersNative</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00230">GPUChainTracking.h:230</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a8216ddb774d806a1269ccf1c660e8a21"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a8216ddb774d806a1269ccf1c660e8a21">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::runMC</a></div><div class="ttdeci">bool runMC</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00163">GPUSettings.h:163</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a2c9f125deb8ce12d0119192ab3bedc7f"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a2c9f125deb8ce12d0119192ab3bedc7f">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::nThreads</a></div><div class="ttdeci">int nThreads</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00135">GPUSettings.h:135</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_afaf1f7f84617e485f2a4736485f5cf98"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#afaf1f7f84617e485f2a4736485f5cf98">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::clusterData</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCClusterData[]&gt; clusterData[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00090">GPUChainTracking.h:90</a></div></div>
<div class="ttc" id="classP_html"><div class="ttname"><a href="../../db/d72/classP.html">P</a></div></div>
<div class="ttc" id="GPULogging_8h_html_a2700ed3728abe6f865af253f6ec5830f"><div class="ttname"><a href="../../df/ddc/GPULogging_8h.html#a2700ed3728abe6f865af253f6ec5830f">GPUError</a></div><div class="ttdeci">#define GPUError(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddc/GPULogging_8h_source.html#l00024">GPULogging.h:24</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCFMCLabelFlattener_html_a55e60214b5b2de52f3e8d907c84987cc"><div class="ttname"><a href="../../d0/dad/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCFMCLabelFlattener.html#a55e60214b5b2de52f3e8d907c84987cc">GPUCA_NAMESPACE::gpu::GPUTPCCFMCLabelFlattener::setGlobalOffsetsAndAllocate</a></div><div class="ttdeci">static void setGlobalOffsetsAndAllocate(GPUTPCClusterFinder &amp;, GPUTPCLinearLabels &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d5e/GPUTPCCFMCLabelFlattener_8cxx_source.html#l00024">GPUTPCCFMCLabelFlattener.cxx:24</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers_html_a619d67ad2b8be538b48ca0ecae22b072"><div class="ttname"><a href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a619d67ad2b8be538b48ca0ecae22b072">GPUCA_NAMESPACE::gpu::GPUMemorySizeScalers::nTRDTracklets</a></div><div class="ttdeci">double nTRDTracklets</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d36/GPUMemorySizeScalers_8h_source.html#l00026">GPUMemorySizeScalers.h:26</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a2a90a1b06f9704ba94044a7525a6668e"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2a90a1b06f9704ba94044a7525a6668e">GPUCA_NAMESPACE::gpu::GPUChain::AllocateRegisteredMemory</a></div><div class="ttdeci">size_t AllocateRegisteredMemory(GPUProcessor *proc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00202">GPUChain.h:202</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a1c6a567e7025608b9161446f719d1393"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c6a567e7025608b9161446f719d1393">GPUCA_NAMESPACE::gpu::GPUChainTracking::SetTRDGeometry</a></div><div class="ttdeci">void SetTRDGeometry(std::unique_ptr&lt; o2::trd::TRDGeometryFlat &gt; &amp;&amp;geo)</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a5dbcd25208a4739b15c21dc47c74bc20"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a5dbcd25208a4739b15c21dc47c74bc20">GPUCA_NAMESPACE::gpu::GPUChain::GetGrid</a></div><div class="ttdeci">krnlExec GetGrid(unsigned int totalItems, unsigned int nThreads, int stream, GPUReconstruction::krnlDeviceType d=GPUReconstruction::krnlDeviceType::Auto, GPUCA_RECO_STEP st=GPUCA_RECO_STEP::NoRecoStep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/GPUChain_8cxx_source.html#l00020">GPUChain.cxx:20</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a3ac24c39179573f5c8a0cd0520a83bf3"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a3ac24c39179573f5c8a0cd0520a83bf3">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpClusters</a></div><div class="ttdeci">void DumpClusters(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00106">GPUTPCClusterFinderDump.cxx:106</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor_html_a3864bfb948eaa250baedb09a9fc2ba82a19c893b1095c5a78c82799b3e3def674"><div class="ttname"><a href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a3864bfb948eaa250baedb09a9fc2ba82a19c893b1095c5a78c82799b3e3def674">GPUCA_NAMESPACE::gpu::GPUProcessor::PROCESSOR_TYPE_DEVICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d57/GPUProcessor_8h_source.html#l00044">GPUProcessor.h:44</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_ae86c24230e7fe8103c42c49284e33421"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#ae86c24230e7fe8103c42c49284e33421">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::nDeviceHelperThreads</a></div><div class="ttdeci">int nDeviceHelperThreads</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00141">GPUSettings.h:141</a></div></div>
<div class="ttc" id="InteractionRecord_8h_html"><div class="ttname"><a href="../../d9/d80/InteractionRecord_8h.html">InteractionRecord.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ad3f4145a56489e42b992fb11a65936fb"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3f4145a56489e42b992fb11a65936fb">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpPeaksCompacted</a></div><div class="ttdeci">void DumpPeaksCompacted(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00069">GPUTPCClusterFinderDump.cxx:69</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct_html_aba600b393f5329e10e057668376a62cd"><div class="ttname"><a href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aba600b393f5329e10e057668376a62cd">GPUCA_NAMESPACE::gpu::GPUChainTracking::eventStruct::single</a></div><div class="ttdeci">void * single</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00177">GPUChainTracking.h:177</a></div></div>
<div class="ttc" id="GPUDefConstantsAndSettings_8h_html_afd2e13a07f9d227b8949af90d39812cf"><div class="ttname"><a href="../../d2/d37/GPUDefConstantsAndSettings_8h.html#afd2e13a07f9d227b8949af90d39812cf">GPUCA_ROW_COUNT</a></div><div class="ttdeci">#define GPUCA_ROW_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d37/GPUDefConstantsAndSettings_8h_source.html#l00074">GPUDefConstantsAndSettings.h:74</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00080">GPUChainTracking.h:80</a></div></div>
<div class="ttc" id="GPULogging_8h_html_a620d7111f66f9cb7aeaf21b8ff3e2343"><div class="ttname"><a href="../../df/ddc/GPULogging_8h.html#a620d7111f66f9cb7aeaf21b8ff3e2343">GPUInfo</a></div><div class="ttdeci">#define GPUInfo(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddc/GPULogging_8h_source.html#l00021">GPULogging.h:21</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_a070ad9c51a3a940a87080c6b5439c97a"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a070ad9c51a3a940a87080c6b5439c97a">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nPages</a></div><div class="ttdeci">unsigned int nPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00059">GPUTPCClusterFinder.h:59</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_abc2170a51332b5f2982b382e70b0a8e4"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#abc2170a51332b5f2982b382e70b0a8e4">GPUCA_NAMESPACE::gpu::GPUReconstruction::GetRecoStepsGPU</a></div><div class="ttdeci">RecoStepField GetRecoStepsGPU() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00231">GPUReconstruction.h:231</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeaderV4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00285">RAWDataHeader.h:285</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a6c7e313219bfc8a53e2585e89805e3af"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a6c7e313219bfc8a53e2585e89805e3af">GPUCA_NAMESPACE::gpu::GPUTPCTracker::LinkTmpMemory</a></div><div class="ttdeci">void * LinkTmpMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00261">GPUTPCTracker.h:261</a></div></div>
<div class="ttc" id="GPUTRDTrack_8h_html"><div class="ttname"><a href="../../db/dca/GPUTRDTrack_8h.html">GPUTRDTrack.h</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_1_1tpccf_html_aea73131e3cbf01bd4a86fea27cb544f3"><div class="ttname"><a href="../../dd/d35/namespaceGPUCA__NAMESPACE_1_1gpu_1_1tpccf.html#aea73131e3cbf01bd4a86fea27cb544f3">GPUCA_NAMESPACE::gpu::tpccf::TPCTime</a></div><div class="ttdeci">int TPCTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/clusterFinderDefs_8h_source.html#l00078">clusterFinderDefs.h:78</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ab4af2e82c5013fd3c08d8ae11d3a7700"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">TPCMergedTracks</a></div><div class="ttdeci">TPCMergedTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00120">GPUDataTypes.h:120</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_af1d87a63f36922e80a92b9ae135783b7"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af1d87a63f36922e80a92b9ae135783b7">GPUCA_NAMESPACE::gpu::GPUChainTracking::GlobalTracking</a></div><div class="ttdeci">int GlobalTracking(unsigned int iSlice, int threadId, bool synchronizeOutput=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00703">GPUChainTracking.cxx:703</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels_html_a5234e127178b45f270da47850af819d3"><div class="ttname"><a href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a5234e127178b45f270da47850af819d3">GPUCA_NAMESPACE::gpu::GPUTPCLinearLabels::data</a></div><div class="ttdeci">std::vector&lt; o2::MCCompLabel &gt; data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d20/GPUHostDataTypes_8h_source.html#l00051">GPUHostDataTypes.h:51</a></div></div>
<div class="ttc" id="bench__Clusterizer_8cxx_html_af656038045ce6448240b3767491787da"><div class="ttname"><a href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a></div><div class="ttdeci">double num</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d12/bench__Clusterizer_8cxx_source.html#l00122">bench_Clusterizer.cxx:122</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack_html"><div class="ttname"><a href="../../d3/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack.html">GPUCA_NAMESPACE::gpu::GPUTPCGMMergedTrack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfd/GPUTPCGMMergedTrack_8h_source.html#l00030">GPUTPCGMMergedTrack.h:30</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_abd23857e2e1a731f558a57c14925097c"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#abd23857e2e1a731f558a57c14925097c">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mMinMaxCN</a></div><div class="ttdeci">MinMaxCN * mMinMaxCN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00095">GPUTPCClusterFinder.h:95</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a69b848b9608a18fe18bf04f9b932ffb5"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a69b848b9608a18fe18bf04f9b932ffb5">o2::tpc::CompressedClustersPtrs_x::rowA</a></div><div class="ttdeci">TCHAR rowA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00049">CompressedClusters.h:49</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a037e58dd205fd582954dfc0317b34c5c"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a037e58dd205fd582954dfc0317b34c5c">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mNMaxClusterSliceRow</a></div><div class="ttdeci">unsigned int mNMaxClusterSliceRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00095">GPUTPCCompression.h:95</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ac199a2ffc8745106692ac44783659faa"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac199a2ffc8745106692ac44783659faa">o2::tpc::CompressedClustersPtrs_x::sigmaTimeU</a></div><div class="ttdeci">TCHAR sigmaTimeU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00060">CompressedClusters.h:60</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_aa7e826ab1b8cd7da242bc55b27c3afcc"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#aa7e826ab1b8cd7da242bc55b27c3afcc">GPUCA_NAMESPACE::gpu::GPUConstantMem::tpcTrackers</a></div><div class="ttdeci">tpcTrackers[GPUCA_NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00066">GPUConstantMem.h:66</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_aba1684e2391ed313db5c120715a7085f"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#aba1684e2391ed313db5c120715a7085f">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::fullMergerOnGPU</a></div><div class="ttdeci">bool fullMergerOnGPU</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00166">GPUSettings.h:166</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a0917678590972aa079db85ad657560b7"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a0917678590972aa079db85ad657560b7">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::PrepareMC</a></div><div class="ttdeci">void PrepareMC()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/GPUTPCClusterFinder_8cxx_source.html#l00122">GPUTPCClusterFinder.cxx:122</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ae9120196850d79fa7160c9ff982d6e61"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ae9120196850d79fa7160c9ff982d6e61">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPpeakMap</a></div><div class="ttdeci">unsigned char * mPpeakMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00102">GPUTPCClusterFinder.h:102</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ac14b6145587919ad595a8fa139c7dcc7"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">TPCSectorTracks</a></div><div class="ttdeci">TPCSectorTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00119">GPUDataTypes.h:119</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_a079b7ca3ecf036ab90ef73e345383b5d"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a079b7ca3ecf036ab90ef73e345383b5d">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nDigits</a></div><div class="ttdeci">size_t nDigits</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00054">GPUTPCClusterFinder.h:54</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_ae720ddde2d8597311bfcd09f48471d51"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ae720ddde2d8597311bfcd09f48471d51">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::trdTrackletsMC</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTRDTrackletLabels[]&gt; trdTrackletsMC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00100">GPUChainTracking.h:100</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_acb254cc74fae72ee0637ae0ad37a11c4"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#acb254cc74fae72ee0637ae0ad37a11c4">o2::tpc::CompressedClustersPtrs_x::timeDiffU</a></div><div class="ttdeci">TINT timeDiffU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00058">CompressedClusters.h:58</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html_ab50cae09b5057eec0cc3ef4c30b0b6c7"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#ab50cae09b5057eec0cc3ef4c30b0b6c7">GPUCA_NAMESPACE::gpu::withinSlice</a></div><div class="ttdeci">unsigned long size int mode int iSlice int iSlice char nOutput int int char useOrigTrackParam int char withinSlice</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00044">GPUReconstructionCPU.h:44</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCZSHDR_html"><div class="ttname"><a href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html">o2::tpc::TPCZSHDR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d04/ZeroSuppression_8h_source.html#l00027">ZeroSuppression.h:27</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a2cf64ce9944a6633873bee855eec8efb"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2cf64ce9944a6633873bee855eec8efb">GPUCA_NAMESPACE::gpu::GPUChain::GetRecoStepsOutputs</a></div><div class="ttdeci">GPUReconstruction::InOutTypeField GetRecoStepsOutputs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00064">GPUChain.h:64</a></div></div>
<div class="ttc" id="GPUTPCSliceOutCluster_8h_html"><div class="ttname"><a href="../../d2/dd5/GPUTPCSliceOutCluster_8h.html">GPUTPCSliceOutCluster.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a0ce8ad884cf3a5dac69d98a151f1a7c5"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0ce8ad884cf3a5dac69d98a151f1a7c5">GPUCA_NAMESPACE::gpu::GPUChainTracking::ConvertNativeToClusterData</a></div><div class="ttdeci">int ConvertNativeToClusterData()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00495">GPUChainTracking.cxx:495</a></div></div>
<div class="ttc" id="GPUTPCTrack_8h_html"><div class="ttname"><a href="../../d0/d88/GPUTPCTrack_8h.html">GPUTPCTrack.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1ZSOffset_html"><div class="ttname"><a href="../../da/d0d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1ZSOffset.html">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::ZSOffset</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00065">GPUTPCClusterFinder.h:65</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t_html_a9904cd6a58efd16c8a86518a28afb1c0"><div class="ttname"><a href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a9904cd6a58efd16c8a86518a28afb1c0">GPUCA_NAMESPACE::gpu::GPUTRDTracker_t::MemoryTracklets</a></div><div class="ttdeci">short MemoryTracklets() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d44/GPUTRDTracker_8h_source.html#l00107">GPUTRDTracker.h:107</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a1ec502557dbed9ee85d9b2a969b4e762"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a1ec502557dbed9ee85d9b2a969b4e762">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::SetNMaxDigits</a></div><div class="ttdeci">void SetNMaxDigits(size_t nDigits, size_t nPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/GPUTPCClusterFinder_8cxx_source.html#l00102">GPUTPCClusterFinder.cxx:102</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a9fd8daf664979d0a15709178cbfa9c60"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a9fd8daf664979d0a15709178cbfa9c60">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPzsOffsets</a></div><div class="ttdeci">ZSOffset * mPzsOffsets</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00094">GPUTPCClusterFinder.h:94</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a34370e1e1f8a067a1a994373ca67f7b2"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a34370e1e1f8a067a1a994373ca67f7b2">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpSliceData</a></div><div class="ttdeci">void DumpSliceData(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00044">GPUTPCTrackerDump.cxx:44</a></div></div>
<div class="ttc" id="GPUTRDTrackletWord_8h_html"><div class="ttname"><a href="../../df/d3c/GPUTRDTrackletWord_8h.html">GPUTRDTrackletWord.h</a></div><div class="ttdoc">TRD Tracklet word for GPU tracker - 32bit tracklet info + half chamber ID + index. </div></div>
<div class="ttc" id="classHighResTimer_html_a8df5b3d57f7c3e12775834285314c651"><div class="ttname"><a href="../../da/dd8/classHighResTimer.html#a8df5b3d57f7c3e12775834285314c651">HighResTimer::GetElapsedTime</a></div><div class="ttdeci">double GetElapsedTime()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d64/timer_8cxx_source.html#l00099">timer.cxx:99</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct_html_aa2a2a07796fb37cf8b13c2f5a7ab3791"><div class="ttname"><a href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa2a2a07796fb37cf8b13c2f5a7ab3791">GPUCA_NAMESPACE::gpu::GPUChainTracking::eventStruct::slice</a></div><div class="ttdeci">void * slice[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00174">GPUChainTracking.h:174</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_ac8be0ecc7018564881a578a23c042965"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ac8be0ecc7018564881a578a23c042965">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mOutput</a></div><div class="ttdeci">GPUFakeEmpty * mOutput</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d28/GPUO2FakeClasses_8h_source.html#l00097">GPUO2FakeClasses.h:97</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aef45486e961fbda17a5e14bbf97356c4"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef45486e961fbda17a5e14bbf97356c4">GPUCA_NAMESPACE::gpu::GPUChainTracking::WriteOutput</a></div><div class="ttdeci">void WriteOutput(int iSlice, int threadId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00641">GPUChainTracking.cxx:641</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a2006a2ed015a93cffb050092f01bfa0d"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a2006a2ed015a93cffb050092f01bfa0d">TPCdEdx</a></div><div class="ttdeci">TPCdEdx</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00114">GPUDataTypes.h:114</a></div></div>
<div class="ttc" id="ZeroSuppression_8h_html"><div class="ttname"><a href="../../dd/d04/ZeroSuppression_8h.html">ZeroSuppression.h</a></div><div class="ttdoc">Definitions of TPC Zero Suppression Data Headers. </div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_ab49138274b2dcf6d555fa3be6a13993b"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ab49138274b2dcf6d555fa3be6a13993b">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::~InOutMemory</a></div><div class="ttdeci">~InOutMemory()</div></div>
<div class="ttc" id="qconfigoptions_8h_html_ad08a37964429d340d966dfa679443e8f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8e8a78e36205bada4146dc581c95f82c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a></div><div class="ttdeci">GLintptr offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00660">glcorearb.h:660</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_afb7fd07f7ac0d28805ae03fdf0f3b738"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#afb7fd07f7ac0d28805ae03fdf0f3b738">GPUCA_NAMESPACE::gpu::GPUReconstruction::DeviceMemoryBase</a></div><div class="ttdeci">const void * DeviceMemoryBase() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00228">GPUReconstruction.h:228</a></div></div>
<div class="ttc" id="DataFormats_2Detectors_2TPC_2include_2DataFormatsTPC_2Digit_8h_html"><div class="ttname"><a href="../../d3/d7d/DataFormats_2Detectors_2TPC_2include_2DataFormatsTPC_2Digit_8h.html">Digit.h</a></div></div>
<div class="ttc" id="GPUTPCGMMergedTrack_8h_html"><div class="ttname"><a href="../../d8/dfd/GPUTPCGMMergedTrack_8h.html">GPUTPCGMMergedTrack.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ac4477ef5e975cf9f127e432e996f5560"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac4477ef5e975cf9f127e432e996f5560">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPpositions</a></div><div class="ttdeci">ChargePos * mPpositions</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00097">GPUTPCClusterFinder.h:97</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aef892f3b3667f72fed0f13c2f9a1cd2f"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aef892f3b3667f72fed0f13c2f9a1cd2f">GPUCA_NAMESPACE::gpu::GPUChainTracking::mSliceSelectorReady</a></div><div class="ttdeci">VOLATILE int mSliceSelectorReady</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00243">GPUChainTracking.h:243</a></div></div>
<div class="ttc" id="GPUTPCClusterStatistics_8h_html"><div class="ttname"><a href="../../d3/d25/GPUTPCClusterStatistics_8h.html">GPUTPCClusterStatistics.h</a></div></div>
<div class="ttc" id="standalone_8cxx_html_a89fc507a8313a2c8530b05526aee23af"><div class="ttname"><a href="../../dc/df9/standalone_8cxx.html#a89fc507a8313a2c8530b05526aee23af">rec</a></div><div class="ttdeci">GPUReconstruction * rec</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df9/standalone_8cxx_source.html#l00075">standalone.cxx:75</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a6bcf725eff6c0060fff75b01ec57fea7"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bcf725eff6c0060fff75b01ec57fea7">GPUCA_NAMESPACE::gpu::GPUChainTracking::AllocateIOMemory</a></div><div class="ttdeci">void AllocateIOMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00476">GPUChainTracking.cxx:476</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a3f953d9b9f7332f0bf31639ef2d13dcd"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a3f953d9b9f7332f0bf31639ef2d13dcd">o2::tpc::CompressedClustersPtrs_x::sigmaPadA</a></div><div class="ttdeci">TCHAR sigmaPadA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00045">CompressedClusters.h:45</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a02fd5898a46740ace9ecb501462dc826"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a02fd5898a46740ace9ecb501462dc826">GPUCA_NAMESPACE::gpu::GPUChainTracking::~GPUChainTracking</a></div><div class="ttdeci">~GPUChainTracking() override</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a5c2bafcacf27ae9895988109a05f8e51"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a5c2bafcacf27ae9895988109a05f8e51">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mAttachedClusterFirstIndex</a></div><div class="ttdeci">unsigned int * mAttachedClusterFirstIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00089">GPUTPCCompression.h:89</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU_html_a3e901c140e8ed0a6f6b9c168c521d813"><div class="ttname"><a href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a3e901c140e8ed0a6f6b9c168c521d813">GPUCA_NAMESPACE::gpu::GPUReconstructionCPU::registerMemoryForGPU</a></div><div class="ttdeci">int registerMemoryForGPU(const void *ptr, size_t size) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00136">GPUReconstructionCPU.h:136</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ab701b3b0f17eb70ebcc858713836f61d"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ab701b3b0f17eb70ebcc858713836f61d">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::getNSteps</a></div><div class="ttdeci">unsigned int getNSteps(size_t items) const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da0/GPUTPCClusterFinder_8cxx_source.html#l00108">GPUTPCClusterFinder.cxx:108</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam_html"><div class="ttname"><a href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html">GPUCA_NAMESPACE::gpu::GPUReconstructionHelpers::helperParam</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/GPUReconstructionHelpers_8h_source.html#l00031">GPUReconstructionHelpers.h:31</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_a7919415ecb38dfb31197aac76767e98f"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a7919415ecb38dfb31197aac76767e98f">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpMergedBetweenSlices</a></div><div class="ttdeci">void DumpMergedBetweenSlices(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00068">GPUTPCGMMergerDump.cxx:68</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a77a8baeadd290be8dbf1bfc970eb0799"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a77a8baeadd290be8dbf1bfc970eb0799">GPUCA_NAMESPACE::gpu::GPUReconstruction::ReturnVolatileDeviceMemory</a></div><div class="ttdeci">void ReturnVolatileDeviceMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00579">GPUReconstruction.cxx:579</a></div></div>
<div class="ttc" id="classshort_html"><div class="ttname"><a href="../../dc/d10/classshort.html">short</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a1271b8490bc6e56e809ec0d174f3d6a6"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1271b8490bc6e56e809ec0d174f3d6a6">GPUCA_NAMESPACE::gpu::GPUChain::WarpSize</a></div><div class="ttdeci">unsigned int WarpSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00199">GPUChain.h:199</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_acb16771ee48e5ec173f2470150c5043c"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acb16771ee48e5ec173f2470150c5043c">GPUCA_NAMESPACE::gpu::GPUConstantMem::tpcCompressor</a></div><div class="ttdeci">GPUTPCCompression tpcCompressor</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00068">GPUConstantMem.h:68</a></div></div>
<div class="ttc" id="clusterFinderDefs_8h_html_a1c080e9b47cafcc0b70d0104c10f3309"><div class="ttname"><a href="../../d9/db0/clusterFinderDefs_8h.html#a1c080e9b47cafcc0b70d0104c10f3309">TPC_MAX_FRAGMENT_LEN</a></div><div class="ttdeci">#define TPC_MAX_FRAGMENT_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/clusterFinderDefs_8h_source.html#l00053">clusterFinderDefs.h:53</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html_a9c5fbbeee8e2c01c916ef0bc2a7d0087"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a9c5fbbeee8e2c01c916ef0bc2a7d0087">o2::dataformats::MCTruthContainer::getIndexedSize</a></div><div class="ttdeci">size_t getIndexedSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d14/MCTruthContainer_8h_source.html#l00138">MCTruthContainer.h:138</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a386b11e7f07423ba2c98b21e544bc401"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a386b11e7f07423ba2c98b21e544bc401">GPUCA_NAMESPACE::gpu::GPUChain::AllocateIOMemoryHelper</a></div><div class="ttdeci">void AllocateIOMemoryHelper(unsigned int n, const T *&amp;ptr, std::unique_ptr&lt; T[]&gt; &amp;u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00121">GPUChain.h:121</a></div></div>
<div class="ttc" id="GPUDefMacros_8h_html_a8f5eec32d1a68364e1f8686a03170527"><div class="ttname"><a href="../../d6/dff/GPUDefMacros_8h.html#a8f5eec32d1a68364e1f8686a03170527">GPUCA_OPENMP</a></div><div class="ttdeci">#define GPUCA_OPENMP(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dff/GPUDefMacros_8h_source.html#l00048">GPUDefMacros.h:48</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterStatistics_html"><div class="ttname"><a href="../../d8/ddb/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterStatistics.html">GPUCA_NAMESPACE::gpu::GPUTPCClusterStatistics</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d28/GPUO2FakeClasses_8h_source.html#l00104">GPUO2FakeClasses.h:104</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_aa9e23a2bdbd7874fdf47c65034ae766c"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aa9e23a2bdbd7874fdf47c65034ae766c">GPUCA_NAMESPACE::gpu::GPUChain::GetGridAuto</a></div><div class="ttdeci">krnlExec GetGridAuto(int stream, GPUReconstruction::krnlDeviceType d=GPUReconstruction::krnlDeviceType::Auto, GPUCA_RECO_STEP st=GPUCA_RECO_STEP::NoRecoStep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/GPUChain_8cxx_source.html#l00041">GPUChain.cxx:41</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_a99fa1155910f3abf4ce2873e4690e1ce"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a99fa1155910f3abf4ce2873e4690e1ce">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nClusters</a></div><div class="ttdeci">tpccf::SizeT nClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00057">GPUTPCClusterFinder.h:57</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aca3202a119ffbae9c77c68aa29dc39f8"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aca3202a119ffbae9c77c68aa29dc39f8">GPUCA_NAMESPACE::gpu::GPUChainTracking::ValidateSteps</a></div><div class="ttdeci">bool ValidateSteps()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00157">GPUChainTracking.cxx:157</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ac559127ae6742f1af7506848b099d0a1"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac559127ae6742f1af7506848b099d0a1">GPUCA_NAMESPACE::gpu::GPUChain::TransferMemoryResourcesToHost</a></div><div class="ttdeci">void TransferMemoryResourcesToHost(RecoStep step, GPUProcessor *proc, int stream=-1, bool all=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00105">GPUChain.h:105</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html">GPUCA_NAMESPACE::gpu::GPUChain</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00024">GPUChain.h:24</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ab03603d7330006eebb4bdaf83e864e66"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab03603d7330006eebb4bdaf83e864e66">GPUCA_NAMESPACE::gpu::GPUChainTracking::RegisterPermanentMemoryAndProcessors</a></div><div class="ttdeci">void RegisterPermanentMemoryAndProcessors() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00078">GPUChainTracking.cxx:78</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a1fe2b9d716f80da76adb19505d583dc1"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a1fe2b9d716f80da76adb19505d583dc1">f</a></div><div class="ttdeci">GLdouble f</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00310">glcorearb.h:310</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a39a04827c082d42a809559ad8100836a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a39a04827c082d42a809559ad8100836a">GPUCA_NAMESPACE::gpu::GPUChainTracking::mFlatObjectsDevice</a></div><div class="ttdeci">GPUTrackingFlatObjects mFlatObjectsDevice</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00205">GPUChainTracking.h:205</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html">GPUCA_NAMESPACE::gpu::GPUReconstruction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00052">GPUReconstruction.h:52</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA_html_a0d6b0e0552989e5993e0e9889527c33a"><div class="ttname"><a href="../../d0/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA.html#a0d6b0e0552989e5993e0e9889527c33a">GPUCA_NAMESPACE::gpu::GPUQA::QAAvailable</a></div><div class="ttdeci">static bool QAAvailable()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcc/GPUQA_8h_source.html#l00055">GPUQA.h:55</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aa36970668b66532fa9ebf53244a15759"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa36970668b66532fa9ebf53244a15759">GPUCA_NAMESPACE::gpu::GPUChainTracking::mOutputCompressedClusters</a></div><div class="ttdeci">GPUOutputControl * mOutputCompressedClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00229">GPUChainTracking.h:229</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_aa68ac23f8d6230fee708781719e62f29"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#aa68ac23f8d6230fee708781719e62f29">GPUCA_NAMESPACE::gpu::GPUReconstruction::AllocateRegisteredMemory</a></div><div class="ttdeci">size_t AllocateRegisteredMemory(GPUProcessor *proc)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00350">GPUReconstruction.cxx:350</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a1f70a32d759d9bcdb0c9d2aacccdc627"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a1f70a32d759d9bcdb0c9d2aacccdc627">TPCCompression</a></div><div class="ttdeci">TPCCompression</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00111">GPUDataTypes.h:111</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html_a1fd58899f8ae8d16e3c2a677ddabd3c8"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a1fd58899f8ae8d16e3c2a677ddabd3c8">o2::tpc::ClusterNativeAccess::clustersLinear</a></div><div class="ttdeci">const ClusterNative * clustersLinear</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00158">ClusterNative.h:158</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs_html"><div class="ttname"><a href="../../dd/d10/structo2_1_1tpc_1_1CompressedClustersPtrs.html">o2::tpc::CompressedClustersPtrs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00068">CompressedClusters.h:68</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0788d3762d0c3c76e4c094d8078b4c27"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a></div><div class="ttdeci">GLdouble n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01982">glcorearb.h:1982</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCZSHDR_html_a70643353af25100617d427a9f044ea43"><div class="ttname"><a href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a70643353af25100617d427a9f044ea43">o2::tpc::TPCZSHDR::timeOffset</a></div><div class="ttdeci">unsigned short timeOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d04/ZeroSuppression_8h_source.html#l00038">ZeroSuppression.h:38</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_aec4afd38b6f7a9a6f5cfc157ec1edfbf"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#aec4afd38b6f7a9a6f5cfc157ec1edfbf">TPCSliceTracking</a></div><div class="ttdeci">TPCSliceTracking</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00109">GPUDataTypes.h:109</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a44460baf9782780e26a05cd8d68749a9"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a44460baf9782780e26a05cd8d68749a9">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::mergedTrackHits</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCGMMergedTrackHit[]&gt; mergedTrackHits</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00098">GPUChainTracking.h:98</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a98b257efe50891982d348aaee620bba8"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a98b257efe50891982d348aaee620bba8">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::tpcCompressionGatherMode</a></div><div class="ttdeci">int tpcCompressionGatherMode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00161">GPUSettings.h:161</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_ad4334434ff21417dff763b4ea03e5f15"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ad4334434ff21417dff763b4ea03e5f15">GPUCA_NAMESPACE::gpu::GPUReconstruction::PopNonPersistentMemory</a></div><div class="ttdeci">void PopNonPersistentMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00592">GPUReconstruction.cxx:592</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU_html_a00dd0d7fcd5a5fd329b5c3abcb9f4de2"><div class="ttname"><a href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a00dd0d7fcd5a5fd329b5c3abcb9f4de2">GPUCA_NAMESPACE::gpu::GPUReconstructionCPU::GPUStuck</a></div><div class="ttdeci">int GPUStuck()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00138">GPUReconstructionCPU.h:138</a></div></div>
<div class="ttc" id="classHighResTimer_html_acaf9fd768897e478d200e514a71971d5"><div class="ttname"><a href="../../da/dd8/classHighResTimer.html#acaf9fd768897e478d200e514a71971d5">HighResTimer::Stop</a></div><div class="ttdeci">void Stop()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d64/timer_8cxx_source.html#l00068">timer.cxx:68</a></div></div>
<div class="ttc" id="GPUTRDTrackletLabels_8h_html"><div class="ttname"><a href="../../d5/df2/GPUTRDTrackletLabels_8h.html">GPUTRDTrackletLabels.h</a></div><div class="ttdoc">Used for storing the MC labels for the TRD tracklets. </div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ac8d8dc0ef2c7eaf1a915f02600afefd1"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac8d8dc0ef2c7eaf1a915f02600afefd1">GPUCA_NAMESPACE::gpu::GPUChain::ReleaseEvent</a></div><div class="ttdeci">void ReleaseEvent(deviceEvent *ev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00093">GPUChain.h:93</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels_html"><div class="ttname"><a href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html">GPUCA_NAMESPACE::gpu::GPUTPCLinearLabels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d20/GPUHostDataTypes_8h_source.html#l00049">GPUHostDataTypes.h:49</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_adf365c11aad2c869acf8e2eb821424ef"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#adf365c11aad2c869acf8e2eb821424ef">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mClusterStatus</a></div><div class="ttdeci">unsigned char * mClusterStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00090">GPUTPCCompression.h:90</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a6b88ff84879e043607c2014cf4680df0"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6b88ff84879e043607c2014cf4680df0">GPUCA_NAMESPACE::gpu::GPUChainTracking::DoTRDGPUTracking</a></div><div class="ttdeci">int DoTRDGPUTracking()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l02012">GPUChainTracking.cxx:2012</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_ad4536492315104a6e580c05ba605e05f"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad4536492315104a6e580c05ba605e05f">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mCalibObjects</a></div><div class="ttdeci">GPUCalibObjects mCalibObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00164">GPUChainTracking.h:164</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a8ac796a975b2c334bef9bcd83179be4b"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ac796a975b2c334bef9bcd83179be4b">GPUCA_NAMESPACE::gpu::GPUChain::PrepareTextures</a></div><div class="ttdeci">virtual int PrepareTextures()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00210">GPUChain.h:210</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ad5652f8cb2e921d5dceca1338d6b30f5"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ad5652f8cb2e921d5dceca1338d6b30f5">GPUCA_NAMESPACE::gpu::GPUChain::RecoStep</a></div><div class="ttdeci">GPUReconstruction::RecoStep RecoStep</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00029">GPUChain.h:29</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ac5cfd89356041f6b36c1396e2e2bbd2b"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac5cfd89356041f6b36c1396e2e2bbd2b">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPfilteredPeakPositions</a></div><div class="ttdeci">ChargePos * mPfilteredPeakPositions</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00099">GPUTPCClusterFinder.h:99</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a4c05b0d859ba57676325b3f9ea6c4a5a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a4c05b0d859ba57676325b3f9ea6c4a5a">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTRDGeometryU</a></div><div class="ttdeci">std::unique_ptr&lt; o2::trd::TRDGeometryFlat &gt; mTRDGeometryU</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00219">GPUChainTracking.h:219</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a6d14e0987cd4dcbde57471d6a276d036"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a6d14e0987cd4dcbde57471d6a276d036">GPUCA_NAMESPACE::gpu::GPUReconstruction::NStreams</a></div><div class="ttdeci">int NStreams() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00227">GPUReconstruction.h:227</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ae0a495a3da00659cc39355a00765bb46"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ae0a495a3da00659cc39355a00765bb46">zsThreshold</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char Directory with events to Number of OMP threads to Show standalone event Enable tracking Run event generator Use way track fit Create OuterParam Process continuous timeframe data Factor to apply to all memory scalers Automatically register input memory buffers for the GPU Use FIFO realtime Trap on floating point exceptions Field strength of solenoid Bz in kGaus Override max time bin setting for continuous data with max time bin in time frame Apply Zero Suppression when loading digits and remove those below zsThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00164">qconfigoptions.h:164</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor_html_a3864bfb948eaa250baedb09a9fc2ba82afeaaf1909222ae3c32cdf0731c8f857a"><div class="ttname"><a href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a3864bfb948eaa250baedb09a9fc2ba82afeaaf1909222ae3c32cdf0731c8f857a">GPUCA_NAMESPACE::gpu::GPUProcessor::PROCESSOR_TYPE_SLAVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d57/GPUProcessor_8h_source.html#l00045">GPUProcessor.h:45</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a411058f1fc38570be1fa427f5b7ac3d4"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a411058f1fc38570be1fa427f5b7ac3d4">GPUCA_NAMESPACE::gpu::GPUChain::WriteToConstantMemory</a></div><div class="ttdeci">void WriteToConstantMemory(RecoStep step, size_t offset, const void *src, size_t size, int stream=-1, deviceEvent *ev=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00109">GPUChain.h:109</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_ad002e4f7a0d164e138caa26d79364630"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ad002e4f7a0d164e138caa26d79364630">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::mcLabelsTPC</a></div><div class="ttdeci">std::unique_ptr&lt; AliHLTTPCClusterMCLabel[]&gt; mcLabelsTPC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00095">GPUChainTracking.h:95</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a5d14acab80b750d2168502b21366f009"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5d14acab80b750d2168502b21366f009">GPUCA_NAMESPACE::gpu::GPUChainTracking::Init</a></div><div class="ttdeci">int Init() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00262">GPUChainTracking.cxx:262</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a067d7265bd74917b85706e9bc477d720"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a067d7265bd74917b85706e9bc477d720">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpDigits</a></div><div class="ttdeci">void DumpDigits(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00022">GPUTPCClusterFinderDump.cxx:22</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a7a398e48b6d754088c660841d69f2a4a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a7a398e48b6d754088c660841d69f2a4a">GPUCA_NAMESPACE::gpu::GPUChainTracking::mDigitMap</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTrackingInOutDigits &gt; mDigitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00223">GPUChainTracking.h:223</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_aa614ae9e8ec8f5346ac88d0be625fa22"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#aa614ae9e8ec8f5346ac88d0be625fa22">d</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char Directory with events to Number of OMP threads to d</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00142">qconfigoptions.h:142</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ad4ea3ef60127e1bc71828c1e959bdfe4"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ad4ea3ef60127e1bc71828c1e959bdfe4">o2::tpc::CompressedClustersPtrs_x::sliceLegDiffA</a></div><div class="ttdeci">TCHAR sliceLegDiffA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00042">CompressedClusters.h:42</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a4cc3c10bc1e2b243266e7a308b17d64e"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a4cc3c10bc1e2b243266e7a308b17d64e">GPUCA_NAMESPACE::gpu::GPUChainTracking::PrepareProfile</a></div><div class="ttdeci">int PrepareProfile()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUChainTrackingDebugAndProfiling_8cxx_source.html#l00025">GPUChainTrackingDebugAndProfiling.cxx:25</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html_a1d0678d105530d43592d904224522814"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a1d0678d105530d43592d904224522814">o2::tpc::ClusterNativeAccess::clusterOffset</a></div><div class="ttdeci">unsigned int clusterOffset[Constants::MAXSECTOR][Constants::MAXGLOBALPADROW]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00163">ClusterNative.h:163</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a0286584a17dceabe44972b6ba11315d9"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0286584a17dceabe44972b6ba11315d9">GPUCA_NAMESPACE::gpu::GPUChain::RecordMarker</a></div><div class="ttdeci">void RecordMarker(deviceEvent *ev, int stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00090">GPUChain.h:90</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a8fcdc3737de0b28706b0fef3c614f0c8"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a8fcdc3737de0b28706b0fef3c614f0c8">o2::tpc::CompressedClustersPtrs_x::padDiffU</a></div><div class="ttdeci">TSHORT padDiffU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00057">CompressedClusters.h:57</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_af02e10d11a9e223784e286c81d890777"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af02e10d11a9e223784e286c81d890777">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::debugLevel</a></div><div class="ttdeci">int debugLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00142">GPUSettings.h:142</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a29a27e93eec84c1d1b79e65ebf7f847b"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a29a27e93eec84c1d1b79e65ebf7f847b">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::nTPCClustererLanes</a></div><div class="ttdeci">int nTPCClustererLanes</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00158">GPUSettings.h:158</a></div></div>
<div class="ttc" id="test__Algorithm_8cxx_html_a5216308b2bcc588018b96379974d290c"><div class="ttname"><a href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a></div><div class="ttdeci">const size_t max</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/test__Algorithm_8cxx_source.html#l00040">test_Algorithm.cxx:40</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplay_html"><div class="ttname"><a href="../../d9/dda/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplay.html">GPUCA_NAMESPACE::gpu::GPUDisplay</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d69/GPUDisplay_8h_source.html#l00053">GPUDisplay.h:53</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_af6ba75c84cb72adfd25e0a1e23401d65"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#af6ba75c84cb72adfd25e0a1e23401d65">GPUCA_NAMESPACE::gpu::GPUChainTracking::mInputsHost</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTrackingInputProvider &gt; mInputsHost</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00206">GPUChainTracking.h:206</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a543960e2b4cb0f2665934341d6426062"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a543960e2b4cb0f2665934341d6426062">GPUCA_NAMESPACE::gpu::GPUChainTracking::ReadEvent</a></div><div class="ttdeci">int ReadEvent(unsigned int iSlice, int threadId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00629">GPUChainTracking.cxx:629</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a06e0bd9b889dc9a9405387167a40292b"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a06e0bd9b889dc9a9405387167a40292b">GPUCA_NAMESPACE::gpu::GPUChain::WaitForHelperThreads</a></div><div class="ttdeci">void WaitForHelperThreads()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00097">GPUChain.h:97</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_a3c2ad633d0109b0c907d726a52abef71"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a3c2ad633d0109b0c907d726a52abef71">GPUCA_NAMESPACE::gpu::GPUConstantMem::tpcMerger</a></div><div class="ttdeci">GPUTPCGMMerger tpcMerger</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00069">GPUConstantMem.h:69</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a906f5094db0db2011a12866f4306fa22"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a906f5094db0db2011a12866f4306fa22">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::trdTracklets</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTRDTrackletWord[]&gt; trdTracklets</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00099">GPUChainTracking.h:99</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a4bb93d23807a48ee84242d035e1cebe9"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a4bb93d23807a48ee84242d035e1cebe9">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPzs</a></div><div class="ttdeci">unsigned char * mPzs</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00093">GPUTPCClusterFinder.h:93</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a0e337370ac5377a27112d5036e456201"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0e337370ac5377a27112d5036e456201">GPUCA_NAMESPACE::gpu::GPUChain::GetRecoStepsInputs</a></div><div class="ttdeci">GPUReconstruction::InOutTypeField GetRecoStepsInputs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00063">GPUChain.h:63</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a3e79cb79b7f7134a5338a0dc111c08d5"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a3e79cb79b7f7134a5338a0dc111c08d5">GPUCA_NAMESPACE::gpu::GPUReconstruction::PushNonPersistentMemory</a></div><div class="ttdeci">void PushNonPersistentMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00587">GPUReconstruction.cxx:587</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a989e0522b6a7873acebc309df433737c"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737c">GPUCA_NAMESPACE::gpu::GPUReconstruction::krnlDeviceType</a></div><div class="ttdeci">krnlDeviceType</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00119">GPUReconstruction.h:119</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_ae79c39590a5e3431ab6484ff38543a51"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ae79c39590a5e3431ab6484ff38543a51">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::sliceTracks</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCTrack[]&gt; sliceTracks[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00093">GPUChainTracking.h:93</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a2f7769e56e0f17cc59f6ab40f69d4f32"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a2f7769e56e0f17cc59f6ab40f69d4f32">GPUCA_NAMESPACE::gpu::GPUReconstruction::ComputeReuseMax</a></div><div class="ttdeci">void ComputeReuseMax(GPUProcessor *proc)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00335">GPUReconstruction.cxx:335</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a0b3d03c5cf7b5ed5c7c0583a1fe86a9a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0b3d03c5cf7b5ed5c7c0583a1fe86a9a">GPUCA_NAMESPACE::gpu::GPUChainTracking::Finalize</a></div><div class="ttdeci">int Finalize() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00432">GPUChainTracking.cxx:432</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ae4185bf26565d44665bc02036e2a871b"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ae4185bf26565d44665bc02036e2a871b">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpLinks</a></div><div class="ttdeci">void DumpLinks(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00063">GPUTPCTrackerDump.cxx:63</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_af097639be5fb70eb1332028a661cbd32"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#af097639be5fb70eb1332028a661cbd32">GPUCA_NAMESPACE::gpu::GPUConstantMem::ioPtrs</a></div><div class="ttdeci">GPUTrackingInOutPointers ioPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00073">GPUConstantMem.h:73</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a3a41715047866c36ea85f56f236303bc"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3a41715047866c36ea85f56f236303bc">GPUCA_NAMESPACE::gpu::GPUChain::CondWaitEvent</a></div><div class="ttdeci">void CondWaitEvent(T &amp;cond, deviceEvent *ev)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00082">GPUChain.h:82</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a432111147038972f06e049e18a837002"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a432111147038972f06e049e18a837002">end</a></div><div class="ttdeci">GLuint GLuint end</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00469">glcorearb.h:469</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a1c88c0a5bd5f79a1393cf11bd6016ee1"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1c88c0a5bd5f79a1393cf11bd6016ee1">GPUCA_NAMESPACE::gpu::GPUChainTracking::mWriteOutputDone</a></div><div class="ttdeci">std::array&lt; char, NSLICES &gt; mWriteOutputDone</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00244">GPUChainTracking.h:244</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam_html_af02f717a7f3982e9eaf4c9738e44fdb6"><div class="ttname"><a href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#af02f717a7f3982e9eaf4c9738e44fdb6">GPUCA_NAMESPACE::gpu::GPUParam::rec</a></div><div class="ttdeci">GPUSettingsRec rec</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/GPUParam_8h_source.html#l00042">GPUParam.h:42</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers_html_a3dac95915070b1348214a5d41b42ce42"><div class="ttname"><a href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a3dac95915070b1348214a5d41b42ce42">GPUCA_NAMESPACE::gpu::GPUMemorySizeScalers::NTPCClusters</a></div><div class="ttdeci">double NTPCClusters(double tpcDigits)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d36/GPUMemorySizeScalers_8h_source.html#l00046">GPUMemorySizeScalers.h:46</a></div></div>
<div class="ttc" id="test__Algorithm_8cxx_html_ae5477ddff01c63e9facd656f4de7b8c9"><div class="ttname"><a href="../../d2/d0e/test__Algorithm_8cxx.html#ae5477ddff01c63e9facd656f4de7b8c9">min</a></div><div class="ttdeci">const size_t min</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/test__Algorithm_8cxx_source.html#l00039">test_Algorithm.cxx:39</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_a557eedf546448c13679b743f36fadd5f"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a557eedf546448c13679b743f36fadd5f">GPUCA_NAMESPACE::gpu::GPUConstantMem::tpcClusterer</a></div><div class="ttdeci">GPUTPCClusterFinder tpcClusterer[GPUCA_NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00071">GPUConstantMem.h:71</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a29c862575ad8a61fabe504c465f42261"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a29c862575ad8a61fabe504c465f42261">GPUCA_NAMESPACE::gpu::GPUChainTracking::ClearIOPointers</a></div><div class="ttdeci">void ClearIOPointers()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00469">GPUChainTracking.cxx:469</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a6be88450a57fbfdca30cddde43b14ae9"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6be88450a57fbfdca30cddde43b14ae9">GPUCA_NAMESPACE::gpu::GPUChainTracking::ConvertZSEncoder</a></div><div class="ttdeci">void ConvertZSEncoder(bool zs12bit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00577">GPUChainTracking.cxx:577</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a8ccc0bbdca8d5bf004187ea77108195a"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a8ccc0bbdca8d5bf004187ea77108195a">GPUCA_NAMESPACE::gpu::GPUChain::ThreadCount</a></div><div class="ttdeci">unsigned int ThreadCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00200">GPUChain.h:200</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ad5586d3e3c86b2751ff931d35a882051"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ad5586d3e3c86b2751ff931d35a882051">o2::tpc::CompressedClustersPtrs_x::nSliceRowClusters</a></div><div class="ttdeci">TINT nSliceRowClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00063">CompressedClusters.h:63</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a87cffa56e51dfcc1f7ce18246ebcd632"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a87cffa56e51dfcc1f7ce18246ebcd632">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCFastTransformU</a></div><div class="ttdeci">std::unique_ptr&lt; TPCFastTransform &gt; mTPCFastTransformU</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00216">GPUChainTracking.h:216</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a989e0522b6a7873acebc309df433737ca06b9281e396db002010bde1de57262eb"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca06b9281e396db002010bde1de57262eb">GPUCA_NAMESPACE::gpu::GPUReconstruction::krnlDeviceType::Auto</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a6a71558f13bf00ac4909024ef18abc42"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a6a71558f13bf00ac4909024ef18abc42">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::mcInfosTPC</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCMCInfo[]&gt; mcInfosTPC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00096">GPUChainTracking.h:96</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCZSHDR_html_a06ec33001ad93d5aa2fa1e933fdd36f3"><div class="ttname"><a href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#a06ec33001ad93d5aa2fa1e933fdd36f3">o2::tpc::TPCZSHDR::nTimeBins</a></div><div class="ttdeci">unsigned char nTimeBins</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d04/ZeroSuppression_8h_source.html#l00036">ZeroSuppression.h:36</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ad80bcd211f396bf463bee4c005f692b5"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ad80bcd211f396bf463bee4c005f692b5">GPUCA_NAMESPACE::gpu::GPUChainTracking::mFlatObjectsShadow</a></div><div class="ttdeci">GPUTrackingFlatObjects mFlatObjectsShadow</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00204">GPUChainTracking.h:204</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNative_html"><div class="ttname"><a href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html">o2::tpc::ClusterNative</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00050">ClusterNative.h:50</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_adc8aae74dd50a20d635e29930227a33b"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#adc8aae74dd50a20d635e29930227a33b">GPUCA_NAMESPACE::gpu::GPUChain::mRec</a></div><div class="ttdeci">GPUReconstructionCPU * mRec</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00067">GPUChain.h:67</a></div></div>
<div class="ttc" id="GPUTPCGMMergedTrackHit_8h_html"><div class="ttname"><a href="../../d3/dcc/GPUTPCGMMergedTrackHit_8h.html">GPUTPCGMMergedTrackHit.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_acbc3b4c96ca4b7842bd7a27add6ba33e"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#acbc3b4c96ca4b7842bd7a27add6ba33e">GPUCA_NAMESPACE::gpu::GPUChainTracking::mdEdxSplinesU</a></div><div class="ttdeci">std::unique_ptr&lt; TPCdEdxCalibrationSplines &gt; mdEdxSplinesU</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00217">GPUChainTracking.h:217</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_html_ade41c3eff2974b280efebdfe15143db0"><div class="ttname"><a href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#ade41c3eff2974b280efebdfe15143db0">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::fragment</a></div><div class="ttdeci">CfFragment fragment</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00062">GPUTPCClusterFinder.h:62</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a7095ec3eef70e69888b8887f60e051e7"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a7095ec3eef70e69888b8887f60e051e7">GPUCA_NAMESPACE::gpu::GPUReconstruction::IsGPU</a></div><div class="ttdeci">bool IsGPU() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00211">GPUReconstruction.h:211</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a7f2b0a06032d4d8be003fb8847367831"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a7f2b0a06032d4d8be003fb8847367831">GPUCA_NAMESPACE::gpu::GPUChain::SetupGPUProcessor</a></div><div class="ttdeci">void SetupGPUProcessor(T *proc, bool allocate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00205">GPUChain.h:205</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a623bb8ee3a3a7d4c51cf52e84c8b6e23"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a623bb8ee3a3a7d4c51cf52e84c8b6e23">GPUCA_NAMESPACE::gpu::GPUReconstruction::getNEventsProcessed</a></div><div class="ttdeci">unsigned int getNEventsProcessed()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00174">GPUReconstruction.h:174</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_html_a31f2b92389205b8456ccc624eaad1149"><div class="ttname"><a href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html#a31f2b92389205b8456ccc624eaad1149">GPUCA_NAMESPACE::gpu::GPUTPCConvert::mClusters</a></div><div class="ttdeci">GPUTPCClusterData * mClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2c/GPUTPCConvert_8h_source.html#l00049">GPUTPCConvert.h:49</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_abfd65ec9224c39fc814775de6ac36e01"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#abfd65ec9224c39fc814775de6ac36e01">GPUCA_NAMESPACE::gpu::GPUChain::IsEventDone</a></div><div class="ttdeci">bool IsEventDone(deviceEvent *evList, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00089">GPUChain.h:89</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource_html_a961d9118e92d6b718a40c7aee87cde7fa958db82784a89e22daaf3504ef1e93bc"><div class="ttname"><a href="../../d8/d05/classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource.html#a961d9118e92d6b718a40c7aee87cde7fa958db82784a89e22daaf3504ef1e93bc">GPUCA_NAMESPACE::gpu::GPUMemoryResource::MEMORY_PERMANENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da6/GPUMemoryResource_8h_source.html#l00070">GPUMemoryResource.h:70</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_a0127c91f96a048a4e537eca2d4089697"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#a0127c91f96a048a4e537eca2d4089697">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpFitPrepare</a></div><div class="ttdeci">void DumpFitPrepare(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00108">GPUTPCGMMergerDump.cxx:108</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_ab8c373a03c20d0d9d7df85c76b8fcf94"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#ab8c373a03c20d0d9d7df85c76b8fcf94">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::sliceClusters</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCHitId[]&gt; sliceClusters[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00094">GPUChainTracking.h:94</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a6bef245c04f4beef2e5ff0576f3b20d6"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a6bef245c04f4beef2e5ff0576f3b20d6">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunChain</a></div><div class="ttdeci">int RunChain() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l02039">GPUChainTracking.cxx:2039</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ac30869970936bcf670ba9a85c936df02"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac30869970936bcf670ba9a85c936df02">GPUCA_NAMESPACE::gpu::GPUChain::GPUDebug</a></div><div class="ttdeci">int GPUDebug(const char *state=&quot;UNKNOWN&quot;, int stream=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00101">GPUChain.h:101</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a8e891e36a1be4c279e9503d61f9b601b"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a8e891e36a1be4c279e9503d61f9b601b">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPmemory</a></div><div class="ttdeci">Memory * mPmemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00108">GPUTPCClusterFinder.h:108</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory_html_ab13756ebd3c2dd7aecd9f7c91eca0a82"><div class="ttname"><a href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#ab13756ebd3c2dd7aecd9f7c91eca0a82">GPUCA_NAMESPACE::gpu::GPUTPCCompression::memory::nStoredTracks</a></div><div class="ttdeci">unsigned int nStoredTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00077">GPUTPCCompression.h:77</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a2bf42a1423533cb7a42bc5dbc6dcb9d3"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a2bf42a1423533cb7a42bc5dbc6dcb9d3">GPUCA_NAMESPACE::gpu::GPUChain::SynchronizeGPU</a></div><div class="ttdeci">void SynchronizeGPU()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00092">GPUChain.h:92</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource_html_a284954b319bc158539f4c5f868d47d36a968ab40da0397c963a7d46f34a6bb096"><div class="ttname"><a href="../../d8/d05/classGPUCA__NAMESPACE_1_1gpu_1_1GPUMemoryResource.html#a284954b319bc158539f4c5f868d47d36a968ab40da0397c963a7d46f34a6bb096">GPUCA_NAMESPACE::gpu::GPUMemoryResource::ALLOCATION_INDIVIDUAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da6/GPUMemoryResource_8h_source.html#l00076">GPUMemoryResource.h:76</a></div></div>
<div class="ttc" id="GPULogging_8h_html_a0327b604726fa146470ef5fb49842710"><div class="ttname"><a href="../../df/ddc/GPULogging_8h.html#a0327b604726fa146470ef5fb49842710">GPUWarning</a></div><div class="ttdeci">#define GPUWarning(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddc/GPULogging_8h_source.html#l00023">GPULogging.h:23</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend_html_ae9f166eb5273b3215bc56a7b4f3c739b"><div class="ttname"><a href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#ae9f166eb5273b3215bc56a7b4f3c739b">GPUCA_NAMESPACE::gpu::GPUDisplayBackend::DisplayExit</a></div><div class="ttdeci">virtual void DisplayExit()=0</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ab6460c77cc5edf67929ba75590551090"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab6460c77cc5edf67929ba75590551090">GPUCA_NAMESPACE::gpu::GPUChainTracking::mCompressionStatistics</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCClusterStatistics &gt; mCompressionStatistics</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00213">GPUChainTracking.h:213</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a217f64f3470e8bff511e96a51d8e10c2"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a217f64f3470e8bff511e96a51d8e10c2">GPUCA_NAMESPACE::gpu::GPUChainTracking::mDebugFile</a></div><div class="ttdeci">std::ofstream mDebugFile</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00239">GPUChainTracking.h:239</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t_html_a9419331c60a69260de8240e4eed9ed05"><div class="ttname"><a href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a9419331c60a69260de8240e4eed9ed05">GPUCA_NAMESPACE::gpu::GPUTRDTracker_t::Reset</a></div><div class="ttdeci">void Reset(bool fast=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/GPUTRDTracker_8cxx_source.html#l00185">GPUTRDTracker.cxx:185</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_af5d10c49c75eb2964eb61929d581d680"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af5d10c49c75eb2964eb61929d581d680">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::mergerSortTracks</a></div><div class="ttdeci">char mergerSortTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00162">GPUSettings.h:162</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_af8183b17f1b30d717f4430532cbb190a"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#af8183b17f1b30d717f4430532cbb190a">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::eventDisplay</a></div><div class="ttdeci">GPUDisplayBackend * eventDisplay</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00146">GPUSettings.h:146</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN_html_ac21c15b493b2e0259b58a7cf0c6a7b1e"><div class="ttname"><a href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#ac21c15b493b2e0259b58a7cf0c6a7b1e">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::MinMaxCN::minC</a></div><div class="ttdeci">unsigned int minC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00072">GPUTPCClusterFinder.h:72</a></div></div>
<div class="ttc" id="TPCdEdxCalibrationSplines_8h_html"><div class="ttname"><a href="../../d7/db0/TPCdEdxCalibrationSplines_8h.html">TPCdEdxCalibrationSplines.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a1ad6aea6ab8398eeba1c870d82b6c323"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1ad6aea6ab8398eeba1c870d82b6c323">GPUCA_NAMESPACE::gpu::GPUChainTracking::ValidateSettings</a></div><div class="ttdeci">bool ValidateSettings()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00241">GPUChainTracking.cxx:241</a></div></div>
<div class="ttc" id="classHighResTimer_html_a8a58469ba2f0df31a316a9000fcf12bf"><div class="ttname"><a href="../../da/dd8/classHighResTimer.html#a8a58469ba2f0df31a316a9000fcf12bf">HighResTimer::Start</a></div><div class="ttdeci">void Start()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d64/timer_8cxx_source.html#l00056">timer.cxx:56</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_a0a22dc122f7c41da04bb1d552132bdcb"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a0a22dc122f7c41da04bb1d552132bdcb">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nPositions</a></div><div class="ttdeci">tpccf::SizeT nPositions</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00055">GPUTPCClusterFinder.h:55</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers_html_aa9baf9291824d3c8b856f3f5d8493d92"><div class="ttname"><a href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#aa9baf9291824d3c8b856f3f5d8493d92">GPUCA_NAMESPACE::gpu::GPUMemorySizeScalers::nTPCHits</a></div><div class="ttdeci">double nTPCHits</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d36/GPUMemorySizeScalers_8h_source.html#l00025">GPUMemorySizeScalers.h:25</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t_html_a118c964794507dccccab8d332b6d8f5c"><div class="ttname"><a href="../../db/db5/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTRDTracker__t.html#a118c964794507dccccab8d332b6d8f5c">GPUCA_NAMESPACE::gpu::GPUTRDTracker_t::MemoryTracks</a></div><div class="ttdeci">short MemoryTracks() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d44/GPUTRDTracker_8h_source.html#l00108">GPUTRDTracker.h:108</a></div></div>
<div class="ttc" id="AliHLTTPCClusterMCData_8h_html"><div class="ttname"><a href="../../d8/dbb/AliHLTTPCClusterMCData_8h.html">AliHLTTPCClusterMCData.h</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a96613f30de73ec6ca1ddab52c4641dc7"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a96613f30de73ec6ca1ddab52c4641dc7">o2::tpc::CompressedClustersPtrs_x::sigmaPadU</a></div><div class="ttdeci">TCHAR sigmaPadU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00059">CompressedClusters.h:59</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a413a18787fef661c17f8245ca61ee1be"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a413a18787fef661c17f8245ca61ee1be">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpTrackHits</a></div><div class="ttdeci">void DumpTrackHits(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00126">GPUTPCTrackerDump.cxx:126</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_acdfa716b6cc3ff5bda4ddaca27766d11"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#acdfa716b6cc3ff5bda4ddaca27766d11">GPUCA_NAMESPACE::gpu::GPUConstantMem::trdTracker</a></div><div class="ttdeci">GPUTRDTrackerGPU trdTracker</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00070">GPUConstantMem.h:70</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a989e0522b6a7873acebc309df433737ca2b55387dd066c5bac646ac61543d152d"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a989e0522b6a7873acebc309df433737ca2b55387dd066c5bac646ac61543d152d">GPUCA_NAMESPACE::gpu::GPUReconstruction::krnlDeviceType::CPU</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers_html_a1fce83f5cec77f0adaf361fbd897a5fe"><div class="ttname"><a href="../../dc/dfb/structGPUCA__NAMESPACE_1_1gpu_1_1GPUMemorySizeScalers.html#a1fce83f5cec77f0adaf361fbd897a5fe">GPUCA_NAMESPACE::gpu::GPUMemorySizeScalers::nTPCdigits</a></div><div class="ttdeci">double nTPCdigits</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d36/GPUMemorySizeScalers_8h_source.html#l00024">GPUMemorySizeScalers.h:24</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_af2d3083e411ef0f020c87802d113ac0c"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#af2d3083e411ef0f020c87802d113ac0c">o2::tpc::CompressedClustersPtrs_x::qMaxA</a></div><div class="ttdeci">TSHORT qMaxA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00039">CompressedClusters.h:39</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam_html_a9560663299d8b60f8b8e39070be44eed"><div class="ttname"><a href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#a9560663299d8b60f8b8e39070be44eed">GPUCA_NAMESPACE::gpu::GPUParam::LoadClusterErrors</a></div><div class="ttdeci">void LoadClusterErrors(bool Print=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/GPUParam_8cxx_source.html#l00163">GPUParam.cxx:163</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aa1e5235b04657a0782febd8f059c44b4"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aa1e5235b04657a0782febd8f059c44b4">GPUCA_NAMESPACE::gpu::GPUChainTracking::mOutputQueue</a></div><div class="ttdeci">std::vector&lt; outputQueueEntry &gt; mOutputQueue</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00246">GPUChainTracking.h:246</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a7299126c624b473d8c0fe67628b1468c"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a7299126c624b473d8c0fe67628b1468c">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPclusterByRow</a></div><div class="ttdeci">tpc::ClusterNative * mPclusterByRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00105">GPUTPCClusterFinder.h:105</a></div></div>
<div class="ttc" id="GPUDefGPUParameters_8h_html_a74481f2caa41aac925721511f27df6a9"><div class="ttname"><a href="../../dc/de9/GPUDefGPUParameters_8h.html#a74481f2caa41aac925721511f27df6a9">GPUCA_ERROR_STRINGS</a></div><div class="ttdeci">#define GPUCA_ERROR_STRINGS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de9/GPUDefGPUParameters_8h_source.html#l00409">GPUDefGPUParameters.h:409</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html">o2::dataformats::MCTruthContainer&lt; o2::MCCompLabel &gt;</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ac4affe0e901d90cfd2b5221f7c34536d"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ac4affe0e901d90cfd2b5221f7c34536d">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTRDTracking</a></div><div class="ttdeci">int RunTRDTracking()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l01956">GPUChainTracking.cxx:1956</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html">o2::tpc::ClusterNativeAccess</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00157">ClusterNative.h:157</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a1a1e1e0fa7a8f2ca329690495321c195"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a1a1e1e0fa7a8f2ca329690495321c195">o2::tpc::CompressedClustersPtrs_x::nTrackClusters</a></div><div class="ttdeci">TSHORT nTrackClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00062">CompressedClusters.h:62</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a9a5eacdbbaa76ffc8c2f1695817b69cb"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a9a5eacdbbaa76ffc8c2f1695817b69cb">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::rawClusters</a></div><div class="ttdeci">std::unique_ptr&lt; AliHLTTPCRawCluster[]&gt; rawClusters[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00091">GPUChainTracking.h:91</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClusters_html"><div class="ttname"><a href="../../d6/d95/structo2_1_1tpc_1_1CompressedClusters.html">o2::tpc::CompressedClusters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00076">CompressedClusters.h:76</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ab3edd0c45a2bc21070df16d27bd56428"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ab3edd0c45a2bc21070df16d27bd56428">o2::tpc::CompressedClustersPtrs_x::padResA</a></div><div class="ttdeci">TSHORT padResA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00043">CompressedClusters.h:43</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ab21b2647f28a749bbd6010301404c77e"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab21b2647f28a749bbd6010301404c77e">GPUCA_NAMESPACE::gpu::GPUChainTracking::RegisterGPUProcessors</a></div><div class="ttdeci">void RegisterGPUProcessors() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00115">GPUChainTracking.cxx:115</a></div></div>
<div class="ttc" id="GPUTrackingInputProvider_8h_html"><div class="ttname"><a href="../../dd/dc8/GPUTrackingInputProvider_8h.html">GPUTrackingInputProvider.h</a></div></div>
<div class="ttc" id="GPUDisplay_8h_html"><div class="ttname"><a href="../../dc/d69/GPUDisplay_8h.html">GPUDisplay.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_ace8bbe3b68faa7bf84e52a7cf767c7a7"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#ace8bbe3b68faa7bf84e52a7cf767c7a7">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nPeaks</a></div><div class="ttdeci">tpccf::SizeT nPeaks</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00056">GPUTPCClusterFinder.h:56</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ab9e4e088682e3bf03e8960cb328001f7"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9e4e088682e3bf03e8960cb328001f7">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCZSSizes</a></div><div class="ttdeci">std::unique_ptr&lt; unsigned int[]&gt; mTPCZSSizes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00225">GPUChainTracking.h:225</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert_html_a3ab2e9a0c4566c51cdc685946602d1a7"><div class="ttname"><a href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a3ab2e9a0c4566c51cdc685946602d1a7">GPUCA_NAMESPACE::gpu::GPUReconstructionConvert::RunZSFilter</a></div><div class="ttdeci">static void RunZSFilter(std::unique_ptr&lt; o2::tpc::Digit[]&gt; *buffers, const o2::tpc::Digit *const *ptrs, size_t *nsb, const size_t *ns, const GPUParam &amp;param, bool zs12bit)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/GPUReconstructionConvert_8cxx_source.html#l00564">GPUReconstructionConvert.cxx:564</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU_html_a9cd4091e420e1f9e96e70408fd8af177"><div class="ttname"><a href="../../db/d88/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionCPU.html#a9cd4091e420e1f9e96e70408fd8af177">GPUCA_NAMESPACE::gpu::GPUReconstructionCPU::AddGPUEvents</a></div><div class="ttdeci">void AddGPUEvents(T *&amp;events)</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend_html_a8c72b335b6f40f472871469a3e665a51"><div class="ttname"><a href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#a8c72b335b6f40f472871469a3e665a51">GPUCA_NAMESPACE::gpu::GPUDisplayBackend::mDisplayControl</a></div><div class="ttdeci">volatile int mDisplayControl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dba/GPUDisplayBackend_8h_source.html#l00047">GPUDisplayBackend.h:47</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_ae3bfcf5d82ebeb82d4a4b4907bf98e49"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#ae3bfcf5d82ebeb82d4a4b4907bf98e49">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpRefit</a></div><div class="ttdeci">void DumpRefit(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00125">GPUTPCGMMergerDump.cxx:125</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNative_html_a3bf15f414113a6e8754942e8f58d20fa"><div class="ttname"><a href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html#a3bf15f414113a6e8754942e8f58d20fa">o2::tpc::ClusterNative::qMax</a></div><div class="ttdeci">uint16_t qMax</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00067">ClusterNative.h:67</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a3d8fcc4765fdf7e05db9b34275d39fc9"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a3d8fcc4765fdf7e05db9b34275d39fc9">GPUCA_NAMESPACE::gpu::GPUChainTracking::ConvertNativeToClusterDataLegacy</a></div><div class="ttdeci">void ConvertNativeToClusterDataLegacy()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00543">GPUChainTracking.cxx:543</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam_html_aada722c8bcac8f6d3034552977176b6f"><div class="ttname"><a href="../../d0/d65/structGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionHelpers_1_1helperParam.html#aada722c8bcac8f6d3034552977176b6f">GPUCA_NAMESPACE::gpu::GPUReconstructionHelpers::helperParam::reset</a></div><div class="ttdeci">volatile char reset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d58/GPUReconstructionHelpers_8h_source.html#l00043">GPUReconstructionHelpers.h:43</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html">o2::tpc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbc/SimTraits_8h_source.html#l00152">SimTraits.h:152</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aee05a985b4e077291264b17f63c6cd6e"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aee05a985b4e077291264b17f63c6cd6e">GPUCA_NAMESPACE::gpu::GPUChainTracking::mEvents</a></div><div class="ttdeci">eventStruct * mEvents</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00242">GPUChainTracking.h:242</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_aad58f27124fcb7c8be0fa2c7788f70ce"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aad58f27124fcb7c8be0fa2c7788f70ce">GPUCA_NAMESPACE::gpu::GPUChain::ResetHelperThreads</a></div><div class="ttdeci">void ResetHelperThreads(int helpers)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00100">GPUChain.h:100</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a11d4d1aef05a4478926c7267a180865d"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a11d4d1aef05a4478926c7267a180865d">GPUCA_NAMESPACE::gpu::GPUChain::processors</a></div><div class="ttdeci">GPUConstantMem * processors()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00073">GPUChain.h:73</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a85e59cd56e10d0a7f49ab199f277d486"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a85e59cd56e10d0a7f49ab199f277d486">dst</a></div><div class="ttdeci">GLenum GLenum dst</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01767">glcorearb.h:1767</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_1_1Memory_html_a871a90f768fcfae2309a1c36219ec148"><div class="ttname"><a href="../../d4/d0e/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_1_1Memory.html#a871a90f768fcfae2309a1c36219ec148">GPUCA_NAMESPACE::gpu::GPUTPCConvert::Memory::clusters</a></div><div class="ttdeci">GPUTPCClusterData * clusters[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2c/GPUTPCConvert_8h_source.html#l00044">GPUTPCConvert.h:44</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a733ab06fa1f3914f1df751ecd1aa69e4"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a733ab06fa1f3914f1df751ecd1aa69e4">GPUCA_NAMESPACE::gpu::GPUChain::BlockCount</a></div><div class="ttdeci">unsigned int BlockCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00198">GPUChain.h:198</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a0c24e551e9b160aa1d5fab2c14d575ac"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a0c24e551e9b160aa1d5fab2c14d575ac">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::runQA</a></div><div class="ttdeci">bool runQA</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00147">GPUSettings.h:147</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ad504b4b7246f24ca408014024c1bc965"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad504b4b7246f24ca408014024c1bc965">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mNMaxClusterPerRow</a></div><div class="ttdeci">unsigned int mNMaxClusterPerRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00116">GPUTPCClusterFinder.h:116</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html_aa34573829a30273af0aeb7ff52f08b16"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#aa34573829a30273af0aeb7ff52f08b16">GPUCA_NAMESPACE::gpu::iSlice</a></div><div class="ttdeci">unsigned long size int mode int iSlice</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00032">GPUReconstructionCPU.h:32</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a003a674aa99f4b54ef7aacf7d67f12d9"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a003a674aa99f4b54ef7aacf7d67f12d9">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::trackletConstructorInPipeline</a></div><div class="ttdeci">char trackletConstructorInPipeline</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00154">GPUSettings.h:154</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a00cc9997f4cd4011df3bc06e3983ea46"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a00cc9997f4cd4011df3bc06e3983ea46">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPclusterInRow</a></div><div class="ttdeci">uint * mPclusterInRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00104">GPUTPCClusterFinder.h:104</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a4edfbc215189f138260e3a72504498fd"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a4edfbc215189f138260e3a72504498fd">GPUCA_NAMESPACE::gpu::GPUChain::DoDebugAndDump</a></div><div class="ttdeci">bool DoDebugAndDump(RecoStep step, int mask, T &amp;processor, S T::*func, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00214">GPUChain.h:214</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a1eb87315615412d39720ab5b51c08026"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a1eb87315615412d39720ab5b51c08026">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCMaxTimeBin</a></div><div class="ttdeci">unsigned int mTPCMaxTimeBin</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00236">GPUChainTracking.h:236</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4828f6f7e4c6b0b8a69ecbae607e2195"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4828f6f7e4c6b0b8a69ecbae607e2195">nTotal</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border nTotal</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00034">qconfigoptions.h:34</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ab3af5a829a39dc422d97abcaf0047fb3"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab3af5a829a39dc422d97abcaf0047fb3">GPUCA_NAMESPACE::gpu::GPUChain::DeviceProcessingSettings</a></div><div class="ttdeci">GPUSettingsDeviceProcessing &amp; DeviceProcessingSettings()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00078">GPUChain.h:78</a></div></div>
<div class="ttc" id="AliHLTTPCRawCluster_8h_html"><div class="ttname"><a href="../../dd/d86/AliHLTTPCRawCluster_8h.html">AliHLTTPCRawCluster.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl_html_a977d935486aa013fcb32dd719cc3979c"><div class="ttname"><a href="../../d4/d7c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl.html#a977d935486aa013fcb32dd719cc3979c">GPUCA_NAMESPACE::gpu::GPUOutputControl::OutputType</a></div><div class="ttdeci">OutputTypeStruct OutputType</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5b/GPUOutputControl_8h_source.html#l00052">GPUOutputControl.h:52</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ab28d42a22c6872492a0dd27ecacf2609"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ab28d42a22c6872492a0dd27ecacf2609">GPUCA_NAMESPACE::gpu::GPUChain::GetThreadContext</a></div><div class="ttdeci">virtual std::unique_ptr&lt; GPUReconstruction::GPUThreadContext &gt; GetThreadContext()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00091">GPUChain.h:91</a></div></div>
<div class="ttc" id="MCCompLabel_8h_html"><div class="ttname"><a href="../../d7/dcd/MCCompLabel_8h.html">MCCompLabel.h</a></div></div>
<div class="ttc" id="GPUO2DataTypes_8h_html"><div class="ttname"><a href="../../d5/d5c/GPUO2DataTypes_8h.html">GPUO2DataTypes.h</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a46e6602297bfb7de7e26d48076ca3b53"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a46e6602297bfb7de7e26d48076ca3b53">o2::tpc::CompressedClustersPtrs_x::qMaxU</a></div><div class="ttdeci">TSHORT qMaxU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00055">CompressedClusters.h:55</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ac95192f828b99337342cc241f1514b2b"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac95192f828b99337342cc241f1514b2b">o2::tpc::CompressedClustersPtrs_x::flagsA</a></div><div class="ttdeci">TCHAR flagsA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00040">CompressedClusters.h:40</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a48803cb70d62862e6258339be9cf2db0"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a48803cb70d62862e6258339be9cf2db0">GPUCA_NAMESPACE::gpu::GPUChainTracking::mQA</a></div><div class="ttdeci">std::unique_ptr&lt; GPUQA &gt; mQA</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00212">GPUChainTracking.h:212</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_aae7f90e1f2eec4265dd11bd06c6c470d"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#aae7f90e1f2eec4265dd11bd06c6c470d">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpSliceTracks</a></div><div class="ttdeci">void DumpSliceTracks(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00037">GPUTPCGMMergerDump.cxx:37</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a8832eff13d254b2f48109536fec2bb92"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a8832eff13d254b2f48109536fec2bb92">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::tpcDigits</a></div><div class="ttdeci">std::unique_ptr&lt; o2::tpc::Digit[]&gt; tpcDigits[NSLICES]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00089">GPUChainTracking.h:89</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_af27116c7a077071ea1557c0b75104979"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#af27116c7a077071ea1557c0b75104979">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mMemoryResFlat</a></div><div class="ttdeci">short mMemoryResFlat</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00168">GPUChainTracking.h:168</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct_html_aa6382ffb7028f7dbaaf2d638ba84272c"><div class="ttname"><a href="../../d4/de3/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1eventStruct.html#aa6382ffb7028f7dbaaf2d638ba84272c">GPUCA_NAMESPACE::gpu::GPUChainTracking::eventStruct::stream</a></div><div class="ttdeci">void * stream[GPUCA_MAX_STREAMS]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00175">GPUChainTracking.h:175</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_ad3aad36ef8bc431026f83f8474a90457"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#ad3aad36ef8bc431026f83f8474a90457">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::SetPointersFlatObjects</a></div><div class="ttdeci">void * SetPointersFlatObjects(void *mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00446">GPUChainTracking.cxx:446</a></div></div>
<div class="ttc" id="classo2_1_1dataformats_1_1MCTruthContainer_html_a985ade4a3ea55da8c98ec79e963c2078"><div class="ttname"><a href="../../dc/daa/classo2_1_1dataformats_1_1MCTruthContainer.html#a985ade4a3ea55da8c98ec79e963c2078">o2::dataformats::MCTruthContainer::setFrom</a></div><div class="ttdeci">void setFrom(std::vector&lt; MCTruthHeaderElement &gt; &amp;header, std::vector&lt; TruthElement &gt; &amp;truthArray)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d14/MCTruthContainer_8h_source.html#l00264">MCTruthContainer.h:264</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a9ca273a160747e8527034fd2c4718ff9"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a9ca273a160747e8527034fd2c4718ff9">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::keepDisplayMemory</a></div><div class="ttdeci">bool keepDisplayMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00152">GPUSettings.h:152</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a22dba67d906fcafa19abb102a6353b0a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a22dba67d906fcafa19abb102a6353b0a">GPUCA_NAMESPACE::gpu::GPUChainTracking::mInputsShadow</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTrackingInputProvider &gt; mInputsShadow</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00207">GPUChainTracking.h:207</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem_html_a51c7e00baf591e49dec38accfd0d0a58"><div class="ttname"><a href="../../dc/d57/structGPUCA__NAMESPACE_1_1gpu_1_1GPUConstantMem.html#a51c7e00baf591e49dec38accfd0d0a58">GPUCA_NAMESPACE::gpu::GPUConstantMem::tpcConverter</a></div><div class="ttdeci">GPUTPCConvert tpcConverter</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00067">GPUConstantMem.h:67</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a800b1ed9c542c883fb70d695257a3536"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a800b1ed9c542c883fb70d695257a3536">GPUCA_NAMESPACE::gpu::GPUChainTracking::DoProfile</a></div><div class="ttdeci">int DoProfile()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUChainTrackingDebugAndProfiling_8cxx_source.html#l00035">GPUChainTrackingDebugAndProfiling.cxx:35</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_acc2760558000045ec0803d60d4d01c98"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char e</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00140">qconfigoptions.h:140</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a865d51ba0e026696ff29cf72f63e9af1"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a865d51ba0e026696ff29cf72f63e9af1">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTPCTrackingSlices</a></div><div class="ttdeci">int RunTPCTrackingSlices()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l01191">GPUChainTracking.cxx:1191</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t_html_a7b1f540ebb4fade68e839dd2a6d3d679"><div class="ttname"><a href="../../d6/d42/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_1_1counters__t.html#a7b1f540ebb4fade68e839dd2a6d3d679">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t::nPagesSubslice</a></div><div class="ttdeci">unsigned int nPagesSubslice</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00060">GPUTPCClusterFinder.h:60</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a4b4a3f0a41999591e10837407b86efb6"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a4b4a3f0a41999591e10837407b86efb6">GPUCA_NAMESPACE::gpu::GPUReconstruction::slavesExist</a></div><div class="ttdeci">bool slavesExist()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00207">GPUReconstruction.h:207</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_a903f4cddb72608ed7b8023e439fd32cf"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a903f4cddb72608ed7b8023e439fd32cf">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mTpcTransformBuffer</a></div><div class="ttdeci">char * mTpcTransformBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00165">GPUChainTracking.h:165</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_ad9c8942233122c362d29f0608e708b71"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#ad9c8942233122c362d29f0608e708b71">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mOutputFlat</a></div><div class="ttdeci">o2::tpc::CompressedClustersFlat * mOutputFlat</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00086">GPUTPCCompression.h:86</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00031">GPUConstantMem.h:31</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_aabaca5d56039ed16e80e5b576617b64d"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#aabaca5d56039ed16e80e5b576617b64d">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTPCClusterizer</a></div><div class="ttdeci">int RunTPCClusterizer(bool synchronizeOutput=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00811">GPUChainTracking.cxx:811</a></div></div>
<div class="ttc" id="GPUHostDataTypes_8h_html"><div class="ttname"><a href="../../d6/d20/GPUHostDataTypes_8h.html">GPUHostDataTypes.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_aa09731b70ece6cd2870b8e1ca9c60081"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#aa09731b70ece6cd2870b8e1ca9c60081">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpChargeMap</a></div><div class="ttdeci">void DumpChargeMap(std::ostream &amp;out, std::string_view)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00030">GPUTPCClusterFinderDump.cxx:30</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_acdd290f82d9dfcec60dd4cc619848ecd"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#acdd290f82d9dfcec60dd4cc619848ecd">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mMemoryId</a></div><div class="ttdeci">short mMemoryId</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00124">GPUTPCClusterFinder.h:124</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a0058e639fb20921f28a4a5b9d389817a"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a0058e639fb20921f28a4a5b9d389817a">GPUCA_NAMESPACE::gpu::GPUChainTracking::SetMatLUT</a></div><div class="ttdeci">void SetMatLUT(std::unique_ptr&lt; o2::base::MatLayerCylSet &gt; &amp;&amp;lut)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00617">GPUChainTracking.cxx:617</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a1fcfc53f8e9b8d31e42be3b7eb6b4d8a"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a1fcfc53f8e9b8d31e42be3b7eb6b4d8a">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mMaxClusters</a></div><div class="ttdeci">unsigned int mMaxClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00093">GPUTPCCompression.h:93</a></div></div>
<div class="ttc" id="linux__helpers_8h_html"><div class="ttname"><a href="../../de/d35/linux__helpers_8h.html">linux_helpers.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a361811b475d3a3a30ebb848ed4ac0046"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a361811b475d3a3a30ebb848ed4ac0046">GPUCA_NAMESPACE::gpu::GPUChain::GetRecoSteps</a></div><div class="ttdeci">GPUReconstruction::RecoStepField GetRecoSteps() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00061">GPUChain.h:61</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_af390a15b4f294ac48b41f086291a00d6"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#af390a15b4f294ac48b41f086291a00d6">o2::tpc::CompressedClustersPtrs_x::flagsU</a></div><div class="ttdeci">TCHAR flagsU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00056">CompressedClusters.h:56</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0cdec8e97a75ee9458b23d152bf962d4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00403">glcorearb.h:403</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTrackingInputProvider_html"><div class="ttname"><a href="../../db/d07/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTrackingInputProvider.html">GPUCA_NAMESPACE::gpu::GPUTrackingInputProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc8/GPUTrackingInputProvider_8h_source.html#l00036">GPUTrackingInputProvider.h:36</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ac81816b7d89da96e9ad8496466075a01"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ac81816b7d89da96e9ad8496466075a01">TPCCompressedClusters</a></div><div class="ttdeci">TPCCompressedClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00121">GPUDataTypes.h:121</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ab4c7273ec226e5e48b2353b137e02ce7"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ab4c7273ec226e5e48b2353b137e02ce7">o2::tpc::CompressedClustersPtrs_x::sliceA</a></div><div class="ttdeci">TCHAR sliceA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00050">CompressedClusters.h:50</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ade0f22adb56ae863a3a727d84cf10fc7"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ade0f22adb56ae863a3a727d84cf10fc7">GPUCA_NAMESPACE::gpu::GPUChain::GetDeviceProcessingSettings</a></div><div class="ttdeci">const GPUSettingsDeviceProcessing &amp; GetDeviceProcessingSettings() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00057">GPUChain.h:57</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA_html"><div class="ttname"><a href="../../d0/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUQA.html">GPUCA_NAMESPACE::gpu::GPUQA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dcc/GPUQA_8h_source.html#l00038">GPUQA.h:38</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a8a2d827ea698fdf95d92856ad72d512b"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a8a2d827ea698fdf95d92856ad72d512b">o2::tpc::CompressedClustersPtrs_x::rowDiffA</a></div><div class="ttdeci">TCHAR rowDiffA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00041">CompressedClusters.h:41</a></div></div>
<div class="ttc" id="namespaceo2_1_1trd_html"><div class="ttname"><a href="../../d2/d76/namespaceo2_1_1trd.html">o2::trd</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbc/SimTraits_8h_source.html#l00104">SimTraits.h:104</a></div></div>
<div class="ttc" id="DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_html"><div class="ttname"><a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h.html">RAWDataHeader.h</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html">GPUCA_NAMESPACE::gpu</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00029">GPUCommonAlgorithm.h:29</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a612834ff8a86879fbee791169dc585e7"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a612834ff8a86879fbee791169dc585e7">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mMemory</a></div><div class="ttdeci">memory * mMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00088">GPUTPCCompression.h:88</a></div></div>
<div class="ttc" id="TPCFastTransform_8h_html"><div class="ttname"><a href="../../d4/db1/TPCFastTransform_8h.html">TPCFastTransform.h</a></div><div class="ttdoc">Definition of TPCFastTransform class. </div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a08fe5d026eb28b932e14129530d835ec"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a08fe5d026eb28b932e14129530d835ec">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::trdTracks</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTRDTrackGPU[]&gt; trdTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00101">GPUChainTracking.h:101</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ae9d42e4a87f9f64e3eaebc80b515f1e5"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ae9d42e4a87f9f64e3eaebc80b515f1e5">TPCClusterFinding</a></div><div class="ttdeci">TPCClusterFinding</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00115">GPUDataTypes.h:115</a></div></div>
<div class="ttc" id="MCTruthContainer_8h_html"><div class="ttname"><a href="../../db/d14/MCTruthContainer_8h.html">MCTruthContainer.h</a></div><div class="ttdoc">Definition of a container to keep Monte Carlo truth external to simulation objects. </div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a0af022ef1e24359f731c0e59337b4e8a"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a0af022ef1e24359f731c0e59337b4e8a">GPUCA_NAMESPACE::gpu::GPUReconstruction::RegisterGPUProcessor</a></div><div class="ttdeci">void RegisterGPUProcessor(T *proc, bool deviceSlave)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00441">GPUReconstruction.h:441</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_ac06e716d97559320145abd218f154a7d"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#ac06e716d97559320145abd218f154a7d">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::DumpMergedWithinSlices</a></div><div class="ttdeci">void DumpMergedWithinSlices(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d24/GPUTPCGMMergerDump_8cxx_source.html#l00055">GPUTPCGMMergerDump.cxx:55</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ae8f35c620e14df100abcf4591617caf5"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae8f35c620e14df100abcf4591617caf5">GPUCA_NAMESPACE::gpu::GPUChain::GPUMemCpyAlways</a></div><div class="ttdeci">void GPUMemCpyAlways(RecoStep step, void *dst, const void *src, size_t size, int stream, int toGPU, deviceEvent *ev=nullptr, deviceEvent *evList=nullptr, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00111">GPUChain.h:111</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_ab9d2a53de10ebb4f093ac027e1a07037"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#ab9d2a53de10ebb4f093ac027e1a07037">GPUCA_NAMESPACE::gpu::GPUChainTracking::MemorySize</a></div><div class="ttdeci">void MemorySize(size_t &amp;gpuMem, size_t &amp;pageLockedHostMem) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00151">GPUChainTracking.cxx:151</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a84e988d3f585ba90ecb684eda4ee07f0"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a84e988d3f585ba90ecb684eda4ee07f0">GPUCA_NAMESPACE::gpu::GPUChain::krnlEventNone</a></div><div class="ttdeci">static constexpr krnlEvent krnlEventNone</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00037">GPUChain.h:37</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_af0fc12dc416ffa449a338622e2c695d8"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#af0fc12dc416ffa449a338622e2c695d8">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mPpeakPositions</a></div><div class="ttdeci">ChargePos * mPpeakPositions</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00098">GPUTPCClusterFinder.h:98</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert_html_a65bed44605f6269ce848b209a14b7550"><div class="ttname"><a href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a65bed44605f6269ce848b209a14b7550">GPUCA_NAMESPACE::gpu::GPUReconstructionConvert::RunZSEncoderCreateMeta</a></div><div class="ttdeci">static void RunZSEncoderCreateMeta(const unsigned long long int *buffer, const unsigned int *sizes, void **ptrs, GPUTrackingInOutZS *out)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/GPUReconstructionConvert_8cxx_source.html#l00550">GPUReconstructionConvert.cxx:550</a></div></div>
<div class="ttc" id="classHighResTimer_html_a8ce2f11871e76c0774c5f554ec7fffb6"><div class="ttname"><a href="../../da/dd8/classHighResTimer.html#a8ce2f11871e76c0774c5f554ec7fffb6">HighResTimer::GetCurrentElapsedTime</a></div><div class="ttdeci">double GetCurrentElapsedTime(bool reset=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d64/timer_8cxx_source.html#l00101">timer.cxx:101</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a274136667136b38b484165d082153e73"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a274136667136b38b484165d082153e73">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCZS</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTrackingInOutZS &gt; mTPCZS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00227">GPUChainTracking.h:227</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTrack_html"><div class="ttname"><a href="../../d6/dfa/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTrack.html">GPUCA_NAMESPACE::gpu::GPUTPCTrack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d88/GPUTPCTrack_8h_source.html#l00033">GPUTPCTrack.h:33</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ac294f4bc2a452f0b07979028978c4270"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ac294f4bc2a452f0b07979028978c4270">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::DumpSuppressedPeaksCompacted</a></div><div class="ttdeci">void DumpSuppressedPeaksCompacted(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/GPUTPCClusterFinderDump_8cxx_source.html#l00090">GPUTPCClusterFinderDump.cxx:90</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN_html_a664bb18b1eaccfc61522dfe8fa0e13ff"><div class="ttname"><a href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#a664bb18b1eaccfc61522dfe8fa0e13ff">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::MinMaxCN::maxN</a></div><div class="ttdeci">unsigned int maxN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00072">GPUTPCClusterFinder.h:72</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a9d3bc73d6237b7053fcc7009274a2260"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a9d3bc73d6237b7053fcc7009274a2260">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTPCCompression</a></div><div class="ttdeci">int RunTPCCompression()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l01853">GPUChainTracking.cxx:1853</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory_html_a891d1373d00109fecb48d58f67cf5616"><div class="ttname"><a href="../../d9/d4b/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1InOutMemory.html#a891d1373d00109fecb48d58f67cf5616">GPUCA_NAMESPACE::gpu::GPUChainTracking::InOutMemory::mergedTracks</a></div><div class="ttdeci">std::unique_ptr&lt; GPUTPCGMMergedTrack[]&gt; mergedTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00097">GPUChainTracking.h:97</a></div></div>
<div class="ttc" id="GPUDefGPUParameters_8h_html_a965cb1eb4e2b1f84d1ed7fc1d4e7b5c7"><div class="ttname"><a href="../../dc/de9/GPUDefGPUParameters_8h.html#a965cb1eb4e2b1f84d1ed7fc1d4e7b5c7">GPUCA_MAX_STREAMS</a></div><div class="ttdeci">#define GPUCA_MAX_STREAMS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de9/GPUDefGPUParameters_8h_source.html#l00349">GPUDefGPUParameters.h:349</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels_html_a6569f075cc8269a0c7f5635ebadc5cbb"><div class="ttname"><a href="../../d0/dc2/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCLinearLabels.html#a6569f075cc8269a0c7f5635ebadc5cbb">GPUCA_NAMESPACE::gpu::GPUTPCLinearLabels::header</a></div><div class="ttdeci">std::vector&lt; o2::dataformats::MCTruthHeaderElement &gt; header</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d20/GPUHostDataTypes_8h_source.html#l00050">GPUHostDataTypes.h:50</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a3245b84c69e5e936594c77d64d26cc8a"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3245b84c69e5e936594c77d64d26cc8a">GPUCA_NAMESPACE::gpu::GPUChain::deviceEvent</a></div><div class="ttdeci">GPUReconstruction::deviceEvent deviceEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00035">GPUChain.h:35</a></div></div>
<div class="ttc" id="GPUTPCHitId_8h_html"><div class="ttname"><a href="../../dd/d7b/GPUTPCHitId_8h.html">GPUTPCHitId.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a72273498e7788da809a1f4848241ebef"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a72273498e7788da809a1f4848241ebef">GPUCA_NAMESPACE::gpu::GPUChain::TransferMemoryResourceLinkToHost</a></div><div class="ttdeci">void TransferMemoryResourceLinkToHost(RecoStep step, short res, int stream=-1, deviceEvent *ev=nullptr, deviceEvent *evList=nullptr, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00107">GPUChain.h:107</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory_html_aacb084fa6c9da8419a8ae2928069d988"><div class="ttname"><a href="../../d6/d9c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1Memory.html#aacb084fa6c9da8419a8ae2928069d988">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters</a></div><div class="ttdeci">struct GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::Memory::counters_t counters</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d28/GPUO2FakeClasses_8h_source.html#l00099">GPUO2FakeClasses.h:99</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a423d6b0684967fbedc4f92f10f5924e4"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTPCTrackingMerger</a></div><div class="ttdeci">int RunTPCTrackingMerger(bool synchronizeOutput=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l01668">GPUChainTracking.cxx:1668</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a424664f0341f307bcd8b632b807e1783"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a424664f0341f307bcd8b632b807e1783">GPUCA_NAMESPACE::gpu::GPUChainTracking::mDisplayRunning</a></div><div class="ttdeci">bool mDisplayRunning</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00210">GPUChainTracking.h:210</a></div></div>
<div class="ttc" id="GPUQA_8h_html"><div class="ttname"><a href="../../da/dcc/GPUQA_8h.html">GPUQA.h</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html_a7a32e75ccf6192097a3c78e86c6aa036"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#a7a32e75ccf6192097a3c78e86c6aa036">o2::tpc::ClusterNativeAccess::nClusters</a></div><div class="ttdeci">unsigned int nClusters[Constants::MAXSECTOR][Constants::MAXGLOBALPADROW]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00161">ClusterNative.h:161</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a852257bf78151b796aeb7d11f9f437df"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a852257bf78151b796aeb7d11f9f437df">GPUCA_NAMESPACE::gpu::GPUChainTracking::ConvertRun2RawToNative</a></div><div class="ttdeci">void ConvertRun2RawToNative()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00560">GPUChainTracking.cxx:560</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1TilingLayout_html"><div class="ttname"><a href="../../d9/de7/classGPUCA__NAMESPACE_1_1gpu_1_1TilingLayout.html">GPUCA_NAMESPACE::gpu::TilingLayout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d60/Array2D_8h_source.html#l00047">Array2D.h:47</a></div></div>
<div class="ttc" id="GPUChainTracking_8h_html"><div class="ttname"><a href="../../db/ded/GPUChainTracking_8h.html">GPUChainTracking.h</a></div></div>
<div class="ttc" id="GPUTPCClusterData_8h_html"><div class="ttname"><a href="../../d1/dde/GPUTPCClusterData_8h.html">GPUTPCClusterData.h</a></div></div>
<div class="ttc" id="namespaceo2_1_1framework_html_a930799bc13c911ce05e376c5b6c8ac09"><div class="ttname"><a href="../../dd/d8d/namespaceo2_1_1framework.html#a930799bc13c911ce05e376c5b6c8ac09">o2::framework::parallel</a></div><div class="ttdeci">WorkflowSpec parallel(DataProcessorSpec original, size_t maxIndex, std::function&lt; void(DataProcessorSpec &amp;, size_t id)&gt; amendCallback)</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_af45a12dd95b828eaec73160ab529497c"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#af45a12dd95b828eaec73160ab529497c">GPUCA_NAMESPACE::gpu::GPUReconstruction::GetRecoStepsOutputs</a></div><div class="ttdeci">InOutTypeField GetRecoStepsOutputs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00233">GPUReconstruction.h:233</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ab5463ae7456897d8335e606ecb6ca8f9"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ab5463ae7456897d8335e606ecb6ca8f9">TPCClusters</a></div><div class="ttdeci">TPCClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00118">GPUDataTypes.h:118</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1TPCZSHDR_html_af23bf9b0cc7cc269c3dacfb06d1c19e8"><div class="ttname"><a href="../../dc/d83/structo2_1_1tpc_1_1TPCZSHDR.html#af23bf9b0cc7cc269c3dacfb06d1c19e8">o2::tpc::TPCZSHDR::nADCsamples</a></div><div class="ttdeci">unsigned short nADCsamples</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d04/ZeroSuppression_8h_source.html#l00039">ZeroSuppression.h:39</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a12efb10aae7ce7eae432e8d1a024808d"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a12efb10aae7ce7eae432e8d1a024808d">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCZSBuffer</a></div><div class="ttdeci">std::unique_ptr&lt; unsigned long long int[]&gt; mTPCZSBuffer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00224">GPUChainTracking.h:224</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a4b61bae47174ddb8434f95df2b2d161d"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">TPCMerging</a></div><div class="ttdeci">TPCMerging</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00110">GPUDataTypes.h:110</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a2c9c0bfe9b6c8ab25042d471ef235c40"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a2c9c0bfe9b6c8ab25042d471ef235c40">GPUCA_NAMESPACE::gpu::GPUChainTracking::mTPCZSPtrs</a></div><div class="ttdeci">std::unique_ptr&lt; void *[]&gt; mTPCZSPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00226">GPUChainTracking.h:226</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a1411a57b384c7e13885281419c9b653f"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a1411a57b384c7e13885281419c9b653f">GPUCA_NAMESPACE::gpu::GPUChain::param</a></div><div class="ttdeci">GPUParam &amp; param()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00076">GPUChain.h:76</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a0ac3cfeb0ab6408b3b1906e47fc2f807"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a0ac3cfeb0ab6408b3b1906e47fc2f807">GPUCA_NAMESPACE::gpu::GPUChain::RunHelperThreads</a></div><div class="ttdeci">void RunHelperThreads(T function, GPUReconstructionHelpers::helperDelegateBase *functionCls, int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00227">GPUChain.h:227</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory_html"><div class="ttname"><a href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html">GPUCA_NAMESPACE::gpu::GPUTPCCompression::memory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00076">GPUTPCCompression.h:76</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a62523edb5f178674fed775ca1f7b69b5"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a62523edb5f178674fed775ca1f7b69b5">GPUCA_NAMESPACE::gpu::GPUChainTracking::SetTPCFastTransform</a></div><div class="ttdeci">void SetTPCFastTransform(std::unique_ptr&lt; TPCFastTransform &gt; &amp;&amp;tpcFastTransform)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00605">GPUChainTracking.cxx:605</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ad104e4fa66037c2eab1a9b4585452ec2"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ad104e4fa66037c2eab1a9b4585452ec2">GPUCA_NAMESPACE::gpu::GPUTPCTracker::MemoryResLinks</a></div><div class="ttdeci">short MemoryResLinks() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00144">GPUTPCTracker.h:144</a></div></div>
<div class="ttc" id="Raw_2include_2DetectorsRaw_2RDHUtils_8h_html"><div class="ttname"><a href="../../d6/dec/Raw_2include_2DetectorsRaw_2RDHUtils_8h.html">RDHUtils.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_a91374f30d2bd4159966474701d0db87c"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#a91374f30d2bd4159966474701d0db87c">GPUCA_NAMESPACE::gpu::GPUTPCTracker::DumpHitWeights</a></div><div class="ttdeci">void DumpHitWeights(std::ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/GPUTPCTrackerDump_8cxx_source.html#l00082">GPUTPCTrackerDump.cxx:82</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_aca7469df90901b394ac0ed4021e2edf2"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#aca7469df90901b394ac0ed4021e2edf2">o2::tpc::CompressedClustersPtrs_x::sigmaTimeA</a></div><div class="ttdeci">TCHAR sigmaTimeA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00046">CompressedClusters.h:46</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a9ee12e2ff416f9b0c055abbc71a01ae5"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a9ee12e2ff416f9b0c055abbc71a01ae5">o2::tpc::CompressedClustersPtrs_x::padA</a></div><div class="ttdeci">TSHORT padA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00052">CompressedClusters.h:52</a></div></div>
<div class="ttc" id="GPUO2FakeClasses_8h_html"><div class="ttname"><a href="../../da/d28/GPUO2FakeClasses_8h.html">GPUO2FakeClasses.h</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects_html_a82644d8d9860d17d3e026da10952a814"><div class="ttname"><a href="../../de/d26/structGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_1_1GPUTrackingFlatObjects.html#a82644d8d9860d17d3e026da10952a814">GPUCA_NAMESPACE::gpu::GPUChainTracking::GPUTrackingFlatObjects::mChainTracking</a></div><div class="ttdeci">GPUChainTracking * mChainTracking</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00163">GPUChainTracking.h:163</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_aca12546d88480e5c2ea96ffb5dad4f7f"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#aca12546d88480e5c2ea96ffb5dad4f7f">GPUCA_NAMESPACE::gpu::GPUChain::NSLICES</a></div><div class="ttdeci">static constexpr int NSLICES</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00049">GPUChain.h:49</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a502ed0e55617137bc96581a8fa82270f"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a502ed0e55617137bc96581a8fa82270f">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mMemoryResOutputHost</a></div><div class="ttdeci">short mMemoryResOutputHost</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00102">GPUTPCCompression.h:102</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a785acbd1cbf77b98ff6c591a0c2c8f82"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a785acbd1cbf77b98ff6c591a0c2c8f82">GPUCA_NAMESPACE::gpu::GPUChain::GetGridBlk</a></div><div class="ttdeci">krnlExec GetGridBlk(unsigned int nBlocks, int stream, GPUReconstruction::krnlDeviceType d=GPUReconstruction::krnlDeviceType::Auto, GPUCA_RECO_STEP st=GPUCA_RECO_STEP::NoRecoStep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d86/GPUChain_8cxx_source.html#l00031">GPUChain.cxx:31</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html_a93ec74e9221025e208937d5ede9d2453"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html#a93ec74e9221025e208937d5ede9d2453">GPUCA_NAMESPACE::gpu::mergeMode</a></div><div class="ttdeci">unsigned long size int mode int iSlice int iSlice char nOutput int int char useOrigTrackParam int char char mergeMode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc0/GPUReconstructionCPU_8h_source.html#l00044">GPUReconstructionCPU.h:44</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_html"><div class="ttname"><a href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html">GPUCA_NAMESPACE::gpu::GPUTPCConvert</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d28/GPUO2FakeClasses_8h_source.html#l00091">GPUO2FakeClasses.h:91</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN_html_aed96a7e5f15804eb955db051a91a83ac"><div class="ttname"><a href="../../dc/dc6/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_1_1MinMaxCN.html#aed96a7e5f15804eb955db051a91a83ac">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::MinMaxCN::maxC</a></div><div class="ttdeci">unsigned int maxC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00072">GPUTPCClusterFinder.h:72</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ae5ad7b886293702063913147be8da95a"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ae5ad7b886293702063913147be8da95a">GPUCA_NAMESPACE::gpu::GPUChain::SynchronizeStream</a></div><div class="ttdeci">void SynchronizeStream(int stream)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00079">GPUChain.h:79</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_ac3d6c328eb1a6342934112f6c4a58b5a"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#ac3d6c328eb1a6342934112f6c4a58b5a">GPUCA_NAMESPACE::gpu::GPUChain::processorsShadow</a></div><div class="ttdeci">GPUConstantMem * processorsShadow()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00074">GPUChain.h:74</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_ad3e61547282de2f86334f34dd65686b9"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#ad3e61547282de2f86334f34dd65686b9">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mScanWorkGroupSize</a></div><div class="ttdeci">static constexpr int mScanWorkGroupSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00115">GPUTPCClusterFinder.h:115</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a5ea92fca324f00565e0e002416be68f6"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a5ea92fca324f00565e0e002416be68f6">GPUCA_NAMESPACE::gpu::GPUReconstruction::ResetRegisteredMemoryPointers</a></div><div class="ttdeci">void ResetRegisteredMemoryPointers(GPUProcessor *proc)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00537">GPUReconstruction.cxx:537</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_af7a61d8eb15e97ffa2a8f2a81bee8cc9"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#af7a61d8eb15e97ffa2a8f2a81bee8cc9">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::SetSliceData</a></div><div class="ttdeci">void SetSliceData(int index, const GPUTPCSliceOutput *sliceData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcf/GPUTPCGMMerger_8h_source.html#l00097">GPUTPCGMMerger.h:97</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a5fefd07396adf2e5489e92473b3072c3"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5fefd07396adf2e5489e92473b3072c3">GPUCA_NAMESPACE::gpu::GPUChainTracking::PrepareEvent</a></div><div class="ttdeci">int PrepareEvent() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00415">GPUChainTracking.cxx:415</a></div></div>
<div class="ttc" id="GPUTPCSliceOutput_8h_html"><div class="ttname"><a href="../../da/d4b/GPUTPCSliceOutput_8h.html">GPUTPCSliceOutput.h</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a65d3616992033c074feb344292a2dca5"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a65d3616992033c074feb344292a2dca5">GPUCA_NAMESPACE::gpu::GPUChain::GPUMemCpy</a></div><div class="ttdeci">void GPUMemCpy(RecoStep step, void *dst, const void *src, size_t size, int stream, int toGPU, deviceEvent *ev=nullptr, deviceEvent *evList=nullptr, int nEvents=1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00110">GPUChain.h:110</a></div></div>
<div class="ttc" id="classHighResTimer_html"><div class="ttname"><a href="../../da/dd8/classHighResTimer.html">HighResTimer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd0/timer_8h_source.html#l00017">timer.h:17</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_af3b8f1e4edfe54d81b54c63cb6e1631a"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#af3b8f1e4edfe54d81b54c63cb6e1631a">TRDTracks</a></div><div class="ttdeci">TRDTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00123">GPUDataTypes.h:123</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a999a8564f1d149ee7953b91cf83a5172"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a999a8564f1d149ee7953b91cf83a5172">GPUCA_NAMESPACE::gpu::GPUChainTracking::PrintDebugOutput</a></div><div class="ttdeci">void PrintDebugOutput()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUChainTrackingDebugAndProfiling_8cxx_source.html#l00171">GPUChainTrackingDebugAndProfiling.cxx:171</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a5a435d290dd2d94c62fd51ed366d214f"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a5a435d290dd2d94c62fd51ed366d214f">GPUCA_NAMESPACE::gpu::GPUChainTracking::mMatLUTU</a></div><div class="ttdeci">std::unique_ptr&lt; o2::base::MatLayerCylSet &gt; mMatLUTU</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00218">GPUChainTracking.h:218</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder_html_a9946a260a8649831b34b62628502acbf"><div class="ttname"><a href="../../da/dac/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCClusterFinder.html#a9946a260a8649831b34b62628502acbf">GPUCA_NAMESPACE::gpu::GPUTPCClusterFinder::mZSOffsetId</a></div><div class="ttdeci">short mZSOffsetId</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4b/GPUTPCClusterFinder_8h_source.html#l00125">GPUTPCClusterFinder.h:125</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a8c2e17fb3ded58501eef3263041595ca"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a8c2e17fb3ded58501eef3263041595ca">GPUCA_NAMESPACE::gpu::GPUChainTracking::ForwardTPCDigits</a></div><div class="ttdeci">void ForwardTPCDigits()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00661">GPUChainTracking.cxx:661</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend_html_aa659fefc3bcc4cb03bbcbb15696f501c"><div class="ttname"><a href="../../d6/d42/classGPUCA__NAMESPACE_1_1gpu_1_1GPUDisplayBackend.html#aa659fefc3bcc4cb03bbcbb15696f501c">GPUCA_NAMESPACE::gpu::GPUDisplayBackend::mSendKey</a></div><div class="ttdeci">volatile int mSendKey</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dba/GPUDisplayBackend_8h_source.html#l00048">GPUDisplayBackend.h:48</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNative_html_a869b47009cff6108aa57d25c6916e623"><div class="ttname"><a href="../../dc/dbc/structo2_1_1tpc_1_1ClusterNative.html#a869b47009cff6108aa57d25c6916e623">o2::tpc::ClusterNative::qTot</a></div><div class="ttdeci">uint16_t qTot</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00068">ClusterNative.h:68</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain_html_a3269f7bdd917ab0ab2f8b3078165bdbb"><div class="ttname"><a href="../../dd/d48/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChain.html#a3269f7bdd917ab0ab2f8b3078165bdbb">GPUCA_NAMESPACE::gpu::GPUChain::rec</a></div><div class="ttdeci">GPUReconstruction * rec()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dbe/GPUChain_8h_source.html#l00058">GPUChain.h:58</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a18564cb9593a5a8dffc5b2235a9c0953"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a18564cb9593a5a8dffc5b2235a9c0953">GPUCA_NAMESPACE::gpu::GPUReconstruction::OutputControl</a></div><div class="ttdeci">GPUOutputControl &amp; OutputControl()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00225">GPUReconstruction.h:225</a></div></div>
<div class="ttc" id="GPUDefGPUParameters_8h_html_aa3cc66312e7baef0bd0fa4a5fcadfd47"><div class="ttname"><a href="../../dc/de9/GPUDefGPUParameters_8h.html#aa3cc66312e7baef0bd0fa4a5fcadfd47">GPUCA_HOST_MEMORY_SIZE</a></div><div class="ttdeci">#define GPUCA_HOST_MEMORY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de9/GPUDefGPUParameters_8h_source.html#l00364">GPUDefGPUParameters.h:364</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html">GPUCA_NAMESPACE::gpu::GPUTPCCompression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d28/GPUO2FakeClasses_8h_source.html#l00094">GPUO2FakeClasses.h:94</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker_html_ab27314658ae4661a3c9f88bec8902e30"><div class="ttname"><a href="../../d3/dd4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCTracker.html#ab27314658ae4661a3c9f88bec8902e30">GPUCA_NAMESPACE::gpu::GPUTPCTracker::MemoryResTracklets</a></div><div class="ttdeci">short MemoryResTracklets() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d25/GPUTPCTracker_8h_source.html#l00147">GPUTPCTracker.h:147</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a24f0e3f8418f4810e0cb23e5b183711d"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a24f0e3f8418f4810e0cb23e5b183711d">GPUCA_NAMESPACE::gpu::GPUReconstruction::PrepareEvent</a></div><div class="ttdeci">void PrepareEvent()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00674">GPUReconstruction.cxx:674</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack_1_1Range_html"><div class="ttname"><a href="../../da/ddf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack_1_1Range.html">GPUCA_NAMESPACE::gpu::GPUTPCGMBorderTrack::Range</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd4/GPUTPCGMBorderTrack_8h_source.html#l00034">GPUTPCGMBorderTrack.h:34</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory_html_a828aea3109dbed18801c40083e95534d"><div class="ttname"><a href="../../d1/d52/structGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_1_1memory.html#a828aea3109dbed18801c40083e95534d">GPUCA_NAMESPACE::gpu::GPUTPCCompression::memory::nStoredUnattachedClusters</a></div><div class="ttdeci">unsigned int nStoredUnattachedClusters</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00079">GPUTPCCompression.h:79</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Digit_html"><div class="ttname"><a href="../../d1/d46/classo2_1_1tpc_1_1Digit.html">o2::tpc::Digit</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7d/DataFormats_2Detectors_2TPC_2include_2DataFormatsTPC_2Digit_8h_source.html#l00034">Digit.h:34</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a31eafbeac9256b106b6acfd78f305200"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a></div><div class="ttdeci">GLint GLsizei count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_ac4d3125aa50ccdf03c37bd37f1d0b773"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#ac4d3125aa50ccdf03c37bd37f1d0b773">o2::tpc::CompressedClustersPtrs_x::qTotA</a></div><div class="ttdeci">TSHORT qTotA</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00038">CompressedClusters.h:38</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam_html_abaf65a22e0a36103e77bb2f52e0163a9"><div class="ttname"><a href="../../da/daf/structGPUCA__NAMESPACE_1_1gpu_1_1GPUParam.html#abaf65a22e0a36103e77bb2f52e0163a9">GPUCA_NAMESPACE::gpu::GPUParam::continuousMaxTimeBin</a></div><div class="ttdeci">int continuousMaxTimeBin</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d13/GPUParam_8h_source.html#l00058">GPUParam.h:58</a></div></div>
<div class="ttc" id="convertDigitsToRawZS_8cxx_html_a8761d49d4e74c4e774d0f36d12e060b7"><div class="ttname"><a href="../../df/d6c/convertDigitsToRawZS_8cxx.html#a8761d49d4e74c4e774d0f36d12e060b7">convert</a></div><div class="ttdeci">void convert(DigitArray &amp;inputDigits, ProcessAttributes *processAttributes, o2::raw::RawFileWriter &amp;writer)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d6c/convertDigitsToRawZS_8cxx_source.html#l00174">convertDigitsToRawZS.cxx:174</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html_a2c46c5745396cbea3720d67084f6d399"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html#a2c46c5745396cbea3720d67084f6d399">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing::debugMask</a></div><div class="ttdeci">int debugMask</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00143">GPUSettings.h:143</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_ae3603f033c1c86e526a69ac0db43d8de"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#ae3603f033c1c86e526a69ac0db43d8de">GPUCA_NAMESPACE::gpu::GPUReconstruction::Res</a></div><div class="ttdeci">GPUMemoryResource &amp; Res(short num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00182">GPUReconstruction.h:182</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1ClusterNativeAccess_html_afbb61f84fedb341004571f15245b4d56"><div class="ttname"><a href="../../da/d95/structo2_1_1tpc_1_1ClusterNativeAccess.html#afbb61f84fedb341004571f15245b4d56">o2::tpc::ClusterNativeAccess::setOffsetPtrs</a></div><div class="ttdeci">void setOffsetPtrs()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/ClusterNative_8h_source.html#l00169">ClusterNative.h:169</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a20f2279925348c696a820ac975b7c111"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a20f2279925348c696a820ac975b7c111">GPUCA_NAMESPACE::gpu::GPUChainTracking::LoadClusterErrors</a></div><div class="ttdeci">void LoadClusterErrors()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00603">GPUChainTracking.cxx:603</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl_html_a4618347055620f67656be8726bfa5119a0ac64733e6a236902ddd3c00aae051fc"><div class="ttname"><a href="../../d4/d7c/structGPUCA__NAMESPACE_1_1gpu_1_1GPUOutputControl.html#a4618347055620f67656be8726bfa5119a0ac64733e6a236902ddd3c00aae051fc">GPUCA_NAMESPACE::gpu::GPUOutputControl::AllocateInternal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5b/GPUOutputControl_8h_source.html#l00027">GPUOutputControl.h:27</a></div></div>
<div class="ttc" id="GPUDefGPUParameters_8h_html_a95f8e6e8bb55891380f655885bc014d5"><div class="ttname"><a href="../../dc/de9/GPUDefGPUParameters_8h.html#a95f8e6e8bb55891380f655885bc014d5">GPUCA_MEMORY_SIZE</a></div><div class="ttdeci">#define GPUCA_MEMORY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de9/GPUDefGPUParameters_8h_source.html#l00363">GPUDefGPUParameters.h:363</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack_html"><div class="ttname"><a href="../../dd/dc8/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMBorderTrack.html">GPUCA_NAMESPACE::gpu::GPUTPCGMBorderTrack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd4/GPUTPCGMBorderTrack_8h_source.html#l00031">GPUTPCGMBorderTrack.h:31</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert_html_a5b46cb4b1c949ce347488b41ecb303fc"><div class="ttname"><a href="../../d3/d6f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCConvert.html#a5b46cb4b1c949ce347488b41ecb303fc">GPUCA_NAMESPACE::gpu::GPUTPCConvert::mMemory</a></div><div class="ttdeci">Memory * mMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2c/GPUTPCConvert_8h_source.html#l00048">GPUTPCConvert.h:48</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert_html_a300978b87042c1274a63e7bf7feb2b47"><div class="ttname"><a href="../../d3/de2/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstructionConvert.html#a300978b87042c1274a63e7bf7feb2b47">GPUCA_NAMESPACE::gpu::GPUReconstructionConvert::ConvertNativeToClusterData</a></div><div class="ttdeci">static void ConvertNativeToClusterData(o2::tpc::ClusterNativeAccess *native, std::unique_ptr&lt; GPUTPCClusterData[]&gt; *clusters, unsigned int *nClusters, const TPCFastTransform *transform, int continuousMaxTimeBin=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7f/GPUReconstructionConvert_8cxx_source.html#l00044">GPUReconstructionConvert.cxx:44</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a2a98ddb6f79ec1048ff9e15cdd2422ba"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a></div><div class="ttdeci">GLenum src</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01767">glcorearb.h:1767</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression_html_a792c0521c5d77f99830010422b347ff5"><div class="ttname"><a href="../../d0/da0/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCCompression.html#a792c0521c5d77f99830010422b347ff5">GPUCA_NAMESPACE::gpu::GPUTPCCompression::mPtrs</a></div><div class="ttdeci">o2::tpc::CompressedClustersPtrs mPtrs</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d92/GPUTPCCompression_8h_source.html#l00084">GPUTPCCompression.h:84</a></div></div>
<div class="ttc" id="GPUTRDTracker_8h_html"><div class="ttname"><a href="../../dd/d44/GPUTRDTracker_8h.html">GPUTRDTracker.h</a></div><div class="ttdoc">Online TRD tracker based on extrapolated TPC tracks. </div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersPtrs__x_html_a636a2c6795db46faecc46cc36977e7d8"><div class="ttname"><a href="../../d7/dea/structo2_1_1tpc_1_1CompressedClustersPtrs__x.html#a636a2c6795db46faecc46cc36977e7d8">o2::tpc::CompressedClustersPtrs_x::qTotU</a></div><div class="ttdeci">TSHORT qTotU</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7d/CompressedClusters_8h_source.html#l00054">CompressedClusters.h:54</a></div></div>
<div class="ttc" id="structo2_1_1tpc_1_1CompressedClustersFlat_html_ae160f86a3d2af3785375ea63ee2f0cb7"><div class="ttname"><a href="../../dd/d43/structo2_1_1tpc_1_1CompressedClustersFlat.html#ae160f86a3d2af3785375ea63ee2f0cb7">o2::tpc::CompressedClustersFlat::set</a></div><div class="ttdeci">void set(size_t bufferSize, const CompressedClusters &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/CompressedClusters_8cxx_source.html#l00037">CompressedClusters.cxx:37</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f511f1e9c03c071966ae594f00bbc5e0.html">GPU</a></li><li class="navelem"><a class="el" href="../../dir_77030b149987c946eb2e85728f65acc0.html">GPUTracking</a></li><li class="navelem"><a class="el" href="../../dir_b1dd2c3d7fcd0d0d24ad7c8634d4eb04.html">Global</a></li><li class="navelem"><a class="el" href="../../d2/d58/GPUChainTracking_8cxx.html">GPUChainTracking.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:34 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
