<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/reconstruction/src/GBTFrameContainer.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/dfc/GBTFrameContainer_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GBTFrameContainer.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/dfc/GBTFrameContainer_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d52/GBTFrameContainer_8h.html">TPCReconstruction/GBTFrameContainer.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;bitset&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d0/d0a/namespaceo2_1_1tpc.html">o2::tpc</a>;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af63e428527d6dfcce59dfaec282e4a4d">   20</a></span>&#160;<a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af63e428527d6dfcce59dfaec282e4a4d">GBTFrameContainer::GBTFrameContainer</a>() : <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html">GBTFrameContainer</a>(0, 0) {}</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af07d974f80ebcf8b6055ad8a0ac3df6a">   21</a></span>&#160;<a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af63e428527d6dfcce59dfaec282e4a4d">GBTFrameContainer::GBTFrameContainer</a>(<span class="keywordtype">int</span> cru, <span class="keywordtype">int</span> link) : <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html">GBTFrameContainer</a>(0, cru, link, -1) {}</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a2d1207083febe874023f22e4997be1ad">   22</a></span>&#160;<a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af63e428527d6dfcce59dfaec282e4a4d">GBTFrameContainer::GBTFrameContainer</a>(<span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, <span class="keywordtype">int</span> cru, <span class="keywordtype">int</span> link, <span class="keywordtype">int</span> sampaVersion)</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  : mAdcMutex(),</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    mEnableAdcClockWarning(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a529eea41e7ca42ce7f71d5383998b7f8">true</a>),</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    mEnableSyncPatternWarning(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a529eea41e7ca42ce7f71d5383998b7f8">true</a>),</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    mEnableStoreGBTFrames(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a529eea41e7ca42ce7f71d5383998b7f8">true</a>),</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    mEnableCompileAdcValues(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a529eea41e7ca42ce7f71d5383998b7f8">true</a>),</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    mAdcClock({<a class="code" href="../../d6/da5/classo2_1_1tpc_1_1AdcClockMonitor.html">AdcClockMonitor</a>(0), <a class="code" href="../../d6/da5/classo2_1_1tpc_1_1AdcClockMonitor.html">AdcClockMonitor</a>(1), <a class="code" href="../../d6/da5/classo2_1_1tpc_1_1AdcClockMonitor.html">AdcClockMonitor</a>(2)}),</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    mSyncPattern({<a class="code" href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">SyncPatternMonitor</a>(0, 0), <a class="code" href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">SyncPatternMonitor</a>(0, 1), <a class="code" href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">SyncPatternMonitor</a>(1, 0),</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;                  <a class="code" href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">SyncPatternMonitor</a>(1, 1), <a class="code" href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">SyncPatternMonitor</a>(2, 0)}),</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    mPositionForHalfSampa({-1, -1, -1, -1, -1, -1, -1, -1, -1, -1}),</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    mGBTFrames(),</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    mGBTFramesAnalyzed(0),</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    mCRU(cru),</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    mLink(link),</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    mSampaVersion(sampaVersion),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    mTimebin(0)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  mGBTFrames.reserve(<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aAdcValues : mAdcValues) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    aAdcValues = <span class="keyword">new</span> std::queue&lt;short&gt;;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a4ec87529787bc0bdb5fe03b05264b668">   46</a></span>&#160;<a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a4ec87529787bc0bdb5fe03b05264b668">GBTFrameContainer::~GBTFrameContainer</a>()</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aAdcValues : mAdcValues) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">delete</span> aAdcValues;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#ad9e13e5010e1200ac35625087547f981">   53</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#ad9e13e5010e1200ac35625087547f981">GBTFrameContainer::addGBTFramesFromFile</a>(std::string fileName)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Reading from file &quot;</span> &lt;&lt; fileName &lt;&lt; std::endl;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>(fileName);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span> (!file.is_open()) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Can&#39;t read file &quot;</span> &lt;&lt; fileName;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">/* Expected format in file is</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">   * decimal-counter : hex-GBTframe</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">   * e.g.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">   * ...</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">   *  0016 : 0x00000da2d80702e17aaeb0f0052faaa5</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">   *  0017 : 0x0000078a7805825272261050870502f0</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">   *  0018 : 0x000007207a0722e1da0bc0520f0582da</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   * ...</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#afa228d201857b67afdee8292f4cb08a8">counter</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">short</span> colon;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  std::string frameString;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">unsigned</span> word0, word1, word2, word3;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">while</span> (file &gt;&gt; counter &gt;&gt; colon &gt;&gt; frameString) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    sscanf(frameString.substr(2, 8).c_str(), <span class="stringliteral">&quot;%x&quot;</span>, &amp;word3);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    sscanf(frameString.substr(10, 8).c_str(), <span class="stringliteral">&quot;%x&quot;</span>, &amp;word2);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    sscanf(frameString.substr(18, 8).c_str(), <span class="stringliteral">&quot;%x&quot;</span>, &amp;word1);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    sscanf(frameString.substr(26, 8).c_str(), <span class="stringliteral">&quot;%x&quot;</span>, &amp;word0);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa798eceb8791a63a106e4f746bfc0742">addGBTFrame</a>(word3, word2, word1, word0);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a43a860208c606ee76f7082e1cb28caf2">   91</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a43a860208c606ee76f7082e1cb28caf2">GBTFrameContainer::addGBTFramesFromBinaryFile</a>(std::string fileName, std::string <a class="code" href="../../dc/da3/glcorearb_8h.html#a7d05960f4f1c1b11f3177dc963a45d86">type</a>, <span class="keywordtype">int</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a>)</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Reading from file &quot;</span> &lt;&lt; fileName &lt;&lt; std::endl;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  std::ifstream <a class="code" href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>(fileName);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> (!file.is_open()) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Can&#39;t read file &quot;</span> &lt;&lt; fileName;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  uint32_t rawData;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  uint32_t rawMarker;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  uint32_t words[8];</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;grorc&quot;</span>) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">while</span> (!file.eof() &amp;&amp; ((frames == -1) || (mGBTFramesAnalyzed &lt; frames))) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      file.read((<span class="keywordtype">char</span>*)&amp;rawData, <span class="keyword">sizeof</span>(rawData));</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      rawMarker = rawData &amp; 0xFFFF0000;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="keywordflow">if</span> ((rawMarker == 0xDEF10000) || (rawMarker == 0xDEF40000)) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        file.read((<span class="keywordtype">char</span>*)&amp;words, 3 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa798eceb8791a63a106e4f746bfc0742">addGBTFrame</a>(rawData, words[0], words[1], words[2]);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;trorc&quot;</span>) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">while</span> (!file.eof() &amp;&amp; ((frames == -1) || (mGBTFramesAnalyzed &lt; frames))) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      file.read((<span class="keywordtype">char</span>*)&amp;words, 4 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa798eceb8791a63a106e4f746bfc0742">addGBTFrame</a>(words[0], words[1], words[2], words[3]);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;trorc2&quot;</span>) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// reading header</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    file.read((<span class="keywordtype">char</span>*)&amp;words, 8 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// decoding header</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    uint32_t headerVersion = (words[0] &gt;&gt; 24) &amp; 0xF;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span> (headerVersion == 0) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      uint32_t readoutMode = words[0] &amp; 0xFFFF;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      uint32_t reserved_0 = (words[0] &gt;&gt; 16) &amp; 0xF;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      uint32_t channelID = (words[0] &gt;&gt; 20) &amp; 0xF;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      uint32_t n_words = words[1];</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> timestamp = words[2];</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      timestamp = (timestamp &lt;&lt; 32) | words[3];</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> event_count = words[4];</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      event_count = (event_count &lt;&lt; 32) | words[5];</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> reserved_1 = words[6];</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      reserved_1 = (reserved_1 &lt;&lt; 32) | words[7];</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Header version: &quot;</span> &lt;&lt; headerVersion;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;ChannelID: &quot;</span> &lt;&lt; channelID;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;reserved_0: 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">std::right</a> &lt;&lt; std::setw(1) &lt;&lt; reserved_0 &lt;&lt; std::dec;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Readout mode: &quot;</span> &lt;&lt; readoutMode;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;n_words: &quot;</span> &lt;&lt; n_words;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Timestamp: 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">std::right</a> &lt;&lt; std::setw(16) &lt;&lt; timestamp &lt;&lt; std::dec;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Event counter: &quot;</span> &lt;&lt; event_count;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;reserved_1: 0x&quot;</span> &lt;&lt; std::hex &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">std::right</a> &lt;&lt; std::setw(16) &lt;&lt; reserved_1 &lt;&lt; std::dec;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordflow">switch</span> (readoutMode) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">case</span> 1: { <span class="comment">// raw GBT frames</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (n_words - 8); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = i + 4) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            file.read((<span class="keywordtype">char</span>*)&amp;words, 4 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa798eceb8791a63a106e4f746bfc0742">addGBTFrame</a>(words[0], words[1], words[2], words[3]);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">case</span> 2: { <span class="comment">// already decoded data</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          mAdcMutex.lock();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a43d7824acc27a497365ad4b5bc9e67fd">ids</a>[5];</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          std::array&lt;bool, 5&gt; writeValue;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          writeValue.fill(<span class="keyword">false</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          std::array&lt;std::array&lt;uint32_t, 16&gt;, 5&gt; adcValues;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (n_words - 8); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = i + 4) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            file.read((<span class="keywordtype">char</span>*)&amp;words, 4 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            ids[4] = (words[0] &gt;&gt; 4) &amp; 0xF;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            ids[3] = (words[0] &gt;&gt; 8) &amp; 0xF;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            ids[2] = (words[0] &gt;&gt; 12) &amp; 0xF;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            ids[1] = (words[0] &gt;&gt; 16) &amp; 0xF;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            ids[0] = (words[0] &gt;&gt; 20) &amp; 0xF;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            adcValues[4][((ids[4] &amp; 0x7) * 2) + 1] = (((ids[4] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : words[3] &amp; 0x3FF;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            adcValues[4][((ids[4] &amp; 0x7) * 2)] = (((ids[4] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[3] &gt;&gt; 10) &amp; 0x3FF;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            adcValues[3][((ids[3] &amp; 0x7) * 2) + 1] = (((ids[3] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[3] &gt;&gt; 20) &amp; 0x3FF;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            adcValues[3][((ids[3] &amp; 0x7) * 2)] = (((ids[3] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[2] &amp; 0xFF) &lt;&lt; 2) | ((words[3] &gt;&gt; 30) &amp; 0x3);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            adcValues[2][((ids[2] &amp; 0x7) * 2) + 1] = (((ids[2] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[2] &gt;&gt; 8) &amp; 0x3FF;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            adcValues[2][((ids[2] &amp; 0x7) * 2)] = (((ids[2] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[2] &gt;&gt; 18) &amp; 0x3FF;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            adcValues[1][((ids[1] &amp; 0x7) * 2) + 1] = (((ids[1] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[1] &amp; 0x3F) &lt;&lt; 4) | ((words[2] &gt;&gt; 28) &amp; 0xF);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            adcValues[1][((ids[1] &amp; 0x7) * 2)] = (((ids[1] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[1] &gt;&gt; 6) &amp; 0x3FF;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            adcValues[0][((ids[0] &amp; 0x7) * 2) + 1] = (((ids[0] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[1] &gt;&gt; 16) &amp; 0x3FF;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            adcValues[0][((ids[0] &amp; 0x7) * 2)] = (((ids[0] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[0] &amp; 0xF) &lt;&lt; 6) | ((words[1] &gt;&gt; 26) &amp; 0x3F);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 5; ++j) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;              std::cout &lt;&lt; std::bitset&lt;4&gt;(ids[j]) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; adcValues[0][((ids[0] &amp; 0x7) * 2)] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; adcValues[0][((ids[0] &amp; 0x7) * 2) + 1] &lt;&lt; std::endl;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 5; ++j) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;              <span class="keywordflow">if</span> (ids[j] == 0x8)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                writeValue[j] = <span class="keyword">true</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 5; ++j) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;              <span class="keywordflow">if</span> ((writeValue[j] &amp; ids[j]) == 0xF) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 16; ++k) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                  mAdcValues[j]-&gt;push(adcValues[j][k]);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                  std::cout &lt;&lt; adcValues[j][k] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;              }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            std::cout &lt;&lt; std::endl;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          mAdcMutex.unlock();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">case</span> 3: { <span class="comment">// raw GBT frames</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          mAdcMutex.lock();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a43d7824acc27a497365ad4b5bc9e67fd">ids</a>[5];</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          std::array&lt;bool, 5&gt; writeValue;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          writeValue.fill(<span class="keyword">false</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          std::array&lt;std::array&lt;uint32_t, 16&gt;, 5&gt; adcValues;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (n_words - 8); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = i + 4) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            file.read((<span class="keywordtype">char</span>*)&amp;words, 8 * <span class="keyword">sizeof</span>(words[0]));</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            ids[4] = (words[4] &gt;&gt; 4) &amp; 0xF;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            ids[3] = (words[4] &gt;&gt; 8) &amp; 0xF;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            ids[2] = (words[4] &gt;&gt; 12) &amp; 0xF;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            ids[1] = (words[4] &gt;&gt; 16) &amp; 0xF;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            ids[0] = (words[4] &gt;&gt; 20) &amp; 0xF;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            adcValues[4][((ids[4] &amp; 0x7) * 2) + 1] = (((ids[4] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : words[7] &amp; 0x3FF;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            adcValues[4][((ids[4] &amp; 0x7) * 2)] = (((ids[4] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[7] &gt;&gt; 10) &amp; 0x3FF;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            adcValues[3][((ids[3] &amp; 0x7) * 2) + 1] = (((ids[3] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[7] &gt;&gt; 20) &amp; 0x3FF;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            adcValues[3][((ids[3] &amp; 0x7) * 2)] = (((ids[3] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[6] &amp; 0xFF) &lt;&lt; 2) | ((words[7] &gt;&gt; 30) &amp; 0x3);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            adcValues[2][((ids[2] &amp; 0x7) * 2) + 1] = (((ids[2] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[6] &gt;&gt; 8) &amp; 0x3FF;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            adcValues[2][((ids[2] &amp; 0x7) * 2)] = (((ids[2] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[6] &gt;&gt; 18) &amp; 0x3FF;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            adcValues[1][((ids[1] &amp; 0x7) * 2) + 1] = (((ids[1] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[5] &amp; 0x3F) &lt;&lt; 4) | ((words[6] &gt;&gt; 28) &amp; 0xF);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            adcValues[1][((ids[1] &amp; 0x7) * 2)] = (((ids[1] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[5] &gt;&gt; 6) &amp; 0x3FF;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            adcValues[0][((ids[0] &amp; 0x7) * 2) + 1] = (((ids[0] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : (words[5] &gt;&gt; 16) &amp; 0x3FF;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            adcValues[0][((ids[0] &amp; 0x7) * 2)] = (((ids[0] &gt;&gt; 3) &amp; 0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a>) == 0) ? 0 : ((words[4] &amp; 0xF) &lt;&lt; 6) | ((words[5] &gt;&gt; 26) &amp; 0x3F);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 5; ++j) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;              <span class="keywordflow">if</span> (ids[j] == 0x8)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                writeValue[j] = <span class="keyword">true</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 5; ++j) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;              <span class="keywordflow">if</span> ((writeValue[j] &amp; ids[j]) == 0xF) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 16; ++k) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                  mAdcValues[j]-&gt;push(adcValues[j][k]);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;              }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          mAdcMutex.unlock();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <span class="comment">//          for (int i=0; i&lt;(n_words-8); i= i+8) {</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          <span class="comment">//            file.read((char*)&amp;words,8*sizeof(words[0]));</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <span class="comment">//            addGBTFrame(words[0],words[1],words[2],words[3]);</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          <span class="comment">//          }</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="comment">//          break;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">//    while (!file.eof() &amp;&amp; ((frames == -1) || (mGBTFramesAnalyzed &lt; frames))) {</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">//      file.read((char*)&amp;words,8*sizeof(words[0]));</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//      addGBTFrame(words[0],words[1],words[2],words[3]);</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">//    }</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//void GBTFrameContainer::fillOutputContainer(TClonesArray* output)</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//{</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//  TClonesArray &amp;clref = *output;</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//  for (auto &amp;aGBTFrame : mGBTFrames) {</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//    new(clref[clref.GetEntriesFast()]) GBTFrame(aGBTFrame);</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//  }</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//}</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#abfcf6a2cd098d93ae36cf4d764ad7d74">  276</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#abfcf6a2cd098d93ae36cf4d764ad7d74">GBTFrameContainer::reProcessAllFrames</a>()</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  resetAdcClock();</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  resetSyncPattern();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  resetAdcValues();</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  mGBTFramesAnalyzed = 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  processAllFrames();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::processAllFrames()</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">for</span> (std::array&lt;std::queue&lt;short&gt;*, 5&gt;::iterator it = mAdcValues.begin(); it != mAdcValues.end(); ++it) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> ((*it)-&gt;size() &gt; 0) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;There are already some ADC values for half SAMPA &quot;</span> &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a744fbed01658cb96bb8ba7e85a86d1dc">std::distance</a>(mAdcValues.begin(), it)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; , maybe the frames were already processed.&quot;</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = mGBTFrames.begin(); it != mGBTFrames.end(); ++it) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    processFrame(it);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::processFrame(std::vector&lt;GBTFrame&gt;::iterator iFrame)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  ++mGBTFramesAnalyzed;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (mEnableAdcClockWarning)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    checkAdcClock(iFrame);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  searchSyncPattern(iFrame);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (mEnableCompileAdcValues)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    compileAdcValues(iFrame);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::compileAdcValues(std::vector&lt;GBTFrame&gt;::iterator iFrame)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordtype">short</span> value1;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordtype">short</span> value2;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">short</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (mPositionForHalfSampa[iHalfSampa] == -1)</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (mPositionForHalfSampa[iHalfSampa + 5] == -1)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">switch</span> (mPositionForHalfSampa[iHalfSampa]) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        value1 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 1, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                 iFrame-&gt;getHalfWord(iHalfSampa / 2, 0, iHalfSampa % 2);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        value2 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 3, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                 iFrame-&gt;getHalfWord(iHalfSampa / 2, 2, iHalfSampa % 2);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        value1 = ((iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 2, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                 (iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 1, iHalfSampa % 2);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        value2 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 0, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                 (iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 3, iHalfSampa % 2);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        value1 = ((iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 3, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                 (iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 2, iHalfSampa % 2);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        value2 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 1, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                 iFrame-&gt;getHalfWord(iHalfSampa / 2, 0, iHalfSampa % 2);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        value1 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 0, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                 (iFrame - 1)-&gt;getHalfWord(iHalfSampa / 2, 3, iHalfSampa % 2);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        value2 = (iFrame-&gt;getHalfWord(iHalfSampa / 2, 2, iHalfSampa % 2) &lt;&lt; 5) |</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                 iFrame-&gt;getHalfWord(iHalfSampa / 2, 1, iHalfSampa % 2);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Position &quot;</span> &lt;&lt; mPositionForHalfSampa[iHalfSampa] &lt;&lt; <span class="stringliteral">&quot; not known.&quot;</span>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (mSampaVersion == 1 || mSampaVersion == 2) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      mAdcValues[iHalfSampa]-&gt;emplace(value1 ^ (1 &lt;&lt; 9)); <span class="comment">// Invert bit 9 vor SAMPA v1 and v2</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      mAdcValues[iHalfSampa]-&gt;emplace(value2 ^ (1 &lt;&lt; 9)); <span class="comment">// Invert bit 9 vor SAMPA v1 and v2</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      mAdcValues[iHalfSampa]-&gt;emplace(value1);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      mAdcValues[iHalfSampa]-&gt;emplace(value2);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">//  std::cout &lt;&lt; iHalfSampa &lt;&lt; &quot; &quot; &lt;&lt; std::hex</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//     &lt;&lt; &quot;0x&quot; &lt;&lt; std::setfill(&#39;0&#39;) &lt;&lt; std::setw(3) &lt;&lt; *(mAdcValues[iHalfSampa]-&gt;rbegin()+1) &lt;&lt; &quot; &quot;</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">//     &lt;&lt; &quot;0x&quot; &lt;&lt; std::setfill(&#39;0&#39;) &lt;&lt; std::setw(3) &lt;&lt; *(mAdcValues[iHalfSampa]-&gt;rbegin()) &lt;&lt; std::dec &lt;&lt; std::endl;</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::checkAdcClock(std::vector&lt;GBTFrame&gt;::iterator iFrame)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (mAdcClock[0].addSequence(iFrame-&gt;getAdcClock(0)))</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;ADC clock error of SAMPA 0 in GBT Frame &quot;</span> &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a744fbed01658cb96bb8ba7e85a86d1dc">std::distance</a>(mGBTFrames.begin(), iFrame);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">if</span> (mAdcClock[1].addSequence(iFrame-&gt;getAdcClock(1)))</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;ADC clock error of SAMPA 1 in GBT Frame &quot;</span> &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a744fbed01658cb96bb8ba7e85a86d1dc">std::distance</a>(mGBTFrames.begin(), iFrame);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (mAdcClock[2].addSequence(iFrame-&gt;getAdcClock(2)))</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;ADC clock error of SAMPA 2 in GBT Frame &quot;</span> &lt;&lt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a744fbed01658cb96bb8ba7e85a86d1dc">std::distance</a>(mGBTFrames.begin(), iFrame);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::searchSyncPattern(std::vector&lt;GBTFrame&gt;::iterator iFrame)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">short</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    mPositionForHalfSampa[iHalfSampa + 5] = mPositionForHalfSampa[iHalfSampa];</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (mSyncPattern[0].addSequence(</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        iFrame-&gt;getHalfWord(0, 0, 0),</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        iFrame-&gt;getHalfWord(0, 1, 0),</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        iFrame-&gt;getHalfWord(0, 2, 0),</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        iFrame-&gt;getHalfWord(0, 3, 0))) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    mPositionForHalfSampa[0] = mSyncPattern[0].getPosition();</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (mSyncPattern[1].addSequence(</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        iFrame-&gt;getHalfWord(0, 0, 1),</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        iFrame-&gt;getHalfWord(0, 1, 1),</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        iFrame-&gt;getHalfWord(0, 2, 1),</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        iFrame-&gt;getHalfWord(0, 3, 1))) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    mPositionForHalfSampa[1] = mSyncPattern[1].getPosition();</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (mSyncPattern[2].addSequence(</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        iFrame-&gt;getHalfWord(1, 0, 0),</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        iFrame-&gt;getHalfWord(1, 1, 0),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        iFrame-&gt;getHalfWord(1, 2, 0),</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        iFrame-&gt;getHalfWord(1, 3, 0))) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    mPositionForHalfSampa[2] = mSyncPattern[2].getPosition();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (mSyncPattern[3].addSequence(</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        iFrame-&gt;getHalfWord(1, 0, 1),</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        iFrame-&gt;getHalfWord(1, 1, 1),</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        iFrame-&gt;getHalfWord(1, 2, 1),</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        iFrame-&gt;getHalfWord(1, 3, 1))) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    mPositionForHalfSampa[3] = mSyncPattern[3].getPosition();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (mSyncPattern[4].addSequence(</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        iFrame-&gt;getHalfWord(2, 0),</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        iFrame-&gt;getHalfWord(2, 1),</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        iFrame-&gt;getHalfWord(2, 2),</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        iFrame-&gt;getHalfWord(2, 3))) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    mPositionForHalfSampa[4] = mSyncPattern[4].getPosition();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (mEnableSyncPatternWarning) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (mPositionForHalfSampa[0] != mPositionForHalfSampa[1]) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;The two half words from SAMPA 0 don&#39;t start at the same position, lower bits start at &quot;</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                   &lt;&lt; mPositionForHalfSampa[0] &lt;&lt; <span class="stringliteral">&quot;, higher bits at &quot;</span> &lt;&lt; mPositionForHalfSampa[1];</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (mPositionForHalfSampa[2] != mPositionForHalfSampa[3]) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;The two half words from SAMPA 1 don&#39;t start at the same position, lower bits start at &quot;</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                   &lt;&lt; mPositionForHalfSampa[2] &lt;&lt; <span class="stringliteral">&quot;, higher bits at &quot;</span> &lt;&lt; mPositionForHalfSampa[3];</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (mPositionForHalfSampa[0] != mPositionForHalfSampa[2] || mPositionForHalfSampa[0] != mPositionForHalfSampa[4]) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(WARNING) &lt;&lt; <span class="stringliteral">&quot;The three SAMPAs don&#39;t have the same position, SAMPA0 = &quot;</span> &lt;&lt; mPositionForHalfSampa[0]</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;, SAMPA1 = &quot;</span> &lt;&lt; mPositionForHalfSampa[2] &lt;&lt; <span class="stringliteral">&quot;, SAMPA2 = &quot;</span> &lt;&lt; mPositionForHalfSampa[4];</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a0ca5afa0128e811514bef5062bd6271f">  447</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a0ca5afa0128e811514bef5062bd6271f">GBTFrameContainer::getData</a>(std::vector&lt;Digit&gt;&amp; container)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">//  std::vector&lt;std::vector&lt;int&gt;&gt; iData(5);</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="comment">//  mAdcMutex.lock();</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">//  for (int iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa)</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">//  {</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">//    if (mAdcValues[iHalfSampa]-&gt;size() &lt; 16) continue;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">//    for (int iChannel = 0; iChannel &lt; 16; ++iChannel)</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">//    {</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">//      iData[iHalfSampa].push_back(mAdcValues[iHalfSampa]-&gt;front());</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">//      mAdcValues[iHalfSampa]-&gt;pop();</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">//    }</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">//  mAdcMutex.unlock();</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordtype">bool</span> dataAvailable = <span class="keyword">false</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (mAdcValues[iHalfSampa]-&gt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>() &lt; 16) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      mTmpData[iHalfSampa].fill(0);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    dataAvailable = <span class="keyword">true</span>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iChannel = 0; iChannel &lt; 16; ++iChannel) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      mTmpData[iHalfSampa][iChannel] = mAdcValues[iHalfSampa]-&gt;front();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      mAdcValues[iHalfSampa]-&gt;pop();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (!dataAvailable)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">return</span> dataAvailable;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html">Mapper</a>&amp; mapper = <a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">Mapper::instance</a>();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordtype">int</span> iTimeBin = mTimebin;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordtype">int</span> iSampaChannel;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordtype">int</span> iSampa;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordtype">float</span> iCharge;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordtype">int</span> iRow;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keywordtype">int</span> iPad;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    iSampaChannel =</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      (iHalfSampa == 4)                <span class="comment">// 5th half SAMPA corresponds to  SAMPA2</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        ? ((mCRU % 2) ? 16 : 0)        <span class="comment">// every even CRU receives channel 0-15 from SAMPA 2, the odd ones channel 16-31</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        : ((iHalfSampa % 2) ? 16 : 0); <span class="comment">// every even half SAMPA containes channel 0-15, the odd ones channel 16-31</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    iSampa = (iHalfSampa == 4) ? 2 : (mCRU % 2) ? iHalfSampa / 2 + 3 : iHalfSampa / 2;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">for</span> (std::array&lt;short, 16&gt;::iterator it = mTmpData[iHalfSampa].<a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a1aac9e77cd51f396d2d2cd58a8f591b4">begin</a>(); it != mTmpData[iHalfSampa].end(); ++it) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html">PadPos</a>&amp; padPos = mapper.<a class="code" href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#ae20a362c3f5ad6963caf0a60209ef16e">padPosRegion</a>(</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        mCRU,  <span class="comment">/* region */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        mLink, <span class="comment">/* FEC in region*/</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        iSampa,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        iSampaChannel);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      iRow = padPos.<a class="code" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html#ae17a2620f7d89c680af7abcfc1b6920c">getRow</a>();</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      iPad = padPos.<a class="code" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html#a1ebcf1c6b57c7ef8b5c24a06fcb63508">getPad</a>();</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      iCharge = *it;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      container.emplace_back(mCRU, iCharge, iRow, iPad, iTimeBin);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      ++iSampaChannel;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (dataAvailable)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    ++mTimebin;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">return</span> dataAvailable;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a6da095b8679cc3991db474401fa8e929">  513</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a0ca5afa0128e811514bef5062bd6271f">GBTFrameContainer::getData</a>(std::vector&lt;HalfSAMPAData&gt;&amp; container)</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">bool</span> dataAvailable = <span class="keyword">false</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (mAdcValues[iHalfSampa]-&gt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>() &lt; 16) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      mTmpData[iHalfSampa].fill(0);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    dataAvailable = <span class="keyword">true</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iChannel = 0; iChannel &lt; 16; ++iChannel) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      mTmpData[iHalfSampa][iChannel] = mAdcValues[iHalfSampa]-&gt;front();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      mAdcValues[iHalfSampa]-&gt;pop();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (!dataAvailable)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> dataAvailable;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">//  if (container.size() != 5) {</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"></span>  <span class="comment">//    container.resize(5);</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">//  container.at(0).reset();</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">//  container.at(1).reset();</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">//  container.at(2).reset();</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">//  container.at(3).reset();</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">//  container.at(4).reset();</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">int</span> iSampaChannel;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">int</span> iSampa;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iHalfSampa = 0; iHalfSampa &lt; 5; ++iHalfSampa) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    iSampa = (iHalfSampa == 4) ? 2 : (mCRU % 2) ? iHalfSampa / 2 + 3 : iHalfSampa / 2;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    container.emplace_back(iSampa, !((<span class="keywordtype">bool</span>)mCRU % 2), mTmpData[iHalfSampa]);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">return</span> dataAvailable;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a11ea4862b11e139080615722a4e654d8">  555</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a11ea4862b11e139080615722a4e654d8">GBTFrameContainer::reset</a>()</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Resetting GBT-Frame container&quot;</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  resetAdcClock();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  resetSyncPattern();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  resetAdcValues();</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  mGBTFrames.clear();</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  mGBTFramesAnalyzed = 0;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::resetAdcClock()</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aAdcClock : mAdcClock) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    aAdcClock.reset();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;}</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::resetSyncPattern()</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;{</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aSyncPattern : mSyncPattern) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    aSyncPattern.reset();</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aPositionForHalfSampa : mPositionForHalfSampa) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    aPositionForHalfSampa = -1;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">//  mPositionForHalfSampa.clear();</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="keywordtype">void</span> GBTFrameContainer::resetAdcValues()</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">for</span> (std::array&lt;std::queue&lt;short&gt;*, 5&gt;::iterator it = mAdcValues.begin(); it != mAdcValues.end(); ++it) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">delete</span> (*it);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    (*it) = <span class="keyword">new</span> std::queue&lt;short&gt;;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa560abb82b71acab5ff81dc4985be708">  594</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa560abb82b71acab5ff81dc4985be708">GBTFrameContainer::getNentries</a>()</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;{</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#afa228d201857b67afdee8292f4cb08a8">counter</a> = 0;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  mAdcMutex.lock();</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; aAdcValues : mAdcValues) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    counter += aAdcValues-&gt;size();</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  mAdcMutex.unlock();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#afa228d201857b67afdee8292f4cb08a8">counter</a>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;}</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a46cd1e9f98aa366e55381bdd7f58fe7b">  605</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a46cd1e9f98aa366e55381bdd7f58fe7b">GBTFrameContainer::overwriteAdcClock</a>(<span class="keywordtype">int</span> sampa, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="../../d2/d26/namespaceo2_1_1mch_1_1raw.html#a3fc4d57a128cd9e44c91d41e51045798">phase</a>)</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  phase %= 17;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordtype">unsigned</span> clock = (0xFFFF0000 &gt;&gt; <a class="code" href="../../d2/d26/namespaceo2_1_1mch_1_1raw.html#a3fc4d57a128cd9e44c91d41e51045798">phase</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keywordflow">for</span> (std::vector&lt;GBTFrame&gt;::iterator it = mGBTFrames.begin(); it != mGBTFrames.end(); ++it) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    it-&gt;setAdcClock(sampa, (clock &gt;&gt; 28) &amp; 0xF);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    clock = (clock &lt;&lt; 4) | (clock &gt;&gt; 28);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00028">GPUCommonLogger.h:28</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_aa798eceb8791a63a106e4f746bfc0742"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa798eceb8791a63a106e4f746bfc0742">o2::tpc::GBTFrameContainer::addGBTFrame</a></div><div class="ttdeci">void addGBTFrame(GBTFrame &amp;frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d52/GBTFrameContainer_8h_source.html#l00288">GBTFrameContainer.h:288</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_aa560abb82b71acab5ff81dc4985be708"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#aa560abb82b71acab5ff81dc4985be708">o2::tpc::GBTFrameContainer::getNentries</a></div><div class="ttdeci">int getNentries()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00594">GBTFrameContainer.cxx:594</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Mapper_html"><div class="ttname"><a href="../../de/db6/classo2_1_1tpc_1_1Mapper.html">o2::tpc::Mapper</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h_source.html#l00038">Mapper.h:38</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Mapper_html_ae20a362c3f5ad6963caf0a60209ef16e"><div class="ttname"><a href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#ae20a362c3f5ad6963caf0a60209ef16e">o2::tpc::Mapper::padPosRegion</a></div><div class="ttdeci">const PadPos padPosRegion(const int cruNumber, const int fecInRegion, const int sampaOnFEC, const int channelOnSAMPA) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h_source.html#l00220">Mapper.h:220</a></div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a43d7824acc27a497365ad4b5bc9e67fd"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a43d7824acc27a497365ad4b5bc9e67fd">ids</a></div><div class="ttdeci">GLuint * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00647">glcorearb.h:647</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ab7fb625dfadb7c815fc46d8dd5d6b012"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time frames(excluding borders)&quot;) AddOption(eventStride</div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a1aac9e77cd51f396d2d2cd58a8f591b4"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a1aac9e77cd51f396d2d2cd58a8f591b4">o2::tpc::GBTFrameContainer::begin</a></div><div class="ttdeci">std::vector&lt; GBTFrame &gt;::iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d52/GBTFrameContainer_8h_source.html#l00170">GBTFrameContainer.h:170</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1AdcClockMonitor_html"><div class="ttname"><a href="../../d6/da5/classo2_1_1tpc_1_1AdcClockMonitor.html">o2::tpc::AdcClockMonitor</a></div><div class="ttdoc">Class to monitor the ADC smapling clock contained in the GBT frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d41/AdcClockMonitor_8h_source.html#l00029">AdcClockMonitor.h:29</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1SyncPatternMonitor_html"><div class="ttname"><a href="../../de/da0/classo2_1_1tpc_1_1SyncPatternMonitor.html">o2::tpc::SyncPatternMonitor</a></div><div class="ttdoc">Class to monitor the data stream and detect synchronization patterns. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df0/SyncPatternMonitor_8h_source.html#l00030">SyncPatternMonitor.h:30</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a529eea41e7ca42ce7f71d5383998b7f8"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a529eea41e7ca42ce7f71d5383998b7f8">true</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into true</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00023">qconfigoptions.h:23</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a11ea4862b11e139080615722a4e654d8"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a11ea4862b11e139080615722a4e654d8">o2::tpc::GBTFrameContainer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset function to clear container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00555">GBTFrameContainer.cxx:555</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1Mapper_html_a750b7412728e537ff85ea3dd430ffb4e"><div class="ttname"><a href="../../de/db6/classo2_1_1tpc_1_1Mapper.html#a750b7412728e537ff85ea3dd430ffb4e">o2::tpc::Mapper::instance</a></div><div class="ttdeci">static Mapper &amp; instance(const std::string mappingDir=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d1d/TPC_2base_2include_2TPCBase_2Mapper_8h_source.html#l00041">Mapper.h:41</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a0ca5afa0128e811514bef5062bd6271f"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a0ca5afa0128e811514bef5062bd6271f">o2::tpc::GBTFrameContainer::getData</a></div><div class="ttdeci">bool getData(std::vector&lt; Digit &gt; &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00447">GBTFrameContainer.cxx:447</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a43a860208c606ee76f7082e1cb28caf2"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a43a860208c606ee76f7082e1cb28caf2">o2::tpc::GBTFrameContainer::addGBTFramesFromBinaryFile</a></div><div class="ttdeci">void addGBTFramesFromBinaryFile(std::string fileName, std::string type=&quot;grorc&quot;, int frames=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00091">GBTFrameContainer.cxx:91</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="../../d6/d30/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a4ec87529787bc0bdb5fe03b05264b668"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a4ec87529787bc0bdb5fe03b05264b668">o2::tpc::GBTFrameContainer::~GBTFrameContainer</a></div><div class="ttdeci">~GBTFrameContainer()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00046">GBTFrameContainer.cxx:46</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_a46cd1e9f98aa366e55381bdd7f58fe7b"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#a46cd1e9f98aa366e55381bdd7f58fe7b">o2::tpc::GBTFrameContainer::overwriteAdcClock</a></div><div class="ttdeci">void overwriteAdcClock(int sampa, unsigned short phase)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00605">GBTFrameContainer.cxx:605</a></div></div>
<div class="ttc" id="standalone-cluster-dump-entropy-analysed_8cxx_html_af0baa3ccdd9d2a6adf03b72e2bea5789"><div class="ttname"><a href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a></div><div class="ttdeci">const char * file</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/standalone-cluster-dump-entropy-analysed_8cxx_source.html#l00051">standalone-cluster-dump-entropy-analysed.cxx:51</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_abfcf6a2cd098d93ae36cf4d764ad7d74"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#abfcf6a2cd098d93ae36cf4d764ad7d74">o2::tpc::GBTFrameContainer::reProcessAllFrames</a></div><div class="ttdeci">void reProcessAllFrames()</div><div class="ttdoc">Re-Processes all frames after resetting ADC clock and sync Pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00276">GBTFrameContainer.cxx:276</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_ad9e13e5010e1200ac35625087547f981"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#ad9e13e5010e1200ac35625087547f981">o2::tpc::GBTFrameContainer::addGBTFramesFromFile</a></div><div class="ttdeci">void addGBTFramesFromFile(std::string fileName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00053">GBTFrameContainer.cxx:53</a></div></div>
<div class="ttc" id="namespaceo2_1_1tpc_html"><div class="ttname"><a href="../../d0/d0a/namespaceo2_1_1tpc.html">o2::tpc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbc/SimTraits_8h_source.html#l00152">SimTraits.h:152</a></div></div>
<div class="ttc" id="glcorearb_8h_html_afa228d201857b67afdee8292f4cb08a8"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#afa228d201857b67afdee8292f4cb08a8">counter</a></div><div class="ttdeci">GLuint counter</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l03987">glcorearb.h:3987</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1PadPos_html"><div class="ttname"><a href="../../da/d67/classo2_1_1tpc_1_1PadPos.html">o2::tpc::PadPos</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/PadPos_8h_source.html#l00031">PadPos.h:31</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1PadPos_html_a1ebcf1c6b57c7ef8b5c24a06fcb63508"><div class="ttname"><a href="../../da/d67/classo2_1_1tpc_1_1PadPos.html#a1ebcf1c6b57c7ef8b5c24a06fcb63508">o2::tpc::PadPos::getPad</a></div><div class="ttdeci">unsigned char getPad() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/PadPos_8h_source.html#l00048">PadPos.h:48</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html">o2::tpc::GBTFrameContainer</a></div><div class="ttdoc">GBT Frame container class. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d52/GBTFrameContainer_8h_source.html#l00046">GBTFrameContainer.h:46</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a49825216c96caaeb09237b36651181c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a></div><div class="ttdeci">GLuint GLfloat GLfloat GLfloat x1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05034">glcorearb.h:5034</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a7d05960f4f1c1b11f3177dc963a45d86"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a7d05960f4f1c1b11f3177dc963a45d86">type</a></div><div class="ttdeci">GLint GLint GLsizei GLint GLenum GLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00275">glcorearb.h:275</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a744fbed01658cb96bb8ba7e85a86d1dc"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a744fbed01658cb96bb8ba7e85a86d1dc">distance</a></div><div class="ttdeci">GLsizei GLsizei GLfloat distance</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05506">glcorearb.h:5506</a></div></div>
<div class="ttc" id="namespaceo2_1_1mch_1_1raw_html_a3fc4d57a128cd9e44c91d41e51045798"><div class="ttname"><a href="../../d2/d26/namespaceo2_1_1mch_1_1raw.html#a3fc4d57a128cd9e44c91d41e51045798">o2::mch::raw::phase</a></div><div class="ttdeci">int phase(int i, bool forceNoPhase)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/GBTEncoder_8h_source.html#l00093">GBTEncoder.h:93</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a5ffadbbacc6b89cf6218bc43b384d3fe"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a5ffadbbacc6b89cf6218bc43b384d3fe">right</a></div><div class="ttdeci">GLdouble GLdouble right</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l04077">glcorearb.h:4077</a></div></div>
<div class="ttc" id="GBTFrameContainer_8h_html"><div class="ttname"><a href="../../db/d52/GBTFrameContainer_8h.html">GBTFrameContainer.h</a></div><div class="ttdoc">Container class for the GBT Frames. </div></div>
<div class="ttc" id="classo2_1_1tpc_1_1GBTFrameContainer_html_af63e428527d6dfcce59dfaec282e4a4d"><div class="ttname"><a href="../../d0/de0/classo2_1_1tpc_1_1GBTFrameContainer.html#af63e428527d6dfcce59dfaec282e4a4d">o2::tpc::GBTFrameContainer::GBTFrameContainer</a></div><div class="ttdeci">GBTFrameContainer()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dfc/GBTFrameContainer_8cxx_source.html#l00020">GBTFrameContainer.cxx:20</a></div></div>
<div class="ttc" id="classo2_1_1tpc_1_1PadPos_html_ae17a2620f7d89c680af7abcfc1b6920c"><div class="ttname"><a href="../../da/d67/classo2_1_1tpc_1_1PadPos.html#ae17a2620f7d89c680af7abcfc1b6920c">o2::tpc::PadPos::getRow</a></div><div class="ttdeci">unsigned char getRow() const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/PadPos_8h_source.html#l00044">PadPos.h:44</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_a597e8e061b11201a1dff411feb10d0b.html">TPC</a></li><li class="navelem"><a class="el" href="../../dir_a5de047958dd458e809773c6ffaa8478.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_0c8c50542de1d83a040084fab225b0f7.html">src</a></li><li class="navelem"><a class="el" href="../../d4/dfc/GBTFrameContainer_8cxx.html">GBTFrameContainer.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:31 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
