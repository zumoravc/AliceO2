<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/GPU/GPUTracking/Merger/GPUTPCGlobalMergerComponent.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GPUTPCGlobalMergerComponent.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d31/GPUTPCGlobalMergerComponent_8h.html">GPUTPCGlobalMergerComponent.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/de8/GPUReconstruction_8h.html">GPUReconstruction.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/ded/GPUChainTracking_8h.html">GPUChainTracking.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d4b/GPUTPCSliceOutput_8h.html">GPUTPCSliceOutput.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/dab/GPUTPCDef_8h.html">GPUTPCDef.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dcf/GPUTPCGMMerger_8h.html">GPUTPCGMMerger.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/dfd/GPUTPCGMMergedTrack_8h.html">GPUTPCGMMergedTrack.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;AliHLTTPCDefinitions.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/df9/GPUTPCDefinitions_8h.html">GPUTPCDefinitions.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;AliHLTTPCGeometry.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;AliExternalTrackParam.h&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;AliCDBEntry.h&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;AliCDBManager.h&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;TObjString.h&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;TObjArray.h&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;AliHLTExternalTrackParam.h&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;cerrno&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html">GPUCA_NAMESPACE::gpu</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// ROOT macro for the implementation of ROOT specific class methods</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx.html#a95fa8e18333be4d3a5bceccdd78b1bc3">ClassImp</a>(<a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html">GPUTPCGlobalMergerComponent</a>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">const</span> <a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html">GPUChainTracking</a>* GPUTPCGlobalMergerComponent::fgCurrentMergerReconstruction = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a82d44c172d252715cdb3fcbd6db730a8">   47</a></span>&#160;<a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a82d44c172d252715cdb3fcbd6db730a8">GPUTPCGlobalMergerComponent::GPUTPCGlobalMergerComponent</a>() : <a class="code" href="../../d9/d9e/classAliHLTProcessor.html">AliHLTProcessor</a>(), fSolenoidBz(0), fClusterErrorCorrectionY(0), fClusterErrorCorrectionZ(0), fNWays(1), fNWaysOuter(0), fNoClear(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a>), fBenchmark(<span class="stringliteral">&quot;GlobalMerger&quot;</span>), fRec(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>), fChain(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a82d44c172d252715cdb3fcbd6db730a8">GPUTPCGlobalMergerComponent::GPUTPCGlobalMergerComponent</a>(<span class="keyword">const</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html">GPUTPCGlobalMergerComponent</a>&amp;) : <a class="code" href="../../d9/d9e/classAliHLTProcessor.html">AliHLTProcessor</a>(), fSolenoidBz(0), fClusterErrorCorrectionY(0), fClusterErrorCorrectionZ(0), fNWays(1), fNWaysOuter(0), fNoClear(<span class="keyword">false</span>), fBenchmark(<span class="stringliteral">&quot;GlobalMerger&quot;</span>), fRec(<span class="keyword">nullptr</span>), fChain(<span class="keyword">nullptr</span>)</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">// dummy</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html">GPUTPCGlobalMergerComponent</a>&amp; GPUTPCGlobalMergerComponent::operator=(<span class="keyword">const</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html">GPUTPCGlobalMergerComponent</a>&amp;)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// dummy</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a01e72c9fcc338562c1801c114fdfc4de">   63</a></span>&#160;<a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a01e72c9fcc338562c1801c114fdfc4de">GPUTPCGlobalMergerComponent::~GPUTPCGlobalMergerComponent</a>()</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (fRec) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">delete</span> fRec;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// Public functions to implement AliHLTComponent&#39;s interface.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// These functions are required for the registration process</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a350520ea7dadd9786004d6ee2325eefc">   73</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a350520ea7dadd9786004d6ee2325eefc">GPUTPCGlobalMergerComponent::GetComponentID</a>()</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;TPCCAGlobalMerger&quot;</span>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a38aeb67e6cf288a0fec965cb62e72998">   79</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a38aeb67e6cf288a0fec965cb62e72998">GPUTPCGlobalMergerComponent::GetInputDataTypes</a>(AliHLTComponentDataTypeList&amp; list)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  list.clear();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  list.push_back(<a class="code" href="../../d1/dff/namespaceGPUTPCDefinitions.html#a5f8f5cb8875ceb78fcb36a8b8e1a4d0e">GPUTPCDefinitions::fgkTrackletsDataType</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a5c3d8f5f314cfcbb0dca7f66a6b4dd29">   86</a></span>&#160;<a class="code" href="../../df/dcd/structAliHLTComponentDataType.html">AliHLTComponentDataType</a> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a5c3d8f5f314cfcbb0dca7f66a6b4dd29">GPUTPCGlobalMergerComponent::GetOutputDataType</a>()</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#ga14d4bca1ae9ad4c9d04acd665141d32e">kAliHLTMultipleDataType</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a9c2e145c1835fd3562960f346110bd00">   92</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a9c2e145c1835fd3562960f346110bd00">GPUTPCGlobalMergerComponent::GetOutputDataTypes</a>(AliHLTComponentDataTypeList&amp; tgtList)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  tgtList.clear();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  tgtList.push_back(<a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gad7e814a010c81dbb0518424017c1d64a">kAliHLTDataTypeTrack</a> | <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gaf01ecfa1bc2ee0e51827be54884f137c">kAliHLTDataOriginTPC</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  tgtList.push_back(AliHLTTPCDefinitions::TracksOuterDataType() | <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gaf01ecfa1bc2ee0e51827be54884f137c">kAliHLTDataOriginTPC</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> tgtList.size();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#ae4f901f6f271bb140dfc9c2958a11d26">  102</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#ae4f901f6f271bb140dfc9c2958a11d26">GPUTPCGlobalMergerComponent::GetOutputDataSize</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>&amp; constBase, <span class="keywordtype">double</span>&amp; inputMultiplier)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// XXX TODO: Find more realistic values.</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  constBase = 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  inputMultiplier = 1.0;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a10ac0eac6534b72de27b77a892f300e4">  110</a></span>&#160;AliHLTComponent* <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a10ac0eac6534b72de27b77a892f300e4">GPUTPCGlobalMergerComponent::Spawn</a>()</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a82d44c172d252715cdb3fcbd6db730a8">GPUTPCGlobalMergerComponent</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">void</span> GPUTPCGlobalMergerComponent::SetDefaultConfiguration()</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Set default configuration for the CA merger component</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// Some parameters can be later overwritten from the OCDB</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  fSolenoidBz = -5.00668;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  fClusterErrorCorrectionY = 0;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  fClusterErrorCorrectionZ = 1.1;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  fNWays = 1;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  fNWaysOuter = 0;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  fNoClear = <span class="keyword">false</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  fBenchmark.Reset();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  fBenchmark.SetTimer(0, <span class="stringliteral">&quot;total&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  fBenchmark.SetTimer(1, <span class="stringliteral">&quot;reco&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keywordtype">int</span> GPUTPCGlobalMergerComponent::ReadConfigurationString(<span class="keyword">const</span> <span class="keywordtype">char</span>* arguments)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Set configuration parameters for the CA merger component from the string</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> iResult = 0;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (!arguments) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  TString allArgs = arguments;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  TString argument;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">int</span> bMissingParam = 0;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  TObjArray* pTokens = allArgs.Tokenize(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">int</span> nArgs = pTokens ? pTokens-&gt;GetEntries() : 0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nArgs; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    argument = ((TObjString*)pTokens-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>))-&gt;GetString();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (argument.IsNull()) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-solenoidBz&quot;</span>) == 0) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">if</span> ((bMissingParam = (++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= pTokens-&gt;GetEntries()))) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      HLTWarning(<span class="stringliteral">&quot;argument -solenoidBz is deprecated, magnetic field set up globally (%f)&quot;</span>, GetBz());</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-errorCorrectionY&quot;</span>) == 0) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">if</span> ((bMissingParam = (++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= pTokens-&gt;GetEntries()))) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      fClusterErrorCorrectionY = ((TObjString*)pTokens-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>))-&gt;GetString().Atof();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      HLTInfo(<span class="stringliteral">&quot;Cluster Y error correction factor set to: %f&quot;</span>, fClusterErrorCorrectionY);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-errorCorrectionZ&quot;</span>) == 0) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">if</span> ((bMissingParam = (++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= pTokens-&gt;GetEntries()))) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      fClusterErrorCorrectionZ = ((TObjString*)pTokens-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>))-&gt;GetString().Atof();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      HLTInfo(<span class="stringliteral">&quot;Cluster Z error correction factor set to: %f&quot;</span>, fClusterErrorCorrectionZ);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-nways&quot;</span>) == 0) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">if</span> ((bMissingParam = (++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= pTokens-&gt;GetEntries()))) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      fNWays = ((TObjString*)pTokens-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>))-&gt;GetString().Atoi();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      HLTInfo(<span class="stringliteral">&quot;nways set to: %d&quot;</span>, fNWays);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-nwaysouter&quot;</span>) == 0) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      fNWaysOuter = 1;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      HLTInfo(<span class="stringliteral">&quot;nwaysouter enabled&quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (argument.CompareTo(<span class="stringliteral">&quot;-noclear&quot;</span>) == 0) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      fNoClear = <span class="keyword">true</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      HLTInfo(<span class="stringliteral">&quot;noclear enabled&quot;</span>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    HLTError(<span class="stringliteral">&quot;Unknown option \&quot;%s\&quot;&quot;</span>, argument.Data());</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    iResult = -EINVAL;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">delete</span> pTokens;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (bMissingParam) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    HLTError(<span class="stringliteral">&quot;Specifier missed for parameter \&quot;%s\&quot;&quot;</span>, argument.Data());</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    iResult = -EINVAL;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="keywordtype">int</span> GPUTPCGlobalMergerComponent::ReadCDBEntry(<span class="keyword">const</span> <span class="keywordtype">char</span>* cdbEntry, <span class="keyword">const</span> <span class="keywordtype">char</span>* chainId)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* defaultNotify = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (!cdbEntry) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    cdbEntry = <span class="stringliteral">&quot;HLT/ConfigTPC/TPCCAGlobalMerger&quot;</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    defaultNotify = <span class="stringliteral">&quot; (default)&quot;</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    chainId = 0;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  HLTInfo(<span class="stringliteral">&quot;configure from entry \&quot;%s\&quot;%s, chain id %s&quot;</span>, cdbEntry, defaultNotify, (chainId != <span class="keyword">nullptr</span> &amp;&amp; chainId[0] != 0) ? chainId : <span class="stringliteral">&quot;&lt;none&gt;&quot;</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  AliCDBEntry* pEntry = AliCDBManager::Instance()-&gt;Get(cdbEntry); <span class="comment">//,GetRunNo());</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (!pEntry) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    HLTError(<span class="stringliteral">&quot;cannot fetch object \&quot;%s\&quot; from CDB&quot;</span>, cdbEntry);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  TObjString* pString = <span class="keyword">dynamic_cast&lt;</span>TObjString*<span class="keyword">&gt;</span>(pEntry-&gt;GetObject());</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (!pString) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    HLTError(<span class="stringliteral">&quot;configuration object \&quot;%s\&quot; has wrong type, required TObjString&quot;</span>, cdbEntry);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  HLTInfo(<span class="stringliteral">&quot;received configuration object string: \&quot;%s\&quot;&quot;</span>, pString-&gt;GetString().Data());</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> ReadConfigurationString(pString-&gt;GetString().Data());</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordtype">int</span> GPUTPCGlobalMergerComponent::Configure(<span class="keyword">const</span> <span class="keywordtype">char</span>* cdbEntry, <span class="keyword">const</span> <span class="keywordtype">char</span>* chainId, <span class="keyword">const</span> <span class="keywordtype">char</span>* commandLine)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// Configure the component</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// There are few levels of configuration,</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// parameters which are set on one step can be overwritten on the next step</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">//* read hard-coded values</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  SetDefaultConfiguration();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">//* read the default CDB entry</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordtype">int</span> iResult = ReadCDBEntry(<span class="keyword">nullptr</span>, chainId);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">if</span> (iResult) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">//* read magnetic field</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  fSolenoidBz = GetBz();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">//* read the actual CDB entry if required</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  iResult = (cdbEntry) ? ReadCDBEntry(cdbEntry, chainId) : 0;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (iResult) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">//* read extra parameters from input (if they are)</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">if</span> (commandLine &amp;&amp; commandLine[0] != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    HLTInfo(<span class="stringliteral">&quot;received configuration string from HLT framework: \&quot;%s\&quot;&quot;</span>, commandLine);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    iResult = ReadConfigurationString(commandLine);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (iResult) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  fRec = GPUReconstruction::CreateInstance(<span class="stringliteral">&quot;CPU&quot;</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (fRec == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  fChain = fRec-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a06f6c8789dc88b6269cf1820902c5491">AddChain</a>&lt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html">GPUChainTracking</a>&gt;();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// Initialize the merger</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="../../d0/d50/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsEvent.html">GPUSettingsEvent</a> ev;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html">GPUSettingsRec</a> <a class="code" href="../../dc/df9/standalone_8cxx.html#a89fc507a8313a2c8530b05526aee23af">rec</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html">GPUSettingsDeviceProcessing</a> devProc;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  ev.solenoidBz = fSolenoidBz;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (fClusterErrorCorrectionY &gt; 1.<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#acbdadb83c3baec073953aea7e58befa1">ClusterError2CorrectionY</a> = fClusterErrorCorrectionY * fClusterErrorCorrectionY;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (fClusterErrorCorrectionZ &gt; 1.<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a611b2a61e467d3865a7acd78f73ed419">ClusterError2CorrectionZ</a> = fClusterErrorCorrectionZ * fClusterErrorCorrectionZ;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a7ddb13a02b51e944b0e944f15a3272d2">NWays</a> = fNWays;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#abc3674b857f0c613f3fd7218ec6ad517">NWaysOuter</a> = fNWaysOuter;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a05b24e2406d49e295e1b2146d5295938">mergerInterpolateErrors</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a34b0182618d30abd4afe9f5bcb5d88aa">NonConsecutiveIDs</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  rec.<a class="code" href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a05aac007c267ece17e3dbe53bb25ffbe">mergerReadFromTrackerDirectly</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  GPURecoStepConfiguration steps;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  steps.steps.set(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">GPUDataTypes::RecoStep::TPCMerging</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  steps.inputs.set(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">GPUDataTypes::InOutType::TPCSectorTracks</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  steps.outputs.set(<a class="code" href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">GPUDataTypes::InOutType::TPCMergedTracks</a>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  fRec-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a235f513621da9d6b083a3b3182e6cd8a">SetSettings</a>(&amp;ev, &amp;rec, &amp;devProc, &amp;steps);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a20f2279925348c696a820ac975b7c111">LoadClusterErrors</a>();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (fRec-&gt;<a class="code" href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a60d26a34db693e3c525c034ae3d13017">Init</a>()) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aa4b12257b0c8d136a1c3d6f057e01b15">  323</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aa4b12257b0c8d136a1c3d6f057e01b15">GPUTPCGlobalMergerComponent::DoInit</a>(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  TString arguments = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; argc; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (!arguments.IsNull()) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      arguments += <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    arguments += argv[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keywordtype">int</span> retVal = Configure(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, arguments.Data());</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">return</span> retVal;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#af323bc97d9b3fda927e149dbbf659e90">  340</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#af323bc97d9b3fda927e149dbbf659e90">GPUTPCGlobalMergerComponent::Reconfigure</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* cdbEntry, <span class="keyword">const</span> <span class="keywordtype">char</span>* chainId)</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// Reconfigure the component from OCDB</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">return</span> Configure(cdbEntry, chainId, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a1b94deeeac8e731d9eb026501430cbc5">  347</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a1b94deeeac8e731d9eb026501430cbc5">GPUTPCGlobalMergerComponent::DoDeinit</a>()</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (fChain == fgCurrentMergerReconstruction) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    fgCurrentMergerReconstruction = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keyword">delete</span> fRec;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  fRec = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a0a0ce10850fb7ab7e110ca78b2f3882f">  359</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a0a0ce10850fb7ab7e110ca78b2f3882f">GPUTPCGlobalMergerComponent::DoEvent</a>(<span class="keyword">const</span> <a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>&amp; evtData, <span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* blocks, <a class="code" href="../../df/da3/structAliHLTComponentTriggerData.html">AliHLTComponentTriggerData</a>&amp; <span class="comment">/*trigData*/</span>, <a class="code" href="../../d6/d34/AliHLTDataTypes_8h.html#acc61b8691f8bc3c8d3d77c9917200eae">AliHLTUInt8_t</a>* outputPtr, <a class="code" href="../../d6/d34/AliHLTDataTypes_8h.html#ab270f2a63073d5058f6e4479f21eae38">AliHLTUInt32_t</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, AliHLTComponentBlockDataList&amp; outputBlocks)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// see header file for class documentation</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">int</span> iResult = 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxBufferSize = <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  size = 0;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">if</span> (!outputPtr) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">return</span> -ENOSPC;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (!IsDataEvent()) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  fBenchmark.StartNewEvent();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  fBenchmark.Start(0);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().<a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a6cef8054e03f50c256a17efb5ac02897">Clear</a>();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordtype">int</span> nSlicesSet = 0;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* <span class="keyword">const</span> blocksEnd = blocks + evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* block = blocks; block &lt; blocksEnd; ++block) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (block-&gt;fDataType != <a class="code" href="../../d1/dff/namespaceGPUTPCDefinitions.html#a5f8f5cb8875ceb78fcb36a8b8e1a4d0e">GPUTPCDefinitions::fgkTrackletsDataType</a>) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    fBenchmark.AddInput(block-&gt;fSize);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">int</span> slice = AliHLTTPCDefinitions::GetMinSliceNr(*block);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (slice &lt; 0 || slice &gt;= AliHLTTPCGeometry::GetNSlice()) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      HLTError(<span class="stringliteral">&quot;invalid slice number %d extracted from specification 0x%08lx,  skipping block of type %s&quot;</span>, slice, block-&gt;fSpecification, DataType2Text(block-&gt;fDataType).c_str());</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">// just remember the error, if there are other valid blocks ignore the error, return code otherwise</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      iResult = -EBADF;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (slice != AliHLTTPCDefinitions::GetMaxSliceNr(*block)) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">// the code was not written for/ never used with multiple slices in one data block/ specification</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      HLTWarning(<span class="stringliteral">&quot;specification 0x%08lx indicates multiple slices in data block %s: never used before, please audit the code&quot;</span>, block-&gt;fSpecification, DataType2Text(block-&gt;fDataType).c_str());</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="../../df/dea/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCSliceOutput.html">GPUTPCSliceOutput</a>* sliceOut = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../df/dea/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCSliceOutput.html">GPUTPCSliceOutput</a>*<span class="keyword">&gt;</span>(block-&gt;fPtr);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().<a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#af7a61d8eb15e97ffa2a8f2a81bee8cc9">SetSliceData</a>(slice, sliceOut);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    nSlicesSet++;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">if</span> (nSlicesSet != 36) {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (nSlicesSet != 0) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      HLTError(<span class="stringliteral">&quot;Incomplete input data&quot;</span>);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> (-EINVAL);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  fBenchmark.Start(1);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4">RunTPCTrackingMerger</a>();</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  fBenchmark.Stop(1);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">// Fill output</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mySize = 0;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    AliHLTTracksData* outPtr = (AliHLTTracksData*)(outputPtr);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    AliHLTExternalTrackParam* currOutTrack = outPtr-&gt;fTracklets;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    mySize = ((<a class="code" href="../../d6/d34/AliHLTDataTypes_8h.html#acc61b8691f8bc3c8d3d77c9917200eae">AliHLTUInt8_t</a>*)currOutTrack) - ((<a class="code" href="../../d6/d34/AliHLTDataTypes_8h.html#acc61b8691f8bc3c8d3d77c9917200eae">AliHLTUInt8_t</a>*)outputPtr);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    outPtr-&gt;fCount = 0;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">int</span> nTracks = fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().NOutputTracks();</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> itr = 0; itr &lt; nTracks; itr++) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">// convert GPUTPCGMMergedTrack to AliHLTTrack</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d3/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack.html">GPUTPCGMMergedTrack</a>&amp; track = fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().OutputTracks()[itr];</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">if</span> (!track.OK()) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dSize = <span class="keyword">sizeof</span>(AliHLTExternalTrackParam) + track.NClusters() * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">if</span> (mySize + dSize &gt; maxBufferSize) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        HLTWarning(<span class="stringliteral">&quot;Output buffer size exceed (buffer size %d, current size %d), %d tracks are not stored&quot;</span>, maxBufferSize, mySize, nTracks - itr + 1);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        iResult = -ENOSPC;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="comment">// first convert to AliExternalTrackParam</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      AliExternalTrackParam tp;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      track.GetParam().GetExtParam(tp, track.GetAlpha());</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <span class="comment">// normalize the angle to +-Pi</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      currOutTrack-&gt;fAlpha = tp.GetAlpha() - CAMath::Nint(tp.GetAlpha() / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">CAMath::TwoPi</a>()) * <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">CAMath::TwoPi</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      currOutTrack-&gt;fX = tp.GetX();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      currOutTrack-&gt;fY = tp.GetY();</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      currOutTrack-&gt;fZ = tp.GetZ();</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      currOutTrack-&gt;fLastX = track.LastX();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      currOutTrack-&gt;fLastY = track.LastY();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      currOutTrack-&gt;fLastZ = track.LastZ();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      currOutTrack-&gt;fq1Pt = tp.GetSigned1Pt();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      currOutTrack-&gt;fSinPhi = tp.GetSnp();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      currOutTrack-&gt;fTgl = tp.GetTgl();</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 15; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        currOutTrack-&gt;fC[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tp.GetCovariance()[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      currOutTrack-&gt;fTrackID = itr;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      currOutTrack-&gt;fFlags = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      currOutTrack-&gt;fNPoints = 0;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; track.NClusters(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">if</span> (fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().Clusters()[track.FirstClusterRef() + <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].state &amp; GPUTPCGMMergedTrackHit::flagReject) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        currOutTrack-&gt;fPointIDs[currOutTrack-&gt;fNPoints++] = fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().Clusters()[track.FirstClusterRef() + <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].num;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      dSize = <span class="keyword">sizeof</span>(AliHLTExternalTrackParam) + currOutTrack-&gt;fNPoints * <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      currOutTrack = (AliHLTExternalTrackParam*)(((Byte_t*)currOutTrack) + dSize);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      mySize += dSize;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      outPtr-&gt;fCount++;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a> resultData;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    FillBlockData(resultData);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#a717a40d9fa7aa7891f59d62e81b3639c">fOffset</a> = 0;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a> = mySize;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">fDataType</a> = <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gad7e814a010c81dbb0518424017c1d64a">kAliHLTDataTypeTrack</a> | <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gaf01ecfa1bc2ee0e51827be54884f137c">kAliHLTDataOriginTPC</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#aaebb04fa78b36812fcd7279474cfb2a4">fSpecification</a> = AliHLTTPCDefinitions::EncodeDataSpecification(0, 35, 0, 5);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    outputBlocks.push_back(resultData);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    fBenchmark.AddOutput(resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    size = resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (fNWays &gt; 1 &amp;&amp; fNWaysOuter) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newSize = 0;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    AliHLTTracksData* outPtr = (AliHLTTracksData*)(outputPtr + size);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    AliHLTExternalTrackParam* currOutTrack = outPtr-&gt;fTracklets;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    newSize = ((<a class="code" href="../../d6/d34/AliHLTDataTypes_8h.html#acc61b8691f8bc3c8d3d77c9917200eae">AliHLTUInt8_t</a>*)currOutTrack) - (outputPtr + <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    outPtr-&gt;fCount = 0;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">int</span> nTracks = fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().NOutputTracks();</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> itr = 0; itr &lt; nTracks; itr++) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d3/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack.html">GPUTPCGMMergedTrack</a>&amp; track = fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().OutputTracks()[itr];</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">if</span> (!track.OK()) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dSize = <span class="keyword">sizeof</span>(AliHLTExternalTrackParam);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">if</span> (mySize + newSize + dSize &gt; maxBufferSize) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        HLTWarning(<span class="stringliteral">&quot;Output buffer size exceed (buffer size %d, current size %d), %d tracks are not stored&quot;</span>, maxBufferSize, mySize + newSize + dSize, nTracks - itr + 1);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        iResult = -ENOSPC;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <span class="comment">// first convert to AliExternalTrackParam</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      AliExternalTrackParam tp;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      track.GetParam().GetExtParam(tp, track.GetAlpha());</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="comment">// normalize the angle to +-Pi</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      currOutTrack-&gt;fAlpha = track.OuterParam().alpha - CAMath::Nint(tp.GetAlpha() / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">CAMath::TwoPi</a>()) * <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">CAMath::TwoPi</a>();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      currOutTrack-&gt;fX = track.OuterParam().X;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      currOutTrack-&gt;fY = track.OuterParam().P[0];</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      currOutTrack-&gt;fZ = track.OuterParam().P[1];</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      currOutTrack-&gt;fLastX = track.LastX();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      currOutTrack-&gt;fLastY = track.LastY();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      currOutTrack-&gt;fLastZ = track.LastZ();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      currOutTrack-&gt;fq1Pt = track.OuterParam().P[4];</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      currOutTrack-&gt;fSinPhi = track.OuterParam().P[2];</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      currOutTrack-&gt;fTgl = track.OuterParam().P[3];</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 15; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        currOutTrack-&gt;fC[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = track.OuterParam().C[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      currOutTrack-&gt;fTrackID = itr;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      currOutTrack-&gt;fFlags = 0;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      currOutTrack-&gt;fNPoints = 0;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      currOutTrack = (AliHLTExternalTrackParam*)(((Byte_t*)currOutTrack) + dSize);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      newSize += dSize;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      outPtr-&gt;fCount++;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a> resultData;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    FillBlockData(resultData);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#a717a40d9fa7aa7891f59d62e81b3639c">fOffset</a> = mySize;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a> = newSize;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">fDataType</a> = AliHLTTPCDefinitions::TracksOuterDataType() | <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gaf01ecfa1bc2ee0e51827be54884f137c">kAliHLTDataOriginTPC</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#aaebb04fa78b36812fcd7279474cfb2a4">fSpecification</a> = AliHLTTPCDefinitions::EncodeDataSpecification(0, 35, 0, 5);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    outputBlocks.push_back(resultData);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    fBenchmark.AddOutput(resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    size = resultData.<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  HLTInfo(<span class="stringliteral">&quot;CAGlobalMerger:: output %d tracks / %d hits&quot;</span>, fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().NOutputTracks(), fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().NOutputTrackClusters());</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">if</span> (fNoClear) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    fgCurrentMergerReconstruction = fChain;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    fChain-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>().<a class="code" href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a6cef8054e03f50c256a17efb5ac02897">Clear</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  fBenchmark.Stop(0);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  HLTInfo(fBenchmark.GetStatistics());</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">return</span> iResult;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aadafbfc361179b27e7c43c055c1a3cb6">  563</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUTPCGMMerger</a>* <a class="code" href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aadafbfc361179b27e7c43c055c1a3cb6">GPUTPCGlobalMergerComponent::GetCurrentMerger</a>()</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">if</span> (fgCurrentMergerReconstruction == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">return</span> &amp;fgCurrentMergerReconstruction-&gt;<a class="code" href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GetTPCMerger</a>();</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div><div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html">GPUCA_NAMESPACE::gpu::GPUSettingsRec</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00044">GPUSettings.h:44</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_ac681d45448dde27bc0be6674746a3163"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">AliHLTComponentBlockData::fDataType</a></div><div class="ttdeci">AliHLTComponentDataType fDataType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00868">AliHLTDataTypes.h:868</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a34b0182618d30abd4afe9f5bcb5d88aa"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a34b0182618d30abd4afe9f5bcb5d88aa">GPUCA_NAMESPACE::gpu::GPUSettingsRec::NonConsecutiveIDs</a></div><div class="ttdeci">char NonConsecutiveIDs</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00067">GPUSettings.h:67</a></div></div>
<div class="ttc" id="GPUTPCGlobalMergerComponent_8h_html"><div class="ttname"><a href="../../db/d31/GPUTPCGlobalMergerComponent_8h.html">GPUTPCGlobalMergerComponent.h</a></div><div class="ttdoc">HLT TPC CA global merger component. </div></div>
<div class="ttc" id="structAliHLTComponentEventData_html"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00800">AliHLTDataTypes.h:800</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_ga14d4bca1ae9ad4c9d04acd665141d32e"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#ga14d4bca1ae9ad4c9d04acd665141d32e">kAliHLTMultipleDataType</a></div><div class="ttdeci">const AliHLTComponentDataType kAliHLTMultipleDataType</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCSliceOutput_html"><div class="ttname"><a href="../../df/dea/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCSliceOutput.html">GPUCA_NAMESPACE::gpu::GPUTPCSliceOutput</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4b/GPUTPCSliceOutput_8h_source.html#l00037">GPUTPCSliceOutput.h:37</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_abc3674b857f0c613f3fd7218ec6ad517"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#abc3674b857f0c613f3fd7218ec6ad517">GPUCA_NAMESPACE::gpu::GPUSettingsRec::NWaysOuter</a></div><div class="ttdeci">char NWaysOuter</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00062">GPUSettings.h:62</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a5c3d8f5f314cfcbb0dca7f66a6b4dd29"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a5c3d8f5f314cfcbb0dca7f66a6b4dd29">GPUTPCGlobalMergerComponent::GetOutputDataType</a></div><div class="ttdeci">AliHLTComponentDataType GetOutputDataType()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00086">GPUTPCGlobalMergerComponent.cxx:86</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_af323bc97d9b3fda927e149dbbf659e90"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#af323bc97d9b3fda927e149dbbf659e90">GPUTPCGlobalMergerComponent::Reconfigure</a></div><div class="ttdeci">int Reconfigure(const char *cdbEntry, const char *chainId)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00340">GPUTPCGlobalMergerComponent.cxx:340</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor_html_a6cef8054e03f50c256a17efb5ac02897"><div class="ttname"><a href="../../d0/dd7/classGPUCA__NAMESPACE_1_1gpu_1_1GPUProcessor.html#a6cef8054e03f50c256a17efb5ac02897">GPUCA_NAMESPACE::gpu::GPUProcessor::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d53/GPUProcessor_8cxx_source.html#l00039">GPUProcessor.cxx:39</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a82d44c172d252715cdb3fcbd6db730a8"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a82d44c172d252715cdb3fcbd6db730a8">GPUTPCGlobalMergerComponent::GPUTPCGlobalMergerComponent</a></div><div class="ttdeci">GPUTPCGlobalMergerComponent()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00047">GPUTPCGlobalMergerComponent.cxx:47</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a0a0ce10850fb7ab7e110ca78b2f3882f"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a0a0ce10850fb7ab7e110ca78b2f3882f">GPUTPCGlobalMergerComponent::DoEvent</a></div><div class="ttdeci">int DoEvent(const AliHLTComponentEventData &amp;evtData, const AliHLTComponentBlockData *blocks, AliHLTComponentTriggerData &amp;trigData, AliHLTUInt8_t *outputPtr, AliHLTUInt32_t &amp;size, AliHLTComponentBlockDataList &amp;outputBlocks)</div><div class="ttdoc">AliHLTProcessor::DoEvent </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00359">GPUTPCGlobalMergerComponent.cxx:359</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ab4af2e82c5013fd3c08d8ae11d3a7700"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ab4af2e82c5013fd3c08d8ae11d3a7700">TPCMergedTracks</a></div><div class="ttdeci">TPCMergedTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00120">GPUDataTypes.h:120</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1constants_1_1math_html_ab8ae067bdc328b3dede71d13994af907"><div class="ttname"><a href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">o2::its::constants::math::TwoPi</a></div><div class="ttdeci">constexpr float TwoPi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/Detectors_2ITSMFT_2ITS_2tracking_2include_2ITStracking_2Constants_8h_source.html#l00038">Constants.h:38</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack_html"><div class="ttname"><a href="../../d3/dd9/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMergedTrack.html">GPUCA_NAMESPACE::gpu::GPUTPCGMMergedTrack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dfd/GPUTPCGMMergedTrack_8h_source.html#l00030">GPUTPCGMMergedTrack.h:30</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d76/Cartesian3D_8h_source.html#l00229">Cartesian3D.h:229</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_ac14b6145587919ad595a8fa139c7dcc7"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#ac14b6145587919ad595a8fa139c7dcc7">TPCSectorTracks</a></div><div class="ttdeci">TPCSectorTracks</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00119">GPUDataTypes.h:119</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html">GPUTPCGlobalMergerComponent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d31/GPUTPCGlobalMergerComponent_8h_source.html#l00047">GPUTPCGlobalMergerComponent.h:47</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a9c2e145c1835fd3562960f346110bd00"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a9c2e145c1835fd3562960f346110bd00">GPUTPCGlobalMergerComponent::GetOutputDataTypes</a></div><div class="ttdeci">int GetOutputDataTypes(AliHLTComponentDataTypeList &amp;tgtList)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00092">GPUTPCGlobalMergerComponent.cxx:92</a></div></div>
<div class="ttc" id="GPUTPCGlobalMergerComponent_8cxx_html_a95fa8e18333be4d3a5bceccdd78b1bc3"><div class="ttname"><a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx.html#a95fa8e18333be4d3a5bceccdd78b1bc3">ClassImp</a></div><div class="ttdeci">ClassImp(GPUTPCGlobalMergerComponent)</div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a60d26a34db693e3c525c034ae3d13017"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a60d26a34db693e3c525c034ae3d13017">GPUCA_NAMESPACE::gpu::GPUReconstruction::Init</a></div><div class="ttdeci">int Init()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00093">GPUReconstruction.cxx:93</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ad08a37964429d340d966dfa679443e8f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="GPUTPCGMMergedTrack_8h_html"><div class="ttname"><a href="../../d8/dfd/GPUTPCGMMergedTrack_8h.html">GPUTPCGMMergedTrack.h</a></div></div>
<div class="ttc" id="structAliHLTComponentTriggerData_html"><div class="ttname"><a href="../../df/da3/structAliHLTComponentTriggerData.html">AliHLTComponentTriggerData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l01033">AliHLTDataTypes.h:1033</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsEvent_html"><div class="ttname"><a href="../../d0/d50/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsEvent.html">GPUCA_NAMESPACE::gpu::GPUSettingsEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00093">GPUSettings.h:93</a></div></div>
<div class="ttc" id="standalone_8cxx_html_a89fc507a8313a2c8530b05526aee23af"><div class="ttname"><a href="../../dc/df9/standalone_8cxx.html#a89fc507a8313a2c8530b05526aee23af">rec</a></div><div class="ttdeci">GPUReconstruction * rec</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df9/standalone_8cxx_source.html#l00075">standalone.cxx:75</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_gad7e814a010c81dbb0518424017c1d64a"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#gad7e814a010c81dbb0518424017c1d64a">kAliHLTDataTypeTrack</a></div><div class="ttdeci">const AliHLTComponentDataType kAliHLTDataTypeTrack</div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a611b2a61e467d3865a7acd78f73ed419"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a611b2a61e467d3865a7acd78f73ed419">GPUCA_NAMESPACE::gpu::GPUSettingsRec::ClusterError2CorrectionZ</a></div><div class="ttdeci">float ClusterError2CorrectionZ</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00058">GPUSettings.h:58</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a350520ea7dadd9786004d6ee2325eefc"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a350520ea7dadd9786004d6ee2325eefc">GPUTPCGlobalMergerComponent::GetComponentID</a></div><div class="ttdeci">const char * GetComponentID()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00073">GPUTPCGlobalMergerComponent.cxx:73</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a05aac007c267ece17e3dbe53bb25ffbe"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a05aac007c267ece17e3dbe53bb25ffbe">GPUCA_NAMESPACE::gpu::GPUSettingsRec::mergerReadFromTrackerDirectly</a></div><div class="ttdeci">char mergerReadFromTrackerDirectly</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00088">GPUSettings.h:88</a></div></div>
<div class="ttc" id="GPUTPCGMMerger_8h_html"><div class="ttname"><a href="../../d4/dcf/GPUTPCGMMerger_8h.html">GPUTPCGMMerger.h</a></div></div>
<div class="ttc" id="GPUReconstruction_8h_html"><div class="ttname"><a href="../../d2/de8/GPUReconstruction_8h.html">GPUReconstruction.h</a></div></div>
<div class="ttc" id="classAliHLTProcessor_html"><div class="ttname"><a href="../../d9/d9e/classAliHLTProcessor.html">AliHLTProcessor</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a235f513621da9d6b083a3b3182e6cd8a"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a235f513621da9d6b083a3b3182e6cd8a">GPUCA_NAMESPACE::gpu::GPUReconstruction::SetSettings</a></div><div class="ttdeci">void SetSettings(float solenoidBz)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d5b/GPUReconstruction_8cxx_source.html#l00728">GPUReconstruction.cxx:728</a></div></div>
<div class="ttc" id="GPUTPCDefinitions_8h_html"><div class="ttname"><a href="../../dd/df9/GPUTPCDefinitions_8h.html">GPUTPCDefinitions.h</a></div></div>
<div class="ttc" id="GPUTPCDef_8h_html"><div class="ttname"><a href="../../da/dab/GPUTPCDef_8h.html">GPUTPCDef.h</a></div></div>
<div class="ttc" id="AliHLTDataTypes_8h_html_ab270f2a63073d5058f6e4479f21eae38"><div class="ttname"><a href="../../d6/d34/AliHLTDataTypes_8h.html#ab270f2a63073d5058f6e4479f21eae38">AliHLTUInt32_t</a></div><div class="ttdeci">unsigned int AliHLTUInt32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00742">AliHLTDataTypes.h:742</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a05b24e2406d49e295e1b2146d5295938"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a05b24e2406d49e295e1b2146d5295938">GPUCA_NAMESPACE::gpu::GPUSettingsRec::mergerInterpolateErrors</a></div><div class="ttdeci">unsigned char mergerInterpolateErrors</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00083">GPUSettings.h:83</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a01e72c9fcc338562c1801c114fdfc4de"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a01e72c9fcc338562c1801c114fdfc4de">GPUTPCGlobalMergerComponent::~GPUTPCGlobalMergerComponent</a></div><div class="ttdeci">virtual ~GPUTPCGlobalMergerComponent()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00063">GPUTPCGlobalMergerComponent.cxx:63</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_aa4b12257b0c8d136a1c3d6f057e01b15"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aa4b12257b0c8d136a1c3d6f057e01b15">GPUTPCGlobalMergerComponent::DoInit</a></div><div class="ttdeci">int DoInit(int argc, const char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00323">GPUTPCGlobalMergerComponent.cxx:323</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_ae4f901f6f271bb140dfc9c2958a11d26"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#ae4f901f6f271bb140dfc9c2958a11d26">GPUTPCGlobalMergerComponent::GetOutputDataSize</a></div><div class="ttdeci">virtual void GetOutputDataSize(unsigned long &amp;constBase, double &amp;inputMultiplier)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00102">GPUTPCGlobalMergerComponent.cxx:102</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html_ac076ab6770fb9fb4a960f65e6b55f92f"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">AliHLTComponentEventData::fBlockCnt</a></div><div class="ttdeci">AliHLTUInt32_t fBlockCnt</div><div class="ttdoc">Fractional event creation time in micro seconds. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00805">AliHLTDataTypes.h:805</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_a7ddb13a02b51e944b0e944f15a3272d2"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#a7ddb13a02b51e944b0e944f15a3272d2">GPUCA_NAMESPACE::gpu::GPUSettingsRec::NWays</a></div><div class="ttdeci">char NWays</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00061">GPUSettings.h:61</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_aadafbfc361179b27e7c43c055c1a3cb6"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#aadafbfc361179b27e7c43c055c1a3cb6">GPUTPCGlobalMergerComponent::GetCurrentMerger</a></div><div class="ttdeci">static const GPUCA_NAMESPACE::gpu::GPUTPCGMMerger * GetCurrentMerger()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00563">GPUTPCGlobalMergerComponent.cxx:563</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction_html_a06f6c8789dc88b6269cf1820902c5491"><div class="ttname"><a href="../../d6/df4/classGPUCA__NAMESPACE_1_1gpu_1_1GPUReconstruction.html#a06f6c8789dc88b6269cf1820902c5491">GPUCA_NAMESPACE::gpu::GPUReconstruction::AddChain</a></div><div class="ttdeci">T * AddChain(Args... args)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de8/GPUReconstruction_8h_source.html#l00404">GPUReconstruction.h:404</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_a717a40d9fa7aa7891f59d62e81b3639c"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#a717a40d9fa7aa7891f59d62e81b3639c">AliHLTComponentBlockData::fOffset</a></div><div class="ttdeci">AliHLTUInt32_t fOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00862">AliHLTDataTypes.h:862</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a10ac0eac6534b72de27b77a892f300e4"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a10ac0eac6534b72de27b77a892f300e4">GPUTPCGlobalMergerComponent::Spawn</a></div><div class="ttdeci">AliHLTComponent * Spawn()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00110">GPUTPCGlobalMergerComponent.cxx:110</a></div></div>
<div class="ttc" id="AliHLTDataTypes_8h_html_acc61b8691f8bc3c8d3d77c9917200eae"><div class="ttname"><a href="../../d6/d34/AliHLTDataTypes_8h.html#acc61b8691f8bc3c8d3d77c9917200eae">AliHLTUInt8_t</a></div><div class="ttdeci">unsigned char AliHLTUInt8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00734">AliHLTDataTypes.h:734</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing_html"><div class="ttname"><a href="../../dd/d45/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsDeviceProcessing.html">GPUCA_NAMESPACE::gpu::GPUSettingsDeviceProcessing</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00126">GPUSettings.h:126</a></div></div>
<div class="ttc" id="structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec_html_acbdadb83c3baec073953aea7e58befa1"><div class="ttname"><a href="../../d0/d8d/structGPUCA__NAMESPACE_1_1gpu_1_1GPUSettingsRec.html#acbdadb83c3baec073953aea7e58befa1">GPUCA_NAMESPACE::gpu::GPUSettingsRec::ClusterError2CorrectionY</a></div><div class="ttdeci">float ClusterError2CorrectionY</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc6/GPUSettings_8h_source.html#l00057">GPUSettings.h:57</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_acc2760558000045ec0803d60d4d01c98"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char e</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00140">qconfigoptions.h:140</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_aaebb04fa78b36812fcd7279474cfb2a4"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#aaebb04fa78b36812fcd7279474cfb2a4">AliHLTComponentBlockData::fSpecification</a></div><div class="ttdeci">AliHLTUInt32_t fSpecification</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00870">AliHLTDataTypes.h:870</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/df8/GPUConstantMem_8h_source.html#l00031">GPUConstantMem.h:31</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_acd8177c2c180923181bdabf99b071435"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">AliHLTComponentBlockData::fSize</a></div><div class="ttdeci">AliHLTUInt32_t fSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00866">AliHLTDataTypes.h:866</a></div></div>
<div class="ttc" id="namespaceGPUCA__NAMESPACE_1_1gpu_html"><div class="ttname"><a href="../../d8/dde/namespaceGPUCA__NAMESPACE_1_1gpu.html">GPUCA_NAMESPACE::gpu</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00029">GPUCommonAlgorithm.h:29</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a99b844ec24b86f4588c4436643232b18"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a99b844ec24b86f4588c4436643232b18">GPUCA_NAMESPACE::gpu::GPUChainTracking::GetTPCMerger</a></div><div class="ttdeci">const GPUTPCGMMerger &amp; GetTPCMerger() const</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00125">GPUChainTracking.h:125</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a423d6b0684967fbedc4f92f10f5924e4"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a423d6b0684967fbedc4f92f10f5924e4">GPUCA_NAMESPACE::gpu::GPUChainTracking::RunTPCTrackingMerger</a></div><div class="ttdeci">int RunTPCTrackingMerger(bool synchronizeOutput=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l01668">GPUChainTracking.cxx:1668</a></div></div>
<div class="ttc" id="GPUChainTracking_8h_html"><div class="ttname"><a href="../../db/ded/GPUChainTracking_8h.html">GPUChainTracking.h</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a1b94deeeac8e731d9eb026501430cbc5"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a1b94deeeac8e731d9eb026501430cbc5">GPUTPCGlobalMergerComponent::DoDeinit</a></div><div class="ttdeci">int DoDeinit()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00347">GPUTPCGlobalMergerComponent.cxx:347</a></div></div>
<div class="ttc" id="GPUDataTypes_8h_html_a4b61bae47174ddb8434f95df2b2d161d"><div class="ttname"><a href="../../d4/dc5/GPUDataTypes_8h.html#a4b61bae47174ddb8434f95df2b2d161d">TPCMerging</a></div><div class="ttdeci">TPCMerging</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/GPUDataTypes_8h_source.html#l00110">GPUDataTypes.h:110</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00856">AliHLTDataTypes.h:856</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_gaf01ecfa1bc2ee0e51827be54884f137c"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#gaf01ecfa1bc2ee0e51827be54884f137c">kAliHLTDataOriginTPC</a></div><div class="ttdeci">const char kAliHLTDataOriginTPC[kAliHLTComponentDataTypefOriginSize]</div></div>
<div class="ttc" id="qconfigoptions_8h_html_a9fb99aa34f76f957d3f57fed6946e901"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00016">qconfigoptions.h:16</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger_html_af7a61d8eb15e97ffa2a8f2a81bee8cc9"><div class="ttname"><a href="../../d5/d35/classGPUCA__NAMESPACE_1_1gpu_1_1GPUTPCGMMerger.html#af7a61d8eb15e97ffa2a8f2a81bee8cc9">GPUCA_NAMESPACE::gpu::GPUTPCGMMerger::SetSliceData</a></div><div class="ttdeci">void SetSliceData(int index, const GPUTPCSliceOutput *sliceData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dcf/GPUTPCGMMerger_8h_source.html#l00097">GPUTPCGMMerger.h:97</a></div></div>
<div class="ttc" id="classGPUTPCGlobalMergerComponent_html_a38aeb67e6cf288a0fec965cb62e72998"><div class="ttname"><a href="../../d1/d77/classGPUTPCGlobalMergerComponent.html#a38aeb67e6cf288a0fec965cb62e72998">GPUTPCGlobalMergerComponent::GetInputDataTypes</a></div><div class="ttdeci">void GetInputDataTypes(AliHLTComponentDataTypeList &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx_source.html#l00079">GPUTPCGlobalMergerComponent.cxx:79</a></div></div>
<div class="ttc" id="namespaceGPUTPCDefinitions_html_a5f8f5cb8875ceb78fcb36a8b8e1a4d0e"><div class="ttname"><a href="../../d1/dff/namespaceGPUTPCDefinitions.html#a5f8f5cb8875ceb78fcb36a8b8e1a4d0e">GPUTPCDefinitions::fgkTrackletsDataType</a></div><div class="ttdeci">const AliHLTComponentDataType fgkTrackletsDataType</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d1f/GPUTPCTrackerComponent_8cxx_source.html#l00040">GPUTPCTrackerComponent.cxx:40</a></div></div>
<div class="ttc" id="GPUTPCSliceOutput_8h_html"><div class="ttname"><a href="../../da/d4b/GPUTPCSliceOutput_8h.html">GPUTPCSliceOutput.h</a></div></div>
<div class="ttc" id="structAliHLTComponentDataType_html"><div class="ttname"><a href="../../df/dcd/structAliHLTComponentDataType.html">AliHLTComponentDataType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00838">AliHLTDataTypes.h:838</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html">GPUCA_NAMESPACE::gpu::GPUChainTracking</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ded/GPUChainTracking_8h_source.html#l00063">GPUChainTracking.h:63</a></div></div>
<div class="ttc" id="classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking_html_a20f2279925348c696a820ac975b7c111"><div class="ttname"><a href="../../d5/d5f/classGPUCA__NAMESPACE_1_1gpu_1_1GPUChainTracking.html#a20f2279925348c696a820ac975b7c111">GPUCA_NAMESPACE::gpu::GPUChainTracking::LoadClusterErrors</a></div><div class="ttdeci">void LoadClusterErrors()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d58/GPUChainTracking_8cxx_source.html#l00603">GPUChainTracking.cxx:603</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f511f1e9c03c071966ae594f00bbc5e0.html">GPU</a></li><li class="navelem"><a class="el" href="../../dir_77030b149987c946eb2e85728f65acc0.html">GPUTracking</a></li><li class="navelem"><a class="el" href="../../dir_808d5540d0c117816a4e0e1b180c8334.html">Merger</a></li><li class="navelem"><a class="el" href="../../df/d06/GPUTPCGlobalMergerComponent_8cxx.html">GPUTPCGlobalMergerComponent.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:34 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
