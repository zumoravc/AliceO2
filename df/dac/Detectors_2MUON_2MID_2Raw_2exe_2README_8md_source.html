<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/MUON/MID/Raw/exe/README.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/dac/Detectors_2MUON_2MID_2Raw_2exe_2README_8md.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/travis/build/AliceO2Group/AliceO2/Detectors/MUON/MID/Raw/exe/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/dac/Detectors_2MUON_2MID_2Raw_2exe_2README_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;!-- doxy</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;\page refMUONMIDRawExe MID RAW executable</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;/doxy --&gt;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;# Utilities for MID RAW data</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;This directory contains two utilities that can be executed to verify the raw data.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;This is particularly important for testing and debugging the MID Read-out.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;## MID raw dumper</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;This utility allows to dump the decoded raw data content.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;Basic usage:</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;```bash</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;o2-mid-rawdump filename [filename_2 filename_3 ...]</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;```</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;The output is a file containing a list with:</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;-   the interaction record</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;-   the list of decoded [LocalBoardRO](../include/MIDRaw/LocalBoardRO.h)</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;For a list of the other available options:</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;```bash</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;o2-mid-rawdump --help</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;```</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;## MID raw file checker</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;This utility allows to test files produced by the CRU w/o using the User Logic.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;Basic usage:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;```bash</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;o2-mid-raw-checker filename [filename_2 filename_3 ...]</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;```</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;The output is a file (or a series of files if a list of inputs is provided), named after the input file as `check_filename.txt`, so that it is easy to understand to which input file the output is referring to.</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;The different e-links are read out and then grouped according to their interaction record.</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;The output file contains:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;-   a list of possible problems (if any) for each event processed</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;-   a summary with the number of faulty events</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;The list of problems is preceded by the identifier of the processed HB and the corresponding &quot;line&quot; in the file where the HB is.</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;The line is counted assuming that one reads the file as a series of 4 words of 32 bits each (this is the typical way the binary file is converted into text during the tests).</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;Notice that one can have more than 1 HB per event, since the data might be split into different pages if the maximum page size is reached.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;For a list of the other available options:</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;```bash</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;o2-mid-raw-checker --help</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;```</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;### Performed checks</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;The decoded information is read HB per HB (multiple pages are read out when needed).</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;For each HB, the decoded information are gathered according to their interaction.</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;Notice that, in principle, events belonging to different HBs should have different interaction records, so one could in principle read the full file and then perform the check.</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;However, in the tests the RDH is not always correctly set, and the orbit number might not increase. That is why we read the HB one by one, and limit the tests to 1 HB at the time. This makes it easier to tag HBs with issues in the RO.</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;For each interaction record, a number of checks are performed:</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;-   The number of local cards read must be 4 times the number of regional cards. Notice that this error often implies that there is a mismatch between the regional and local clocks (so the cards gets split into different interaction records)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;-   The word describing the event (SOX, EOX, HC, Calibration, etc.) should be the same for all cards in the interaction record.</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;-   The number of non-zero patterns read must match the information written in the corresponding word that indicates the non-zero detector planes. Notice that this might not be true when the patterns represent the masks, since in this case it is fine to transmit a zero pattern. However, for the sake of simplicity, we do not account for this possibility. Of course, this implies that must run the check on tests where all masks are non-zero.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;-   For each card we check that the information is consistent. For example we cannot have SOX and Calibration bits fired at the same time. Also, during an HC, we expect to have no chamber fired for the local boards. Notice that during tests this information is added by hand, so we should not have any issue by design.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/dac/Detectors_2MUON_2MID_2Raw_2exe_2README_8md.html">README.md</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:20 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
