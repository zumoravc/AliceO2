<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: o2::tpc::GEMAmplification Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../de/d7c/classo2_1_1tpc_1_1GEMAmplification-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">o2::tpc::GEMAmplification Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for o2::tpc::GEMAmplification:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d12/classo2_1_1tpc_1_1GEMAmplification__coll__graph.svg" width="258" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ac20b85140fba0fc6a477cb55fef01d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a1ac20b85140fba0fc6a477cb55fef01d">~GEMAmplification</a> ()</td></tr>
<tr class="memdesc:a1ac20b85140fba0fc6a477cb55fef01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a1ac20b85140fba0fc6a477cb55fef01d">More...</a><br /></td></tr>
<tr class="separator:a1ac20b85140fba0fc6a477cb55fef01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d91fb0537dc068c62d4d4672b48a6f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a0d91fb0537dc068c62d4d4672b48a6f8">updateParameters</a> ()</td></tr>
<tr class="memdesc:a0d91fb0537dc068c62d4d4672b48a6f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the OCDB parameters cached in the class. To be called once per event.  <a href="#a0d91fb0537dc068c62d4d4672b48a6f8">More...</a><br /></td></tr>
<tr class="separator:a0d91fb0537dc068c62d4d4672b48a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ed4a7f6a3f6808d5f89f0fa05dc46f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a78ed4a7f6a3f6808d5f89f0fa05dc46f">getStackAmplification</a> (<a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons=1)</td></tr>
<tr class="separator:a78ed4a7f6a3f6808d5f89f0fa05dc46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e16aa26c59d3c421b637cf849b01a94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a6e16aa26c59d3c421b637cf849b01a94">getEffectiveStackAmplification</a> (<a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons=1)</td></tr>
<tr class="separator:a6e16aa26c59d3c421b637cf849b01a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5214590fe30d0a3263b5a7887cde3e72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a5214590fe30d0a3263b5a7887cde3e72">getStackAmplification</a> (const <a class="el" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> &amp;cru, const <a class="el" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html">PadPos</a> &amp;pos, const <a class="el" href="../../d0/d0a/namespaceo2_1_1tpc.html#a0d8f3cffabf8731b1855206bf2b0c1d0">AmplificationMode</a> <a class="el" href="../../dc/da3/glcorearb_8h.html#a1e71d9c196e4683cc06c4b54d53f7ef5">mode</a>, <a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons=1)</td></tr>
<tr class="separator:a5214590fe30d0a3263b5a7887cde3e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fc0e0221d10dc9c19978252687b112"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#aa4fc0e0221d10dc9c19978252687b112">getSingleGEMAmplification</a> (<a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons, <a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEM)</td></tr>
<tr class="separator:aa4fc0e0221d10dc9c19978252687b112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea20e1ff3fe9ab60cc6b99765fc29d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a3ea20e1ff3fe9ab60cc6b99765fc29d6">getElectronLosses</a> (<a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons, <a class="el" href="../../d4/dc3/classfloat.html">float</a> probability)</td></tr>
<tr class="separator:a3ea20e1ff3fe9ab60cc6b99765fc29d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad175ca5fe64857e8c2517b97832d532a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#ad175ca5fe64857e8c2517b97832d532a">getGEMMultiplication</a> (<a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> nElectrons, <a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEM)</td></tr>
<tr class="separator:ad175ca5fe64857e8c2517b97832d532a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a93d79123bd1542fc78745bd77729438c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html">GEMAmplification</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html#a93d79123bd1542fc78745bd77729438c">instance</a> ()</td></tr>
<tr class="memdesc:a93d79123bd1542fc78745bd77729438c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a93d79123bd1542fc78745bd77729438c">More...</a><br /></td></tr>
<tr class="separator:a93d79123bd1542fc78745bd77729438c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class handles the amplification of electrons in the GEM stack The full amplification in a stack of four GEMs can be conducted, or each of the individual processes (Electrons collection, amplification and extraction) can be conducted individually </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html#l00035">35</a> of file <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1ac20b85140fba0fc6a477cb55fef01d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac20b85140fba0fc6a477cb55fef01d">&#9670;&nbsp;</a></span>~GEMAmplification()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GEMAmplification::~GEMAmplification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e16aa26c59d3c421b637cf849b01a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e16aa26c59d3c421b637cf849b01a94">&#9670;&nbsp;</a></span>getEffectiveStackAmplification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEMAmplification::getEffectiveStackAmplification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in an effective single-stage amplification </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons arriving at the first amplification stage (GEM1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in an effective single-stage amplification </dd></dl>
<p>We start with an arbitrary number of electrons given to the first amplification stage The amplification in the GEM stack is handled for each electron individually and the amplification in the stack is handled in an effective manner </p>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00129">129</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a id="a3ea20e1ff3fe9ab60cc6b99765fc29d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ea20e1ff3fe9ab60cc6b99765fc29d6">&#9670;&nbsp;</a></span>getElectronLosses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEMAmplification::getElectronLosses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc3/classfloat.html">float</a>&#160;</td>
          <td class="paramname"><em>probability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the electron losses due to extraction or collection efficiencies </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Input number of electrons </td></tr>
    <tr><td class="paramname">probability</td><td>Collection or extraction efficiency </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after probable losses </dd></dl>
<p>Electrons losses due to collection or extraction processes</p>
<p>All electrons are lost in case none are given to the GEM, or the probability is negligible</p>
<p>For sufficiently large probabilities all electrons are passed further on</p>
<p>Condition whether the binomial distribution can be approximated by a Gaussian with mean n*p+0.5 and width sqrt(n*p*(1-p))</p>
<p>Explicit handling of the probability for each individual electron </p>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00185">185</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a id="ad175ca5fe64857e8c2517b97832d532a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad175ca5fe64857e8c2517b97832d532a">&#9670;&nbsp;</a></span>getGEMMultiplication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEMAmplification::getGEMMultiplication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>GEM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a single GEM foil taking into account avalanche fluctuations (Polya for &lt;500 electrons and Gaus (central limit theorem) for a larger number of electrons) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Input number of electrons </td></tr>
    <tr><td class="paramname">GEM</td><td>Number of the GEM in the stack (1, 2, 3, 4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in the GEM </dd></dl>
<p>Total charge multiplication in the GEM We take into account fluctuations of the avalanche process</p>
<p>All electrons are lost in case none are given to the GEM</p>
<p>For this condition the central limit theorem holds and we can approximate the amplification fluctuations by a Gaussian for all electrons The mean is given by nElectrons * G_abs and the width by sqrt(nElectrons) * Sigma/Mu (Polya) * G_abs</p>
<p>Otherwise we compute the gain fluctuations as the convolution of many single electron amplification fluctuations </p>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00159">159</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a id="aa4fc0e0221d10dc9c19978252687b112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fc0e0221d10dc9c19978252687b112">&#9670;&nbsp;</a></span>getSingleGEMAmplification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEMAmplification::getSingleGEMAmplification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>GEM</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a single GEM foil taking into account collection and extraction efficiencies and fluctuations of the GEM amplification </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons to be amplified </td></tr>
    <tr><td class="paramname">GEM</td><td>Number of the GEM in the stack (1, 2, 3, 4) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in a single GEM foil </dd></dl>
<p>The effective gain of the GEM foil is given by three components</p><ol type="1">
<li>Collection of the electrons, which is related to the collection efficiency ε_coll</li>
<li>Amplification of the charges in the GEM holes, which is related to the GEM absolute gain G_abs</li>
<li>Extraction of the electrons, which is related to the extraction efficiency ε_extr The effective gain, and thus the overall amplification of the GEM is then given by G_eff = ε_coll * G_abs * ε_extr Each of the three processes is handled by a sub-routine </li>
</ol>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00144">144</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a id="a78ed4a7f6a3f6808d5f89f0fa05dc46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ed4a7f6a3f6808d5f89f0fa05dc46f">&#9670;&nbsp;</a></span>getStackAmplification() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> GEMAmplification::getStackAmplification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a full stack of four GEM foils </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons arriving at the first amplification stage (GEM1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in a full stack of four GEM foils </dd></dl>
<p>We start with an arbitrary number of electrons given to the first amplification stage The amplification in the GEM stack is handled for each electron individually and the resulting amplified electrons are passed to the next amplification stage. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00117">117</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<a id="a5214590fe30d0a3263b5a7887cde3e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5214590fe30d0a3263b5a7887cde3e72">&#9670;&nbsp;</a></span>getStackAmplification() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a> o2::tpc::GEMAmplification::getStackAmplification </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> &amp;&#160;</td>
          <td class="paramname"><em>cru</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html">PadPos</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d0a/namespaceo2_1_1tpc.html#a0d8f3cffabf8731b1855206bf2b0c1d0">AmplificationMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>&#160;</td>
          <td class="paramname"><em>nElectrons</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the number of electrons after amplification in a full stack of four GEM foils taking into account local variations of the electron amplification </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nElectrons</td><td>Number of electrons arriving at the first amplification stage (GEM1) </td></tr>
    <tr><td class="paramname">cru</td><td><a class="el" href="../../d3/d7d/classo2_1_1tpc_1_1CRU.html">CRU</a> where the electron arrives </td></tr>
    <tr><td class="paramname">pos</td><td><a class="el" href="../../da/d67/classo2_1_1tpc_1_1PadPos.html">PadPos</a> where the electron arrives </td></tr>
    <tr><td class="paramname">mode</td><td>Amplification mode (full or effective) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of electrons after amplification in a full stack of four GEM foils </dd></dl>
<p>Additionally to the electron amplification the final number of electrons is multiplied by the local gain on the pad </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html#l00109">109</a> of file <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>.</p>

</div>
</div>
<a id="a93d79123bd1542fc78745bd77729438c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d79123bd1542fc78745bd77729438c">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html">GEMAmplification</a>&amp; o2::tpc::GEMAmplification::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html#l00039">39</a> of file <a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a>.</p>

</div>
</div>
<a id="a0d91fb0537dc068c62d4d4672b48a6f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d91fb0537dc068c62d4d4672b48a6f8">&#9670;&nbsp;</a></span>updateParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> GEMAmplification::updateParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the OCDB parameters cached in the class. To be called once per event. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html#l00109">109</a> of file <a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/simulation/include/TPCSimulation/<a class="el" href="../../d9/d79/GEMAmplification_8h_source.html">GEMAmplification.h</a></li>
<li>/home/travis/build/AliceO2Group/AliceO2/Detectors/TPC/simulation/src/<a class="el" href="../../db/d6c/GEMAmplification_8cxx_source.html">GEMAmplification.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../d0/d0a/namespaceo2_1_1tpc.html">tpc</a></li><li class="navelem"><a class="el" href="../../d1/d8a/classo2_1_1tpc_1_1GEMAmplification.html">GEMAmplification</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:47 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
