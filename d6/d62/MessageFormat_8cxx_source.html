<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Utilities/aliceHLTwrapper/src/MessageFormat.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d62/MessageFormat_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MessageFormat.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d62/MessageFormat_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//****************************************************************************</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//* This file is free software: you can redistribute it and/or modify        *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//* it under the terms of the GNU General Public License as published by     *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//* the Free Software Foundation, either version 3 of the License, or        *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//* (at your option) any later version.                                      *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//*                                                                          *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//* Primary Authors: Matthias Richter &lt;richterm@scieq.net&gt;                   *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//*                                                                          *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//* The authors make no claims about the suitability of this software for    *</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//* any purpose. It is provided &quot;as is&quot; without express or implied warranty. *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//****************************************************************************</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//  @file   MessageFormat.cxx</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//  @author Matthias Richter</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//  @since  2014-12-11</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//  @brief  Helper class for message format of ALICE HLT data blocks</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dda/MessageFormat_8h.html">aliceHLTwrapper/MessageFormat.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/de6/HOMERFactory_8h.html">aliceHLTwrapper/HOMERFactory.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d1e/AliHLTHOMERData_8h.html">aliceHLTwrapper/AliHLTHOMERData.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d3f/AliHLTHOMERWriter_8h.html">aliceHLTwrapper/AliHLTHOMERWriter.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/de3/AliHLTHOMERReader_8h.html">aliceHLTwrapper/AliHLTHOMERReader.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d00/Headers_2include_2Headers_2Stack_8h.html">Headers/Stack.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;cerrno&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d4/d6a/namespaceo2_1_1alice__hlt.html">o2::alice_hlt</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using</span> std::cerr;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">using</span> std::endl;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using</span> std::unique_ptr;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using</span> <a class="code" href="../../dd/d2d/namespaceo2_1_1pmr.html#aeea588f6ab06f06d4131f84d8eea272b">std::vector</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// TODO: central logging to be implemented</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a73f254207f45e88091d3a50b0480a227">   51</a></span>&#160;<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a73f254207f45e88091d3a50b0480a227">MessageFormat::MessageFormat</a>()</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  : mBlockDescriptors(), mDataBuffer(), mMessages(), mpFactory(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>), mOutputMode(kOutputModeO2), mListEvtData(), mHeartbeatHeader(), mHeartbeatTrailer()</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">// invalidate the heartbeat header and trailer</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  mHeartbeatHeader.<a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html#a2c7d56a8687246c669ef1e900992e19d">headerWord</a> = 0;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  mHeartbeatTrailer.<a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html#a77fc4cb0e1f63a8a628eb70bdf424ad0">trailerWord</a> = 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ac3d053428f690aa2d369c50ed8a7ab9a">   59</a></span>&#160;<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ac3d053428f690aa2d369c50ed8a7ab9a">MessageFormat::~MessageFormat</a>()</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">if</span> (mpFactory)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">delete</span> mpFactory;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  mpFactory = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a1d67b8da93e9fd5a424d5d95d953b7eb">   66</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a1d67b8da93e9fd5a424d5d95d953b7eb">MessageFormat::clear</a>()</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  mBlockDescriptors.clear();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  mDataBuffer.clear();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  mMessages.clear();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  mListEvtData.clear();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// invalidate the heartbeat header and trailer</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  mHeartbeatHeader.<a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html#a2c7d56a8687246c669ef1e900992e19d">headerWord</a> = 0;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  mHeartbeatTrailer.<a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html#a77fc4cb0e1f63a8a628eb70bdf424ad0">trailerWord</a> = 0;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad58796744449900a5a2dfe8c076ac516">   78</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad58796744449900a5a2dfe8c076ac516">MessageFormat::addMessage</a>(uint8_t* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// add message</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// this will extract the block descriptors from the message</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// the descriptors refer to data in the original message buffer</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = mBlockDescriptors.size();</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// the buffer might start with an event descriptor of type AliHLTComponentEventData</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// the first read attempt is assuming the descriptor and checking consistency</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// - buffer size at least size of AliHLTComponentEventData struct</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// - fStructSize member matches</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// - number of blocks matches fBlockCnt member</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">unsigned</span> position = 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>* evtData = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>*<span class="keyword">&gt;</span>(buffer + position);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (position + <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>) &lt;= size &amp;&amp;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      evtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a99a73e4bcd560dd38d3384d8c8df0fe7">fStructSize</a> == <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>)) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    position += <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// one of the criteria does not match -&gt; no event descriptor</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    evtData = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (evtData &amp;&amp; evtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a> == 0 &amp;&amp; size &lt; <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>)) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">// special case: no block data, only event header</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#add0c50b866370b5fe9d433f49a1a5680">readBlockSequence</a>(buffer + position, size - position, mBlockDescriptors) &lt; 0 ||</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        (evtData != <span class="keyword">nullptr</span> &amp;&amp; ((mBlockDescriptors.size() - <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>) != evtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a>))) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="comment">// not in the format of a single block, check if its a HOMER block</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a836b05ee547f4636fb672d35ca7a3d4e">readHOMERFormat</a>(buffer + position, size - position, mBlockDescriptors) &lt; 0 ||</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          (evtData != <span class="keyword">nullptr</span> &amp;&amp; ((mBlockDescriptors.size() - <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>) != evtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a>))) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">// not in HOMER format either</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span> (position &gt; 0) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          <span class="comment">// try once more without the assumption of event data header</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;          position = 0;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          evtData = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">return</span> -ENODATA;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  } <span class="keywordflow">while</span> (<span class="keyword">false</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/d30/classuint64__t.html">result</a> = 0;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (evtData &amp;&amp; (result = <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a0cb44738ac036c4c389212e9e90da75d">insertEvtData</a>(*evtData)) &lt; 0) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// error in the event data header, probably headers of different events</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    mBlockDescriptors.resize(count);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">return</span> mBlockDescriptors.size() - <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a92d95bda7ae942838ca41d259c35001e">  131</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a92d95bda7ae942838ca41d259c35001e">MessageFormat::addMessages</a>(<span class="keyword">const</span> std::vector&lt;BufferDesc_t&gt;&amp; list)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// add list of messages</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">int</span> totalCount = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">bool</span> tryO2format = <span class="keyword">true</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a> : list) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (tryO2format) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">if</span> (o2::header::get&lt;o2::header::DataHeader*&gt;(<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.mP, <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.mSize)) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a8e3f6d7242f33ed5c1c951c3a3db8442">readO2Format</a>(list, mBlockDescriptors, mHeartbeatHeader, mHeartbeatTrailer);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      tryO2format = <span class="keyword">false</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.mSize &gt; 0) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordtype">unsigned</span> nofEventHeaders = mListEvtData.size();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d6/d30/classuint64__t.html">result</a> = <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad58796744449900a5a2dfe8c076ac516">addMessage</a>(<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.mP, <a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.mSize);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">if</span> (result &gt;= 0)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        totalCount += <a class="code" href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        cerr &lt;&lt; <span class="stringliteral">&quot;warning: no valid data blocks in message &quot;</span> &lt;&lt; i &lt;&lt; endl;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;warning: ignoring message &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; with payload of size 0&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#add0c50b866370b5fe9d433f49a1a5680">  159</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#add0c50b866370b5fe9d433f49a1a5680">MessageFormat::readBlockSequence</a>(uint8_t* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                     std::vector&lt;BlockDescriptor&gt;&amp; descriptorList)<span class="keyword"> const</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// read a sequence of blocks consisting of AliHLTComponentBlockData followed by payload</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// from a buffer</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">if</span> (buffer == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">unsigned</span> position = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  std::vector&lt;BlockDescriptor&gt; input;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">while</span> (position + <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>) &lt; size) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* p = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>*<span class="keyword">&gt;</span>(buffer + position);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#abb044fd79564d43715cfeccaff747d50">fStructSize</a> == 0 ||                         <span class="comment">// no valid header</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#abb044fd79564d43715cfeccaff747d50">fStructSize</a> + position &gt; size ||            <span class="comment">// no space for the header</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#abb044fd79564d43715cfeccaff747d50">fStructSize</a> + p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a> + position &gt; size) { <span class="comment">// no space for the payload</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">// the buffer is only a valid sequence of data blocks if payload</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="comment">// of the last block exacly matches the buffer boundary</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// otherwize all blocks added until now are ignored</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">return</span> -ENODATA;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// insert a new block</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    input.emplace_back(*p);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    position += p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#abb044fd79564d43715cfeccaff747d50">fStructSize</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a> &gt; 0) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      input.back().fPtr = buffer + position;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      position += p-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// Note: also a valid block, payload is optional</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      input.back().fPtr = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// offset always 0 for iput blocks</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    input.back().fOffset = 0;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  descriptorList.insert(descriptorList.end(), input.begin(), input.end());</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> input.size();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a836b05ee547f4636fb672d35ca7a3d4e">  196</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a836b05ee547f4636fb672d35ca7a3d4e">MessageFormat::readHOMERFormat</a>(uint8_t* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                   std::vector&lt;BlockDescriptor&gt;&amp; descriptorList)<span class="keyword"> const</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// read message payload in HOMER format</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (mpFactory == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html">MessageFormat</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;mpFactory = <span class="keyword">new</span> <a class="code" href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html">o2::alice_hlt::HOMERFactory</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (buffer == <span class="keyword">nullptr</span> || mpFactory == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  unique_ptr&lt;AliHLTHOMERReader&gt; reader(mpFactory-&gt;<a class="code" href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a1fd845f09bee0c27f487be288b147113">OpenReaderBuffer</a>(buffer, size));</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (reader.get() == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> -ENOMEM;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">unsigned</span> nofBlocks = 0;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (reader-&gt;ReadNextEvent() == 0) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    nofBlocks = reader-&gt;GetBlockCnt();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nofBlocks; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      descriptorList.emplace_back(const_cast&lt;void*&gt;(reader-&gt;GetBlockData(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)), reader-&gt;GetBlockDataLength(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#ga143e3e765f92e3917b01d47cb7d21a83">kAliHLTVoidDataType</a>, reader-&gt;GetBlockDataSpec(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      homer_uint64 <span class="keywordtype">id</span> = <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">byteSwap64</a>(reader-&gt;GetBlockDataType(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      homer_uint32 origin = <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ab31b5fcc07f7906e6bf02c0c7aa2b5a1">byteSwap32</a>(reader-&gt;GetBlockDataOrigin(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      memcpy(&amp;descriptorList.back().fDataType.fID, &amp;<a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;             <span class="keyword">sizeof</span>(<a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>) &gt; <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#ga2ab18acb8083959635687c170f5df8c3">kAliHLTComponentDataTypefIDsize</a> ? <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#ga2ab18acb8083959635687c170f5df8c3">kAliHLTComponentDataTypefIDsize</a> : <span class="keyword">sizeof</span>(<span class="keywordtype">id</span>));</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      memcpy(&amp;descriptorList.back().fDataType.fOrigin, &amp;origin,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;             <span class="keyword">sizeof</span>(origin) &gt; <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gac65a9c2e7872f5a021793d708fa6972f">kAliHLTComponentDataTypefOriginSize</a> ? <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gac65a9c2e7872f5a021793d708fa6972f">kAliHLTComponentDataTypefOriginSize</a> : <span class="keyword">sizeof</span>(origin));</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> nofBlocks;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a8e3f6d7242f33ed5c1c951c3a3db8442">  225</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a8e3f6d7242f33ed5c1c951c3a3db8442">MessageFormat::readO2Format</a>(<span class="keyword">const</span> std::vector&lt;BufferDesc_t&gt;&amp; list, std::vector&lt;BlockDescriptor&gt;&amp; descriptorList, <a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html">HeartbeatHeader</a>&amp; hbh, <a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html">HeartbeatTrailer</a>&amp; hbt)<span class="keyword"> const</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordtype">int</span> partNumber = 0;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html">o2::header::DataHeader</a>* dh = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> part : list) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (!dh) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">// new header - payload pair, read DataHeader</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      dh = o2::header::get&lt;o2::header::DataHeader*&gt;(part.mP, part.mSize);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (!dh) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        cerr &lt;&lt; <span class="stringliteral">&quot;can not find DataHeader&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span> -ENOMSG;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="comment">// extract the heartbeat information if available and keep it to</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="comment">// envelope the data blocks in the output message</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">if</span> (dh-&gt;<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a21279394f77243f08e43ed4345485f6f">dataDescription</a> == <a class="code" href="../../de/dd4/namespaceo2_1_1header.html#ae7cc56636b320336e642d6ccf8c9c6ea">o2::header::gDataDescriptionHeartbeatFrame</a>) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html">HeartbeatFrameEnvelope</a>* hbf = o2::header::get&lt;HeartbeatFrameEnvelope*&gt;(part.mP, part.mSize);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (hbf) {</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          hbh = hbf-&gt;<a class="code" href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html#af0828f9d448a75361dccb6b50186c35e">header</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          hbt = hbf-&gt;<a class="code" href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html#aad3b3ae53b0ec00ed1bf85005561b1cd">trailer</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          hbh.<a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html#a2c7d56a8687246c669ef1e900992e19d">headerWord</a> = hbt.<a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html#a77fc4cb0e1f63a8a628eb70bdf424ad0">trailerWord</a> = 0;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">if</span> (dh-&gt;<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a21279394f77243f08e43ed4345485f6f">dataDescription</a> == <a class="code" href="../../de/dd4/namespaceo2_1_1header.html#ae7cc56636b320336e642d6ccf8c9c6ea">o2::header::gDataDescriptionHeartbeatFrame</a>) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment">// this is pure O2 information, do not forward to HLT component</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        dh = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keyword">auto</span> ptr = part.mP;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keyword">auto</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> = part.mSize;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (hbh) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="comment">// check if the data is enveloped in a heartbeat frame</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> &gt; <span class="keyword">sizeof</span>(<a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html">HeartbeatHeader</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a53b4d779b6749cc69f3a6b885e85fcc4">HeartbeatTrailer</a>)) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          <span class="keyword">auto</span>* datahbh = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html">HeartbeatHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          <span class="keyword">auto</span>* datahbt = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html">HeartbeatTrailer</a>*<span class="keyword">&gt;</span>(ptr + <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> - <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a53b4d779b6749cc69f3a6b885e85fcc4">HeartbeatTrailer</a>));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;          <span class="keywordflow">if</span> ((*datahbh) &amp;&amp; (*datahbt)) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="comment">// valid header and trailer found, strip the block</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            ptr += <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad1dd751f0fe4dc607f815e22f71b2bc5">HeartbeatHeader</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> -= <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad1dd751f0fe4dc607f815e22f71b2bc5">HeartbeatHeader</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html">HeartbeatTrailer</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      descriptorList.emplace_back(ptr, <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, *dh);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      dh = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (dh) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    cerr &lt;&lt; <span class="stringliteral">&quot;missing payload to the last header&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> -ENOMSG;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">return</span> list.<a class="code" href="../../d8/dbd/structo2_1_1header_1_1BaseHeader.html#aabdb2141d29cba6feaec32f77cfbfb6e">size</a>() / 2;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a3cca4e1f2cc1f746d6c3ac9cdd81ed57">  279</a></span>&#160;std::vector&lt;MessageFormat::BufferDesc_t&gt; <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a3cca4e1f2cc1f746d6c3ac9cdd81ed57">MessageFormat::createMessages</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* blocks,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                                                       <span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>, <span class="keywordtype">unsigned</span> totalPayloadSize,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                                                       <span class="keyword">const</span> <a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>* evtData,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                                                       boost::signals2::signal&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)&gt;* cbAllocate)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// O2 output mode does not support event info struct</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// for the moment simply ignore it, not sure if this is the best</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// way to go, but this function is anyhow subject to change</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a> &amp;&amp; evtData != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    evtData = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">//assert(mOutputMode != kOutputModeO2 || evtData == nullptr);</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* pOutputBlocks = blocks;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  uint32_t outputBlockCnt = <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  mDataBuffer.clear();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  mMessages.clear();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5d4273f7702f76a9f716a9f1b5c2617e">kOutputModeHOMER</a>) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="../../dd/d46/classAliHLTHOMERWriter.html">AliHLTHOMERWriter</a>* pWriter = <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#aefe3e4fea0c4057375e6d206929fbc07">createHOMERFormat</a>(pOutputBlocks, outputBlockCnt);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (pWriter) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      uint32_t position = mDataBuffer.size();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = 0;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      uint32_t payloadSize = pWriter-&gt;<a class="code" href="../../dd/d46/classAliHLTHOMERWriter.html#aa89e0f8e5e198589fc5501ef94f8f08e">GetTotalMemorySize</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keyword">auto</span> msgSize = payloadSize + (evtData != <span class="keyword">nullptr</span> ? <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>) : 0);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">// make the target in the internal buffer</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        mDataBuffer.resize(position + msgSize);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keyword">auto</span> pTarget = MakeTarget(msgSize, position, cbAllocate);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">if</span> (evtData) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        memcpy(pTarget + offset, evtData, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>));</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        offset += <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      pWriter-&gt;<a class="code" href="../../dd/d46/classAliHLTHOMERWriter.html#afa226da100c83360ba5bd12c8609889b">Copy</a>(pTarget + offset, 0, 0, 0, 0);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      mpFactory-&gt;<a class="code" href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a9baf86b1afb0fb16ce2b753aafa54dba">DeleteWriter</a>(pWriter);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      offset += payloadSize;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      mMessages.emplace_back(pTarget, offset);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">kOutputModeMultiPart</a> ||</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;             mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a1871d86c9d3ef2b9d1067e3b96f8ebb1">kOutputModeSequence</a> ||</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;             mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// the output blocks are assempled in the internal buffer, for each</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// block BlockData is added as header information, directly followed</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// by the block payload</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// kOutputModeMultiPart:</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// multi part mode adds one buffer descriptor per output block</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// the devices decides what to do with the multiple descriptors, one</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// option is to send them in a multi-part message</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">// kOutputModeSequence:</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// sequence mode concatenates the output blocks in the internal</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// buffer. In contrast to multi part mode, only one buffer descriptor</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// for the complete sequence is handed over to device</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// kOutputModeO2</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// the O2 data format consisting of header-payload pairs</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    uint32_t position = mDataBuffer.size();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a> = 0;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">unsigned</span> bi = 0;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>* pOutputBlock = pOutputBlocks;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">auto</span> maxBufferSize = totalPayloadSize;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      maxBufferSize += count * <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d68/headerstack_8cxx.html#acba630bfc9e0d36b18309b8510ba1232">o2::header::DataHeader</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (mHeartbeatHeader) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">// one extra header for the generated HB information</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        maxBufferSize += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d68/headerstack_8cxx.html#acba630bfc9e0d36b18309b8510ba1232">o2::header::DataHeader</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html">HeartbeatFrameEnvelope</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">// the payload of the additional block</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        maxBufferSize += <span class="keyword">sizeof</span>(<a class="code" href="../../da/d2f/structo2_1_1header_1_1HeartbeatStatistics.html">o2::header::HeartbeatStatistics</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment">// one heartbeat header-trailer pair per data block</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        maxBufferSize += count * (<span class="keyword">sizeof</span>(mHeartbeatHeader) + <span class="keyword">sizeof</span>(mHeartbeatTrailer));</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      maxBufferSize += <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>) + count * <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (mDataBuffer.size() &lt; position + maxBufferSize) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="comment">// make the target in the internal buffer, for simplicity data is copied</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">// to a new buffer, a memmove would be possible to make room for block</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">// descriptors</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="comment">// resize to the full size before using individual chunks of</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// this buffer to ensure, that all pointers are valid at the end.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      mDataBuffer.resize(position + maxBufferSize);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">auto</span> pTarget = &amp;mDataBuffer[position];</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    pTarget = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a> &amp;&amp; mHeartbeatHeader) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="comment">// add additional heartbeat envelope block at the beginning</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// data header</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html">o2::header::DataHeader</a> dh;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="../../da/d2f/structo2_1_1header_1_1HeartbeatStatistics.html">o2::header::HeartbeatStatistics</a> hbfPayload;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a21279394f77243f08e43ed4345485f6f">dataDescription</a> = <a class="code" href="../../de/dd4/namespaceo2_1_1header.html#ae7cc56636b320336e642d6ccf8c9c6ea">o2::header::gDataDescriptionHeartbeatFrame</a>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#ab9ac12b7d701664401bc287b5cb894c8">dataOrigin</a> = <a class="code" href="../../d7/d9b/group__data__description__defines.html#gaced119b8ae9cd2e88b3b81d167df795a">o2::header::gDataOriginAny</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a2b061d1aadbfe605cc60669e00a06596">payloadSize</a> = <span class="keyword">sizeof</span>(hbfPayload);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a24b5702b9ab12693ca67a9796712d071">subSpecification</a> = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="comment">// make the stack</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="../../d0/d66/structo2_1_1header_1_1Stack.html">o2::header::Stack</a> headerMessage(dh, <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a21e939ae094c2e91077fc3dcc0e75880">HeartbeatFrameEnvelope</a>(mHeartbeatHeader, mHeartbeatTrailer));</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keyword">auto</span> msgSize = headerMessage.<a class="code" href="../../d0/d66/structo2_1_1header_1_1Stack.html#a00e2a31cfe00e277e91779a5a22516dc">size</a>();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      pTarget = MakeTarget(msgSize, position, cbAllocate);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      memcpy(pTarget, headerMessage.<a class="code" href="../../d0/d66/structo2_1_1header_1_1Stack.html#a43ee97459e6581d801a7c3c4a23298cf">data</a>(), msgSize);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      mMessages.emplace_back(pTarget, msgSize);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        position += msgSize;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      msgSize = dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a2b061d1aadbfe605cc60669e00a06596">payloadSize</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      pTarget = MakeTarget(msgSize, position, cbAllocate);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      memcpy(pTarget, &amp;hbfPayload, msgSize);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      mMessages.emplace_back(pTarget, msgSize);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        position += msgSize;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">unsigned</span> msgSize = 0;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">if</span> (bi == 0 ||</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">kOutputModeMultiPart</a> ||</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// request a new message buffer when entering for the first time in concatanate mode</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">// and for every block in multi part mode</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">// the actual size depends on mode and block index</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// - event data structure is only written at beginning of first</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="comment">//   message, regardsless of mode</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">// - concatanate mode requests one big buffer for sequential sequence of</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">//   all blocks</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        msgSize = (bi == 0 &amp;&amp; evtData != <span class="keyword">nullptr</span> ? <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>) : 0); <span class="comment">// first message has event data</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">if</span> (count &gt; 0 &amp;&amp; mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">kOutputModeMultiPart</a>) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          msgSize += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>) + pOutputBlock-&gt;fSize;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a1871d86c9d3ef2b9d1067e3b96f8ebb1">kOutputModeSequence</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          msgSize += count * <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>) + totalPayloadSize;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          msgSize = <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d68/headerstack_8cxx.html#acba630bfc9e0d36b18309b8510ba1232">o2::header::DataHeader</a>);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        pTarget = MakeTarget(msgSize, position, cbAllocate);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        offset = 0;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (bi == 0 &amp;&amp; evtData != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">// event data only in the first message in order to avoid increase of required</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">// buffer size due to duplicated event header</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        memcpy(pTarget + offset, evtData, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>));</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">kOutputModeMultiPart</a> &amp;&amp; evtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a> &gt; 1) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          <span class="comment">// in multipart mode, there is only one block per part</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="comment">// consequently, the number of blocks indicated in the event data header</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          <span class="comment">// does not reflect the number of blocks in this data sample. But it is</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          <span class="comment">// set to 1 to make the single message consistent</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keyword">auto</span>* pEvtData = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>*<span class="keyword">&gt;</span>(pTarget + <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          pEvtData-&gt;<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">fBlockCnt</a> = 1;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        offset += <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">if</span> (bi &lt; count) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// copy BlockData and payload</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        uint8_t* pData = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(pOutputBlock-&gt;fPtr);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        pData += pOutputBlock-&gt;fOffset;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keyword">auto</span>* bdTarget = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>*<span class="keyword">&gt;</span>(pTarget + <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (mOutputMode != <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(msgSize &gt;= offset + <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>) + pOutputBlock-&gt;fSize);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;          memcpy(bdTarget, pOutputBlock, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>));</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          bdTarget-&gt;fOffset = 0;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          bdTarget-&gt;fPtr = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          offset += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          memcpy(pTarget + offset, pData, pOutputBlock-&gt;fSize);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          offset += pOutputBlock-&gt;fSize;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">kOutputModeMultiPart</a>) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          <span class="comment">// send one descriptor per block back to device</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;          mMessages.emplace_back(pTarget, offset);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            position += <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;          offset = 0;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">kOutputModeO2</a>) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          <a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html">o2::header::DataHeader</a> dh;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a21279394f77243f08e43ed4345485f6f">dataDescription</a>.<a class="code" href="../../d9/db3/structo2_1_1header_1_1Descriptor.html#aaa591764d55e639ada4aba4d58baad52">runtimeInit</a>(pOutputBlock-&gt;fDataType.fID, <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#ga2ab18acb8083959635687c170f5df8c3">kAliHLTComponentDataTypefIDsize</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#ab9ac12b7d701664401bc287b5cb894c8">dataOrigin</a>.<a class="code" href="../../d9/db3/structo2_1_1header_1_1Descriptor.html#aaa591764d55e639ada4aba4d58baad52">runtimeInit</a>(pOutputBlock-&gt;fDataType.fOrigin, <a class="code" href="../../d5/d8c/group__alihlt__component__datatypes.html#gac65a9c2e7872f5a021793d708fa6972f">kAliHLTComponentDataTypefOriginSize</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a2b061d1aadbfe605cc60669e00a06596">payloadSize</a> = pOutputBlock-&gt;fSize;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          dh.<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a24b5702b9ab12693ca67a9796712d071">subSpecification</a> = pOutputBlock-&gt;fSpecification;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          memcpy(pTarget, &amp;dh, <span class="keyword">sizeof</span>(<a class="code" href="../../db/d87/structo2_1_1header_1_1DataHeader.html">o2::header::DataHeader</a>));</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          offset += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d68/headerstack_8cxx.html#acba630bfc9e0d36b18309b8510ba1232">o2::header::DataHeader</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          mMessages.emplace_back(pTarget, offset);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            position += <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          offset = 0;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          <span class="keywordflow">if</span> (mHeartbeatHeader.<a class="code" href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html#a2c7d56a8687246c669ef1e900992e19d">headerWord</a> == 0) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="comment">// no heartbeat information availalbe, send the buffer</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="comment">// as it is</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            mMessages.emplace_back(pData, pOutputBlock-&gt;fSize);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="comment">// make the heartbeat frame</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            msgSize = pOutputBlock-&gt;fSize + <span class="keyword">sizeof</span>(mHeartbeatHeader) + <span class="keyword">sizeof</span>(mHeartbeatTrailer);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            pTarget = MakeTarget(msgSize, position, cbAllocate);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            memcpy(pTarget + offset, &amp;mHeartbeatHeader, <span class="keyword">sizeof</span>(mHeartbeatHeader));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            offset += <span class="keyword">sizeof</span>(mHeartbeatHeader);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            memcpy(pTarget + offset, pData, pOutputBlock-&gt;fSize);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            offset += pOutputBlock-&gt;fSize;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            memcpy(pTarget + offset, &amp;mHeartbeatTrailer, <span class="keyword">sizeof</span>(mHeartbeatTrailer));</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            offset += <span class="keyword">sizeof</span>(mHeartbeatTrailer);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            mMessages.emplace_back(pTarget, offset);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;              position += <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            offset = 0;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;          }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        pOutputBlock++;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    } <span class="keywordflow">while</span> (++bi &lt; count);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (mOutputMode == <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a1871d86c9d3ef2b9d1067e3b96f8ebb1">kOutputModeSequence</a> || count == 0) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">// send one single descriptor for all concatenated blocks</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      mMessages.emplace_back(pTarget, offset);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// invalid output mode</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    std::stringstream errorMsg;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    errorMsg &lt;&lt; <span class="stringliteral">&quot;invalid output mode: &quot;</span> &lt;&lt; mOutputMode;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">throw</span> std::runtime_error(errorMsg.str());</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">return</span> mMessages;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;uint8_t* MessageFormat::MakeTarget(<span class="keywordtype">unsigned</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, <span class="keywordtype">unsigned</span> position, boost::signals2::signal&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)&gt;* cbAllocate)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// TODO: obviously this can be done in a better way, it&#39;s a bit of a hack</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="comment">// taking account for the limited lifetime of the wrapper device code</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  uint8_t* pTarget = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (cbAllocate == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (mDataBuffer.size() &lt; position + <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;complete buffer allocation must be done in the first cycle&quot;</span>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    pTarget = &amp;mDataBuffer[position];</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// use callback to create target</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    pTarget = *(*cbAllocate)(<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (pTarget == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">throw</span> std::bad_alloc();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">return</span> pTarget;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#aefe3e4fea0c4057375e6d206929fbc07">  516</a></span>&#160;<a class="code" href="../../dd/d46/classAliHLTHOMERWriter.html">AliHLTHOMERWriter</a>* <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#aefe3e4fea0c4057375e6d206929fbc07">MessageFormat::createHOMERFormat</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* pOutputBlocks,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                                    uint32_t outputBlockCnt)<span class="keyword"> const</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// send data blocks in HOMER format in one message</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordtype">int</span> iResult = 0;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">if</span> (mpFactory == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html">MessageFormat</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;mpFactory = <span class="keyword">new</span> <a class="code" href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html">o2::alice_hlt::HOMERFactory</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (!mpFactory)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  unique_ptr&lt;AliHLTHOMERWriter&gt; writer(mpFactory-&gt;<a class="code" href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a90a069bfbb249c578a6ded1cc2396b82">OpenWriter</a>());</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (writer.get() == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  homer_uint64 homerHeader[<a class="code" href="../../d8/d1e/AliHLTHOMERData_8h.html#ad5ab277d0bb8ea4ee574b92572fa12ff">kCount_64b_Words</a>];</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <a class="code" href="../../d8/d1e/AliHLTHOMERData_8h.html#a12dbc242e0ccd9cb574c84620d25af7d">HOMERBlockDescriptor</a> homerDescriptor(homerHeader);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a>* pOutputBlock = pOutputBlocks;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> blockIndex = 0; blockIndex &lt; outputBlockCnt; blockIndex++, pOutputBlock++) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac58abcad516b0dcb60f5e8c19cd56791">fPtr</a> == <span class="keyword">nullptr</span> &amp;&amp; pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a> &gt; 0) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;warning: ignoring block &quot;</span> &lt;&lt; blockIndex &lt;&lt; <span class="stringliteral">&quot; because of missing data pointer&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    memset(homerHeader, 0, <span class="keyword">sizeof</span>(homer_uint64) * <a class="code" href="../../d8/d1e/AliHLTHOMERData_8h.html#ad5ab277d0bb8ea4ee574b92572fa12ff">kCount_64b_Words</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    homerDescriptor.Initialize();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    homer_uint64 <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    homer_uint64 origin = 0;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    memcpy(&amp;<span class="keywordtype">id</span>, pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">fDataType</a>.<a class="code" href="../../df/dcd/structAliHLTComponentDataType.html#a2a70c0ff77f6ae48388a1e1ed37bb1f1">fID</a>, <span class="keyword">sizeof</span>(homer_uint64));</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    memcpy(((uint8_t*)&amp;origin) + <span class="keyword">sizeof</span>(homer_uint32), pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">fDataType</a>.<a class="code" href="../../df/dcd/structAliHLTComponentDataType.html#a6637f97e8fbbed826d1d38e5ed9536fc">fOrigin</a>, <span class="keyword">sizeof</span>(homer_uint32));</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    homerDescriptor.SetType(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">byteSwap64</a>(<span class="keywordtype">id</span>));</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    homerDescriptor.SetSubType1(<a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">byteSwap64</a>(origin));</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    homerDescriptor.SetSubType2(pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#aaebb04fa78b36812fcd7279474cfb2a4">fSpecification</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    homerDescriptor.SetBlockSize(pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">fSize</a>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    writer-&gt;AddBlock(homerHeader, pOutputBlock-&gt;<a class="code" href="../../d7/d8d/structAliHLTComponentBlockData.html#ac58abcad516b0dcb60f5e8c19cd56791">fPtr</a>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">return</span> writer.release();</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a0cb44738ac036c4c389212e9e90da75d">  552</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a0cb44738ac036c4c389212e9e90da75d">MessageFormat::insertEvtData</a>(<span class="keyword">const</span> <a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a>&amp; evtData)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// insert event header to list, sort by time, oldest first</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">if</span> (mListEvtData.size() == 0) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    mListEvtData.emplace_back(evtData);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">auto</span> it = mListEvtData.begin();</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">for</span> (; it != mListEvtData.end(); it++) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> ((it-&gt;fEventCreation_us * 1e3 + it-&gt;fEventCreation_us / 1e3) &gt;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          (evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a870fb763c44dc3fb11f9bb44af5bf747">fEventCreation_us</a> * 1e3 + evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a870fb763c44dc3fb11f9bb44af5bf747">fEventCreation_us</a> / 1e3)) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// found a younger element</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// TODO: simple logic at the moment, header is not inserted</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// if there is a mismatch, as the headers are inserted one by one, all</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// headers in the list have the same ID</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (it != mListEvtData.end() &amp;&amp;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a60c29f9052e668338f19119c8b68920c">fEventID</a> != it-&gt;fEventID) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Error: mismatching event ID &quot;</span> &lt;&lt; evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a60c29f9052e668338f19119c8b68920c">fEventID</a></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;, expected &quot;</span> &lt;&lt; it-&gt;fEventID</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; for event with timestamp &quot;</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;           &lt;&lt; evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a870fb763c44dc3fb11f9bb44af5bf747">fEventCreation_us</a> * 1e3 + evtData.<a class="code" href="../../dd/d2f/structAliHLTComponentEventData.html#a870fb763c44dc3fb11f9bb44af5bf747">fEventCreation_us</a> / 1e3 &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;           &lt;&lt; endl;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// insert before the younger element</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    mListEvtData.insert(it, evtData);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">  584</a></span>&#160;<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">MessageFormat::byteSwap64</a>(<a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="comment">// swap a 64 bit number</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">return</span> ((src &amp; 0xFFULL) &lt;&lt; 56) |</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;         ((src &amp; 0xFF00ULL) &lt;&lt; 40) |</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         ((src &amp; 0xFF0000ULL) &lt;&lt; 24) |</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         ((src &amp; 0xFF000000ULL) &lt;&lt; 8) |</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;         ((src &amp; 0xFF00000000ULL) &gt;&gt; 8) |</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;         ((src &amp; 0xFF0000000000ULL) &gt;&gt; 24) |</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;         ((src &amp; 0xFF000000000000ULL) &gt;&gt; 40) |</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         ((src &amp; 0xFF00000000000000ULL) &gt;&gt; 56);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ab31b5fcc07f7906e6bf02c0c7aa2b5a1">  597</a></span>&#160;uint32_t <a class="code" href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ab31b5fcc07f7906e6bf02c0c7aa2b5a1">MessageFormat::byteSwap32</a>(uint32_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// swap a 32 bit number</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">return</span> ((src &amp; 0xFFULL) &lt;&lt; 24) |</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;         ((src &amp; 0xFF00ULL) &lt;&lt; 8) |</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;         ((src &amp; 0xFF0000ULL) &gt;&gt; 8) |</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;         ((src &amp; 0xFF000000ULL) &gt;&gt; 24);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a0cb44738ac036c4c389212e9e90da75d"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a0cb44738ac036c4c389212e9e90da75d">o2::alice_hlt::MessageFormat::insertEvtData</a></div><div class="ttdeci">int insertEvtData(const AliHLTComponentEventData &amp;evtData)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00552">MessageFormat.cxx:552</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatTrailer_html_a77fc4cb0e1f63a8a628eb70bdf424ad0"><div class="ttname"><a href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html#a77fc4cb0e1f63a8a628eb70bdf424ad0">o2::header::HeartbeatTrailer::trailerWord</a></div><div class="ttdeci">uint64_t trailerWord</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00086">HeartbeatFrame.h:86</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1DataHeader_html_a21279394f77243f08e43ed4345485f6f"><div class="ttname"><a href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a21279394f77243f08e43ed4345485f6f">o2::header::DataHeader::dataDescription</a></div><div class="ttdeci">DataDescription dataDescription</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00675">DataHeader.h:675</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_ac681d45448dde27bc0be6674746a3163"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#ac681d45448dde27bc0be6674746a3163">AliHLTComponentBlockData::fDataType</a></div><div class="ttdeci">AliHLTComponentDataType fDataType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00868">AliHLTDataTypes.h:868</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_af7882a7b24db8d1242c35337fd246654"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#af7882a7b24db8d1242c35337fd246654">o2::alice_hlt::MessageFormat::byteSwap64</a></div><div class="ttdeci">uint64_t byteSwap64(uint64_t src) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00584">MessageFormat.cxx:584</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html">AliHLTComponentEventData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00800">AliHLTDataTypes.h:800</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatFrameEnvelope_html"><div class="ttname"><a href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html">o2::header::HeartbeatFrameEnvelope</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00115">HeartbeatFrame.h:115</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="AliHLTHOMERWriter_8h_html"><div class="ttname"><a href="../../d0/d3f/AliHLTHOMERWriter_8h.html">AliHLTHOMERWriter.h</a></div><div class="ttdoc">HLT Online Monitoring Environment including ROOT - Writer. </div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html">o2::alice_hlt::MessageFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00091">MessageFormat.h:91</a></div></div>
<div class="ttc" id="GPUReconstructionIncludes_8h_html_a287eedb5aeb3e2204ded2924050fb641"><div class="ttname"><a href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a></div><div class="ttdeci">#define assert(param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d94/GPUReconstructionIncludes_8h_source.html#l00021">GPUReconstructionIncludes.h:21</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_ad1dd751f0fe4dc607f815e22f71b2bc5"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad1dd751f0fe4dc607f815e22f71b2bc5">o2::alice_hlt::MessageFormat::HeartbeatHeader</a></div><div class="ttdeci">o2::header::HeartbeatHeader HeartbeatHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00101">MessageFormat.h:101</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1HOMERFactory_html_a90a069bfbb249c578a6ded1cc2396b82"><div class="ttname"><a href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a90a069bfbb249c578a6ded1cc2396b82">o2::alice_hlt::HOMERFactory::OpenWriter</a></div><div class="ttdeci">AliHLTHOMERWriter * OpenWriter()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/HOMERFactory_8cxx_source.html#l00166">HOMERFactory.cxx:166</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1DataHeader_html"><div class="ttname"><a href="../../db/d87/structo2_1_1header_1_1DataHeader.html">o2::header::DataHeader</a></div><div class="ttdoc">the main header struct </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00659">DataHeader.h:659</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatFrameEnvelope_html_af0828f9d448a75361dccb6b50186c35e"><div class="ttname"><a href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html#af0828f9d448a75361dccb6b50186c35e">o2::header::HeartbeatFrameEnvelope::header</a></div><div class="ttdeci">HeartbeatHeader header</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00121">HeartbeatFrame.h:121</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_ad58796744449900a5a2dfe8c076ac516"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ad58796744449900a5a2dfe8c076ac516">o2::alice_hlt::MessageFormat::addMessage</a></div><div class="ttdeci">int addMessage(uint8_t *buffer, unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00078">MessageFormat.cxx:78</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a836b05ee547f4636fb672d35ca7a3d4e"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a836b05ee547f4636fb672d35ca7a3d4e">o2::alice_hlt::MessageFormat::readHOMERFormat</a></div><div class="ttdeci">int readHOMERFormat(uint8_t *buffer, unsigned size, std::vector&lt; BlockDescriptor &gt; &amp;descriptorList) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00196">MessageFormat.cxx:196</a></div></div>
<div class="ttc" id="namespaceo2_1_1pmr_html_aeea588f6ab06f06d4131f84d8eea272b"><div class="ttname"><a href="../../dd/d2d/namespaceo2_1_1pmr.html#aeea588f6ab06f06d4131f84d8eea272b">o2::pmr::vector</a></div><div class="ttdeci">std::vector&lt; T, o2::pmr::polymorphic_allocator&lt; T &gt; &gt; vector</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d03/MemoryResources_8h_source.html#l00282">MemoryResources.h:282</a></div></div>
<div class="ttc" id="AliHLTHOMERData_8h_html_ad5ab277d0bb8ea4ee574b92572fa12ff"><div class="ttname"><a href="../../d8/d1e/AliHLTHOMERData_8h.html#ad5ab277d0bb8ea4ee574b92572fa12ff">kCount_64b_Words</a></div><div class="ttdeci">#define kCount_64b_Words</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/AliHLTHOMERData_8h_source.html#l00163">AliHLTHOMERData.h:163</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_add0c50b866370b5fe9d433f49a1a5680"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#add0c50b866370b5fe9d433f49a1a5680">o2::alice_hlt::MessageFormat::readBlockSequence</a></div><div class="ttdeci">int readBlockSequence(uint8_t *buffer, unsigned size, std::vector&lt; BlockDescriptor &gt; &amp;descriptorList) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00159">MessageFormat.cxx:159</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a73f254207f45e88091d3a50b0480a227"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a73f254207f45e88091d3a50b0480a227">o2::alice_hlt::MessageFormat::MessageFormat</a></div><div class="ttdeci">MessageFormat()</div><div class="ttdoc">default constructor </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00051">MessageFormat.cxx:51</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatHeader_html_a2c7d56a8687246c669ef1e900992e19d"><div class="ttname"><a href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html#a2c7d56a8687246c669ef1e900992e19d">o2::header::HeartbeatHeader::headerWord</a></div><div class="ttdeci">uint64_t headerWord</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00053">HeartbeatFrame.h:53</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3667f558219c90437106b544a3ca00b8"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00655">glcorearb.h:655</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8e8a78e36205bada4146dc581c95f82c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a></div><div class="ttdeci">GLintptr offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00660">glcorearb.h:660</a></div></div>
<div class="ttc" id="classAliHLTHOMERWriter_html"><div class="ttname"><a href="../../dd/d46/classAliHLTHOMERWriter.html">AliHLTHOMERWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3f/AliHLTHOMERWriter_8h_source.html#l00089">AliHLTHOMERWriter.h:89</a></div></div>
<div class="ttc" id="group__data__description__defines_html_gaced119b8ae9cd2e88b3b81d167df795a"><div class="ttname"><a href="../../d7/d9b/group__data__description__defines.html#gaced119b8ae9cd2e88b3b81d167df795a">o2::header::gDataOriginAny</a></div><div class="ttdeci">constexpr o2::header::DataOrigin gDataOriginAny</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00615">DataHeader.h:615</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1DataHeader_html_ab9ac12b7d701664401bc287b5cb894c8"><div class="ttname"><a href="../../db/d87/structo2_1_1header_1_1DataHeader.html#ab9ac12b7d701664401bc287b5cb894c8">o2::header::DataHeader::dataOrigin</a></div><div class="ttdeci">DataOrigin dataOrigin</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00680">DataHeader.h:680</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a33da6ce97c0159441607e8b300fa5559a1871d86c9d3ef2b9d1067e3b96f8ebb1"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a1871d86c9d3ef2b9d1067e3b96f8ebb1">o2::alice_hlt::MessageFormat::kOutputModeSequence</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00122">MessageFormat.h:122</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a1d67b8da93e9fd5a424d5d95d953b7eb"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a1d67b8da93e9fd5a424d5d95d953b7eb">o2::alice_hlt::MessageFormat::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00066">MessageFormat.cxx:66</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ae52362b10d585638f5b96140e90f1b7a"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a></div><div class="ttdeci">GLuint id</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00650">glcorearb.h:650</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1Stack_html"><div class="ttname"><a href="../../d0/d66/structo2_1_1header_1_1Stack.html">o2::header::Stack</a></div><div class="ttdoc">a move-only header stack with serialized headers This is the flat buffer where all the headers in a m...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/Headers_2include_2Headers_2Stack_8h_source.html#l00034">Stack.h:34</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_ab31b5fcc07f7906e6bf02c0c7aa2b5a1"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ab31b5fcc07f7906e6bf02c0c7aa2b5a1">o2::alice_hlt::MessageFormat::byteSwap32</a></div><div class="ttdeci">uint32_t byteSwap32(uint32_t src) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00597">MessageFormat.cxx:597</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1HOMERFactory_html_a9baf86b1afb0fb16ce2b753aafa54dba"><div class="ttname"><a href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a9baf86b1afb0fb16ce2b753aafa54dba">o2::alice_hlt::HOMERFactory::DeleteWriter</a></div><div class="ttdeci">int DeleteWriter(AliHLTHOMERWriter *pWriter)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/HOMERFactory_8cxx_source.html#l00185">HOMERFactory.cxx:185</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatTrailer_html"><div class="ttname"><a href="../../d1/dfe/structo2_1_1header_1_1HeartbeatTrailer.html">o2::header::HeartbeatTrailer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00083">HeartbeatFrame.h:83</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_ga2ab18acb8083959635687c170f5df8c3"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#ga2ab18acb8083959635687c170f5df8c3">kAliHLTComponentDataTypefIDsize</a></div><div class="ttdeci">const int kAliHLTComponentDataTypefIDsize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00258">AliHLTDataTypes.h:258</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1BaseHeader_html_aabdb2141d29cba6feaec32f77cfbfb6e"><div class="ttname"><a href="../../d8/dbd/structo2_1_1header_1_1BaseHeader.html#aabdb2141d29cba6feaec32f77cfbfb6e">o2::header::BaseHeader::size</a></div><div class="ttdeci">constexpr uint32_t size() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00464">DataHeader.h:464</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1DataHeader_html_a2b061d1aadbfe605cc60669e00a06596"><div class="ttname"><a href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a2b061d1aadbfe605cc60669e00a06596">o2::header::DataHeader::payloadSize</a></div><div class="ttdeci">PayloadSizeType payloadSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00705">DataHeader.h:705</a></div></div>
<div class="ttc" id="Headers_2include_2Headers_2Stack_8h_html"><div class="ttname"><a href="../../d4/d00/Headers_2include_2Headers_2Stack_8h.html">Stack.h</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1Stack_html_a43ee97459e6581d801a7c3c4a23298cf"><div class="ttname"><a href="../../d0/d66/structo2_1_1header_1_1Stack.html#a43ee97459e6581d801a7c3c4a23298cf">o2::header::Stack::data</a></div><div class="ttdeci">value_type * data() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/Headers_2include_2Headers_2Stack_8h_source.html#l00056">Stack.h:56</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a8e3f6d7242f33ed5c1c951c3a3db8442"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a8e3f6d7242f33ed5c1c951c3a3db8442">o2::alice_hlt::MessageFormat::readO2Format</a></div><div class="ttdeci">int readO2Format(const std::vector&lt; BufferDesc_t &gt; &amp;list, std::vector&lt; BlockDescriptor &gt; &amp;descriptorList, HeartbeatHeader &amp;hbh, HeartbeatTrailer &amp;hbt) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00225">MessageFormat.cxx:225</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a53b4d779b6749cc69f3a6b885e85fcc4"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a53b4d779b6749cc69f3a6b885e85fcc4">o2::alice_hlt::MessageFormat::HeartbeatTrailer</a></div><div class="ttdeci">o2::header::HeartbeatTrailer HeartbeatTrailer</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00102">MessageFormat.h:102</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatFrameEnvelope_html_aad3b3ae53b0ec00ed1bf85005561b1cd"><div class="ttname"><a href="../../d4/dfa/structo2_1_1header_1_1HeartbeatFrameEnvelope.html#aad3b3ae53b0ec00ed1bf85005561b1cd">o2::header::HeartbeatFrameEnvelope::trailer</a></div><div class="ttdeci">HeartbeatTrailer trailer</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00122">HeartbeatFrame.h:122</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5b1fbd784ae4a0bd4099d0bd29043c1a">o2::alice_hlt::MessageFormat::kOutputModeO2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00124">MessageFormat.h:124</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1DataHeader_html_a24b5702b9ab12693ca67a9796712d071"><div class="ttname"><a href="../../db/d87/structo2_1_1header_1_1DataHeader.html#a24b5702b9ab12693ca67a9796712d071">o2::header::DataHeader::subSpecification</a></div><div class="ttdeci">SubSpecificationType subSpecification</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00695">DataHeader.h:695</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a33da6ce97c0159441607e8b300fa5559a5d4273f7702f76a9f716a9f1b5c2617e"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559a5d4273f7702f76a9f716a9f1b5c2617e">o2::alice_hlt::MessageFormat::kOutputModeHOMER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00118">MessageFormat.h:118</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="../../d6/d30/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="AliHLTHOMERReader_8h_html"><div class="ttname"><a href="../../d6/de3/AliHLTHOMERReader_8h.html">AliHLTHOMERReader.h</a></div><div class="ttdoc">HLT Online Monitoring Environment including ROOT - Reader. </div></div>
<div class="ttc" id="classAliHLTHOMERWriter_html_afa226da100c83360ba5bd12c8609889b"><div class="ttname"><a href="../../dd/d46/classAliHLTHOMERWriter.html#afa226da100c83360ba5bd12c8609889b">AliHLTHOMERWriter::Copy</a></div><div class="ttdeci">void Copy(void *destination, homer_uint64 eventType, homer_uint64 eventNr, homer_uint64 statusFlags, homer_uint64 nodeID, bool includeData=true) override</div></div>
<div class="ttc" id="glcorearb_8h_html_a321ff419cd5252e54cf95e64dc6687ee"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a321ff419cd5252e54cf95e64dc6687ee">result</a></div><div class="ttdeci">GLuint64EXT * result</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05662">glcorearb.h:5662</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1Stack_html_a00e2a31cfe00e277e91779a5a22516dc"><div class="ttname"><a href="../../d0/d66/structo2_1_1header_1_1Stack.html#a00e2a31cfe00e277e91779a5a22516dc">o2::header::Stack::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d00/Headers_2include_2Headers_2Stack_8h_source.html#l00057">Stack.h:57</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html_ac076ab6770fb9fb4a960f65e6b55f92f"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html#ac076ab6770fb9fb4a960f65e6b55f92f">AliHLTComponentEventData::fBlockCnt</a></div><div class="ttdeci">AliHLTUInt32_t fBlockCnt</div><div class="ttdoc">Fractional event creation time in micro seconds. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00805">AliHLTDataTypes.h:805</a></div></div>
<div class="ttc" id="AliHLTHOMERData_8h_html"><div class="ttname"><a href="../../d8/d1e/AliHLTHOMERData_8h.html">AliHLTHOMERData.h</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_abb044fd79564d43715cfeccaff747d50"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#abb044fd79564d43715cfeccaff747d50">AliHLTComponentBlockData::fStructSize</a></div><div class="ttdeci">AliHLTUInt32_t fStructSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00858">AliHLTDataTypes.h:858</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_gac65a9c2e7872f5a021793d708fa6972f"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#gac65a9c2e7872f5a021793d708fa6972f">kAliHLTComponentDataTypefOriginSize</a></div><div class="ttdeci">const int kAliHLTComponentDataTypefOriginSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00106">AliHLTDataTypes.h:106</a></div></div>
<div class="ttc" id="group__alihlt__component__datatypes_html_ga143e3e765f92e3917b01d47cb7d21a83"><div class="ttname"><a href="../../d5/d8c/group__alihlt__component__datatypes.html#ga143e3e765f92e3917b01d47cb7d21a83">kAliHLTVoidDataType</a></div><div class="ttdeci">const AliHLTComponentDataType kAliHLTVoidDataType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l01110">AliHLTDataTypes.h:1110</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a21e939ae094c2e91077fc3dcc0e75880"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a21e939ae094c2e91077fc3dcc0e75880">o2::alice_hlt::MessageFormat::HeartbeatFrameEnvelope</a></div><div class="ttdeci">o2::header::HeartbeatFrameEnvelope HeartbeatFrameEnvelope</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00100">MessageFormat.h:100</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1Descriptor_html_aaa591764d55e639ada4aba4d58baad52"><div class="ttname"><a href="../../d9/db3/structo2_1_1header_1_1Descriptor.html#aaa591764d55e639ada4aba4d58baad52">o2::header::Descriptor::runtimeInit</a></div><div class="ttdeci">void runtimeInit(const char *string, short length=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00304">DataHeader.h:304</a></div></div>
<div class="ttc" id="MessageFormat_8h_html"><div class="ttname"><a href="../../d2/dda/MessageFormat_8h.html">MessageFormat.h</a></div></div>
<div class="ttc" id="namespaceo2_1_1alice__hlt_html"><div class="ttname"><a href="../../d4/d6a/namespaceo2_1_1alice__hlt.html">o2::alice_hlt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da1/Component_8h_source.html#l00042">Component.h:42</a></div></div>
<div class="ttc" id="headerstack_8cxx_html_acba630bfc9e0d36b18309b8510ba1232"><div class="ttname"><a href="../../d7/d68/headerstack_8cxx.html#acba630bfc9e0d36b18309b8510ba1232">DataHeader</a></div><div class="ttdeci">o2::header::DataHeader DataHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d68/headerstack_8cxx_source.html#l00028">headerstack.cxx:28</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_aaebb04fa78b36812fcd7279474cfb2a4"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#aaebb04fa78b36812fcd7279474cfb2a4">AliHLTComponentBlockData::fSpecification</a></div><div class="ttdeci">AliHLTUInt32_t fSpecification</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00870">AliHLTDataTypes.h:870</a></div></div>
<div class="ttc" id="namespaceo2_1_1header_html_ae7cc56636b320336e642d6ccf8c9c6ea"><div class="ttname"><a href="../../de/dd4/namespaceo2_1_1header.html#ae7cc56636b320336e642d6ccf8c9c6ea">o2::header::gDataDescriptionHeartbeatFrame</a></div><div class="ttdeci">const o2::header::DataDescription gDataDescriptionHeartbeatFrame</div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_acd8177c2c180923181bdabf99b071435"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#acd8177c2c180923181bdabf99b071435">AliHLTComponentBlockData::fSize</a></div><div class="ttdeci">AliHLTUInt32_t fSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00866">AliHLTDataTypes.h:866</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_aefe3e4fea0c4057375e6d206929fbc07"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#aefe3e4fea0c4057375e6d206929fbc07">o2::alice_hlt::MessageFormat::createHOMERFormat</a></div><div class="ttdeci">AliHLTHOMERWriter * createHOMERFormat(const AliHLTComponentBlockData *pOutputBlocks, uint32_t outputBlockCnt) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00516">MessageFormat.cxx:516</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a92d95bda7ae942838ca41d259c35001e"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a92d95bda7ae942838ca41d259c35001e">o2::alice_hlt::MessageFormat::addMessages</a></div><div class="ttdeci">int addMessages(const std::vector&lt; BufferDesc_t &gt; &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00131">MessageFormat.cxx:131</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html_ac58abcad516b0dcb60f5e8c19cd56791"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html#ac58abcad516b0dcb60f5e8c19cd56791">AliHLTComponentBlockData::fPtr</a></div><div class="ttdeci">void * fPtr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00864">AliHLTDataTypes.h:864</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html_a870fb763c44dc3fb11f9bb44af5bf747"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html#a870fb763c44dc3fb11f9bb44af5bf747">AliHLTComponentEventData::fEventCreation_us</a></div><div class="ttdeci">AliHLTUInt32_t fEventCreation_us</div><div class="ttdoc">Event creation time in seconds (Should be added to fEventCreation_us*1e6). </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00804">AliHLTDataTypes.h:804</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a33da6ce97c0159441607e8b300fa5559ac73c224d64b7ae477ff54c246c45df61">o2::alice_hlt::MessageFormat::kOutputModeMultiPart</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dda/MessageFormat_8h_source.html#l00120">MessageFormat.h:120</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8922a680b00df660c57f47c1971d04c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a></div><div class="ttdeci">GLboolean * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00298">glcorearb.h:298</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="structAliHLTComponentBlockData_html"><div class="ttname"><a href="../../d7/d8d/structAliHLTComponentBlockData.html">AliHLTComponentBlockData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00856">AliHLTDataTypes.h:856</a></div></div>
<div class="ttc" id="HOMERFactory_8h_html"><div class="ttname"><a href="../../d2/de6/HOMERFactory_8h.html">HOMERFactory.h</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html_a60c29f9052e668338f19119c8b68920c"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html#a60c29f9052e668338f19119c8b68920c">AliHLTComponentEventData::fEventID</a></div><div class="ttdeci">AliHLTEventID_t fEventID</div><div class="ttdoc">Size of this structure in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00802">AliHLTDataTypes.h:802</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_a3cca4e1f2cc1f746d6c3ac9cdd81ed57"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#a3cca4e1f2cc1f746d6c3ac9cdd81ed57">o2::alice_hlt::MessageFormat::createMessages</a></div><div class="ttdeci">std::vector&lt; BufferDesc_t &gt; createMessages(const AliHLTComponentBlockData *blocks, unsigned count, unsigned totalPayloadSize, const AliHLTComponentEventData *evtData=nullptr, boost::signals2::signal&lt; unsigned char *(unsigned int)&gt; *cbAllocate=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00279">MessageFormat.cxx:279</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatHeader_html"><div class="ttname"><a href="../../dd/da3/structo2_1_1header_1_1HeartbeatHeader.html">o2::header::HeartbeatHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00050">HeartbeatFrame.h:50</a></div></div>
<div class="ttc" id="classAliHLTHOMERWriter_html_aa89e0f8e5e198589fc5501ef94f8f08e"><div class="ttname"><a href="../../dd/d46/classAliHLTHOMERWriter.html#aa89e0f8e5e198589fc5501ef94f8f08e">AliHLTHOMERWriter::GetTotalMemorySize</a></div><div class="ttdeci">homer_uint32 GetTotalMemorySize(bool includeData=true) override</div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1HOMERFactory_html_a1fd845f09bee0c27f487be288b147113"><div class="ttname"><a href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html#a1fd845f09bee0c27f487be288b147113">o2::alice_hlt::HOMERFactory::OpenReaderBuffer</a></div><div class="ttdeci">AliHLTHOMERReader * OpenReaderBuffer(const AliHLTUInt8_t *pBuffer, int size)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da5/HOMERFactory_8cxx_source.html#l00127">HOMERFactory.cxx:127</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1MessageFormat_html_ac3d053428f690aa2d369c50ed8a7ab9a"><div class="ttname"><a href="../../d5/d57/classo2_1_1alice__hlt_1_1MessageFormat.html#ac3d053428f690aa2d369c50ed8a7ab9a">o2::alice_hlt::MessageFormat::~MessageFormat</a></div><div class="ttdeci">~MessageFormat()</div><div class="ttdoc">destructor </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d62/MessageFormat_8cxx_source.html#l00059">MessageFormat.cxx:59</a></div></div>
<div class="ttc" id="structAliHLTComponentEventData_html_a99a73e4bcd560dd38d3384d8c8df0fe7"><div class="ttname"><a href="../../dd/d2f/structAliHLTComponentEventData.html#a99a73e4bcd560dd38d3384d8c8df0fe7">AliHLTComponentEventData::fStructSize</a></div><div class="ttdeci">AliHLTUInt32_t fStructSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00801">AliHLTDataTypes.h:801</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a31eafbeac9256b106b6acfd78f305200"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a></div><div class="ttdeci">GLint GLsizei count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="classo2_1_1alice__hlt_1_1HOMERFactory_html"><div class="ttname"><a href="../../d2/dff/classo2_1_1alice__hlt_1_1HOMERFactory.html">o2::alice_hlt::HOMERFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de6/HOMERFactory_8h_source.html#l00083">HOMERFactory.h:83</a></div></div>
<div class="ttc" id="structAliHLTComponentDataType_html_a2a70c0ff77f6ae48388a1e1ed37bb1f1"><div class="ttname"><a href="../../df/dcd/structAliHLTComponentDataType.html#a2a70c0ff77f6ae48388a1e1ed37bb1f1">AliHLTComponentDataType::fID</a></div><div class="ttdeci">char fID[kAliHLTComponentDataTypefIDsize]</div><div class="ttdoc">Size of this structure in bytes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00840">AliHLTDataTypes.h:840</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1HeartbeatStatistics_html"><div class="ttname"><a href="../../da/d2f/structo2_1_1header_1_1HeartbeatStatistics.html">o2::header::HeartbeatStatistics</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d09/HeartbeatFrame_8h_source.html#l00134">HeartbeatFrame.h:134</a></div></div>
<div class="ttc" id="structAliHLTComponentDataType_html_a6637f97e8fbbed826d1d38e5ed9536fc"><div class="ttname"><a href="../../df/dcd/structAliHLTComponentDataType.html#a6637f97e8fbbed826d1d38e5ed9536fc">AliHLTComponentDataType::fOrigin</a></div><div class="ttdeci">char fOrigin[kAliHLTComponentDataTypefOriginSize]</div><div class="ttdoc">Data type identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d34/AliHLTDataTypes_8h_source.html#l00841">AliHLTDataTypes.h:841</a></div></div>
<div class="ttc" id="AliHLTHOMERData_8h_html_a12dbc242e0ccd9cb574c84620d25af7d"><div class="ttname"><a href="../../d8/d1e/AliHLTHOMERData_8h.html#a12dbc242e0ccd9cb574c84620d25af7d">HOMERBlockDescriptor</a></div><div class="ttdeci">class AliHLTHOMERBlockDescriptor HOMERBlockDescriptor</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/AliHLTHOMERData_8h_source.html#l00379">AliHLTHOMERData.h:379</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a2a98ddb6f79ec1048ff9e15cdd2422ba"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a2a98ddb6f79ec1048ff9e15cdd2422ba">src</a></div><div class="ttdeci">GLenum src</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01767">glcorearb.h:1767</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_b05a5fa85f84bfc9013183c9d87f9a36.html">Utilities</a></li><li class="navelem"><a class="el" href="../../dir_89404594baeba009a250b72877027579.html">aliceHLTwrapper</a></li><li class="navelem"><a class="el" href="../../dir_468a7cabf80e2295683d860d132e9318.html">src</a></li><li class="navelem"><a class="el" href="../../d6/d62/MessageFormat_8cxx.html">MessageFormat.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:36 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
