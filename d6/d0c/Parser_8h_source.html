<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Algorithm/include/Algorithm/Parser.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d0c/Parser_8h_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Parser.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d0c/Parser_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef ALGORITHM_PARSER_H</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#define ALGORITHM_PARSER_H</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>algorithm</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">   31</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize</a> {</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html#ae0d9a8f849b9fb8cb70f2725e864173a">   32</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> = <span class="keyword">sizeof</span>(T);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;};</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// specialization for void</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">template</span> &lt;&gt;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d1/d06/structo2_1_1algorithm_1_1typesize_3_01void_01_4.html">   36</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize</a>&lt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&gt; {</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d1/d06/structo2_1_1algorithm_1_1typesize_3_01void_01_4.html#aef096e84599c9755759f1791a30379c0">   37</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a> = 0;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;};</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> HeaderT,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;          <span class="keyword">typename</span> TrailerT = <span class="keywordtype">void</span>&gt;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html">   98</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html">ForwardParser</a></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">  101</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">HeaderType</a> = HeaderT;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8435f159eeee72ba620e736deb5ef0d1">  102</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8435f159eeee72ba620e736deb5ef0d1">TrailerType</a> = TrailerT;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8c8a6254b13a529b8c55c571c6233891">  103</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8c8a6254b13a529b8c55c571c6233891">PayloadType</a> = <span class="keywordtype">unsigned</span> char;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">  107</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">FrameInfo</a> {</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#afa495feaebd5247428ff0b027635f797">  108</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#afa495feaebd5247428ff0b027635f797">PtrT</a> = <span class="keyword">const</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8c8a6254b13a529b8c55c571c6233891">PayloadType</a>*;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">  110</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">HeaderType</a>* header = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#ab6fceefc8624bcc6d5532007aa339b50">  111</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8435f159eeee72ba620e736deb5ef0d1">TrailerType</a>* trailer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a538df8aa63384bd4d7c1718a7f649673">  112</a></span>&#160;    <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#afa495feaebd5247428ff0b027635f797">PtrT</a> payload = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#af8c388d5c50ff8a0bd0584363523997f">  113</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a921fa83f7755f0139c84ba1831417a2e">length</a> = 0;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  };</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae20ac945d3ffdc95833a189fdb0c60b2">  117</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> headOffset = <a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize&lt;HeaderType&gt;::size</a>;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aef7a757801d722adbb0bf21c930c4416">  119</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> tailOffset = <a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize&lt;TrailerType&gt;::size</a>;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#af783c86258dedde72f412c3864403551">  121</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> totalOffset = headOffset + tailOffset;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ada10a86f2ae7f731edb193ec2dc3f7c6">  125</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ada10a86f2ae7f731edb193ec2dc3f7c6">CheckHeaderFct</a> = std::function&lt;bool(const HeaderType&amp;)&gt;;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a42c90821b195cf94c3387c518982765e">CheckTrailerFctArgumentT</a> = <span class="keyword">typename</span> std::conditional&lt;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a42c90821b195cf94c3387c518982765e">  131</a></span>&#160;    !<a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">std::is_void&lt;TrailerType&gt;::value</a>, <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8435f159eeee72ba620e736deb5ef0d1">TrailerType</a>, <span class="keywordtype">int</span>&gt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a7d05960f4f1c1b11f3177dc963a45d86">::type</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> U&gt;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">CheckTrailerFct</a> = <span class="keyword">typename</span> std::conditional&lt;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    !<a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">std::is_void&lt;U&gt;::value</a>,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    std::function&lt;bool(const CheckTrailerFctArgumentT&amp;)&gt;,</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">  139</a></span>&#160;    std::function&lt;bool()&gt;&gt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a7d05960f4f1c1b11f3177dc963a45d86">::type</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab7a2ecd967c91983ab2b1cd6f03ca688">  143</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab7a2ecd967c91983ab2b1cd6f03ca688">GetFrameSizeFct</a> = std::function&lt;size_t(const HeaderType&amp;)&gt;;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a3f7bb31c8a2a4c65e61844b2e12dba6b">  147</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a3f7bb31c8a2a4c65e61844b2e12dba6b">InsertFct</a> = std::function&lt;bool(FrameInfo&amp;)&gt;;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> InputType&gt;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab279d97d5ad06492fc71e5af714417a1">  153</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab279d97d5ad06492fc71e5af714417a1">parse</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">InputType</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">size_t</span> bufferSize,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ada10a86f2ae7f731edb193ec2dc3f7c6">CheckHeaderFct</a> checkHeader,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">CheckTrailerFct&lt;TrailerType&gt;</a> checkTrailer,</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab7a2ecd967c91983ab2b1cd6f03ca688">GetFrameSizeFct</a> getFrameSize,</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a3f7bb31c8a2a4c65e61844b2e12dba6b">InsertFct</a> insert)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">InputType</a>) == 1,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                  <span class="stringliteral">&quot;ForwardParser currently only supports byte type buffer&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (buffer == <span class="keyword">nullptr</span> || bufferSize == 0)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">size_t</span> position = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    std::vector&lt;FrameInfo&gt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">FrameInfo</a> <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// check the header</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">HeaderType</a>) + position &gt; bufferSize)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">header</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">HeaderType</a>*<span class="keyword">&gt;</span>(buffer + position);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> (!checkHeader(*entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">header</a>))</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// extract frame size from header, this is expected to be the</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="comment">// total frome size including header, payload and optional trailer</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keyword">auto</span> frameSize = getFrameSize(*entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">header</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">if</span> (frameSize + position &gt; bufferSize)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="comment">// payload starts right after the header</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a538df8aa63384bd4d7c1718a7f649673">payload</a> = <span class="keyword">reinterpret_cast&lt;</span>typename <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#afa495feaebd5247428ff0b027635f797">FrameInfo::PtrT</a><span class="keyword">&gt;</span>(entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">header</a> + 1);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#af8c388d5c50ff8a0bd0584363523997f">length</a> = frameSize - totalOffset;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// optionally extract and check trailer</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span> (tailOffset &gt; 0) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#ab6fceefc8624bcc6d5532007aa339b50">trailer</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keyword">auto</span> trailerStart = buffer + position + frameSize - tailOffset;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#ab6fceefc8624bcc6d5532007aa339b50">trailer</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>TrailerType*<span class="keyword">&gt;</span>(trailerStart);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span> (!CheckTrailer(entry, checkTrailer))</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="comment">// store the extracted frame info and continue with remaining buffer</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      frames.emplace_back(entry);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      position += frameSize;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    } <span class="keywordflow">while</span> (position &lt; bufferSize);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (position == bufferSize) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="comment">// frames found and format consistent, insert entries to target</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="comment">// Note: the complete block must be consistent</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a> : frames) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (!insert(<a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>))</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">return</span> frames.size();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frames.size() == 0) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="comment">// no frames found at all, the buffer does not contain any</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// format error detected</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// TODO: decide about error policy</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> InputType, <span class="keyword">typename</span> U = TrailerType&gt;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keyword">typename</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">std::enable_if&lt;std::is_void&lt;U&gt;::value</a>, <span class="keywordtype">int</span>&gt;::type</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab52499d27b1508b4c468f888719bcc86">  224</a></span>&#160;    <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab52499d27b1508b4c468f888719bcc86">parse</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">InputType</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">size_t</span> bufferSize,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;          <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ada10a86f2ae7f731edb193ec2dc3f7c6">CheckHeaderFct</a> checkHeader,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab7a2ecd967c91983ab2b1cd6f03ca688">GetFrameSizeFct</a> getFrameSize,</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a3f7bb31c8a2a4c65e61844b2e12dba6b">InsertFct</a> insert)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">auto</span> checkTrailer = []() { <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> parse(buffer, bufferSize, checkHeader, checkTrailer, getFrameSize, insert);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> U = TrailerType&gt;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">typename</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">std::enable_if&lt;!std::is_void&lt;U&gt;::value</a>, <span class="keywordtype">bool</span>&gt;::type</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    CheckTrailer(<span class="keyword">const</span> <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">FrameInfo</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>, <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">CheckTrailerFct&lt;TrailerType&gt;</a>&amp; checkTrailer)<span class="keyword"> const</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> checkTrailer(*entry.<a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#ab6fceefc8624bcc6d5532007aa339b50">trailer</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> U = TrailerType&gt;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">typename</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">std::enable_if&lt;std::is_void&lt;U&gt;::value</a>, <span class="keywordtype">bool</span>&gt;::type</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    CheckTrailer(<span class="keyword">const</span> <a class="code" href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">FrameInfo</a>&amp;, <a class="code" href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">CheckTrailerFct&lt;TrailerType&gt;</a>&amp;)<span class="keyword"> const</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;};</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> HeaderT, <span class="keyword">typename</span> TrailerT&gt;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html">  288</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html">ReverseParser</a></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ad26e1269f8b47de241a2f297b781bce3">  291</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ad26e1269f8b47de241a2f297b781bce3">HeaderType</a> = HeaderT;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">  292</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a> = TrailerT;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8a11ca2b794024ecc82253b72ff817f1">  293</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8a11ca2b794024ecc82253b72ff817f1">PayloadType</a> = <span class="keywordtype">unsigned</span> char;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html">  296</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html">FrameInfo</a> {</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#ac7b1629d2c1812936b8b27e9bb2f3212">  297</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#ac7b1629d2c1812936b8b27e9bb2f3212">PtrT</a> = <span class="keyword">const</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8a11ca2b794024ecc82253b72ff817f1">PayloadType</a>*;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a3955d861ca507332bed4fc3875e34f96">  299</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ad26e1269f8b47de241a2f297b781bce3">HeaderType</a>* header = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aaea5fadead30c5700d8e3650d38abb9f">  300</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a>* trailer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aee75a0b54bc3b59064db040e59cda5c3">  301</a></span>&#160;    <a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#ac7b1629d2c1812936b8b27e9bb2f3212">PtrT</a> payload = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a0943b71a37c706e1b0bc0c0d8770b005">  302</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a921fa83f7755f0139c84ba1831417a2e">length</a> = 0;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  };</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ae14d7e3f9d082c8277b90178d1b85af5">  305</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> headOffset = <a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize&lt;HeaderType&gt;::size</a>;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a1ad777b7295d0bbf08dc107c530fcfad">  307</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> tailOffset = <a class="code" href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">typesize&lt;TrailerType&gt;::size</a>;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a3f055e7406c0aa4d7b8ccaf8356e9d75">  309</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> totalOffset = headOffset + tailOffset;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8f49a8d7add0e2c8eff01cc3b35087e2">  313</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8f49a8d7add0e2c8eff01cc3b35087e2">CheckHeaderFct</a> = std::function&lt;bool(const HeaderType&amp;)&gt;;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a46fd098331cf394c43879fd737d66914">  315</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a46fd098331cf394c43879fd737d66914">CheckTrailerFct</a> = std::function&lt;bool(const TrailerType&amp;)&gt;;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a1771cdaed446dd45a59335bbc51ab238">  318</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a1771cdaed446dd45a59335bbc51ab238">GetFrameSizeFct</a> = std::function&lt;size_t(const TrailerType&amp;)&gt;;</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#aaa25aea35cd7fad4053042223f7c9acc">  321</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#aaa25aea35cd7fad4053042223f7c9acc">InsertFct</a> = std::function&lt;bool(const FrameInfo&amp;)&gt;;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> InputType&gt;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#af2a26d8a0f3bb99718c08a0195616f42">  327</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#af2a26d8a0f3bb99718c08a0195616f42">parse</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">InputType</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, <span class="keywordtype">size_t</span> bufferSize,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8f49a8d7add0e2c8eff01cc3b35087e2">CheckHeaderFct</a> checkHeader,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a46fd098331cf394c43879fd737d66914">CheckTrailerFct</a> checkTrailer,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a1771cdaed446dd45a59335bbc51ab238">GetFrameSizeFct</a> getFrameSize,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#aaa25aea35cd7fad4053042223f7c9acc">InsertFct</a> insert)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    static_assert(<span class="keyword">sizeof</span>(<a class="code" href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">InputType</a>) == 1,</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                  <span class="stringliteral">&quot;ReverseParser currently only supports byte type buffer&quot;</span>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (buffer == <span class="keyword">nullptr</span> || bufferSize == 0)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">auto</span> position = bufferSize;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    std::vector&lt;FrameInfo&gt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html">FrameInfo</a> <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">// start from end, extract and check trailer</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a>) &gt; position)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aaea5fadead30c5700d8e3650d38abb9f">trailer</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a>*<span class="keyword">&gt;</span>(buffer + position - <span class="keyword">sizeof</span>(<a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a>));</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">if</span> (!checkTrailer(*entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aaea5fadead30c5700d8e3650d38abb9f">trailer</a>))</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="comment">// get the total frame size</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keyword">auto</span> frameSize = getFrameSize(*entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aaea5fadead30c5700d8e3650d38abb9f">trailer</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (frameSize &gt; position)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// extract and check header</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keyword">auto</span> headerStart = buffer + position - frameSize;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a3955d861ca507332bed4fc3875e34f96">header</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ad26e1269f8b47de241a2f297b781bce3">HeaderType</a>*<span class="keyword">&gt;</span>(headerStart);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">if</span> (!checkHeader(*entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a3955d861ca507332bed4fc3875e34f96">header</a>))</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="comment">// payload immediately after header</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aee75a0b54bc3b59064db040e59cda5c3">payload</a> = <span class="keyword">reinterpret_cast&lt;</span>typename <a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#ac7b1629d2c1812936b8b27e9bb2f3212">FrameInfo::PtrT</a><span class="keyword">&gt;</span>(entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a3955d861ca507332bed4fc3875e34f96">header</a> + 1);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      entry.<a class="code" href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a0943b71a37c706e1b0bc0c0d8770b005">length</a> = frameSize - <span class="keyword">sizeof</span>(<a class="code" href="../../de/dd4/namespaceo2_1_1header.html#a57d31ff7c9656164cbca87006e9b7972">HeaderType</a>) - <span class="keyword">sizeof</span>(<a class="code" href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">TrailerType</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      frames.emplace_back(entry);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      position -= frameSize;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    } <span class="keywordflow">while</span> (position &gt; 0);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (position == 0) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">// frames found and format consistent, the complete block must be consistent</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a> : frames) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (!insert(<a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>))</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">return</span> frames.size();</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (frames.size() == 0) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// no frames found at all, the buffer does not contain any</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// format error detected</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// TODO: decide about error policy</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;};</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;} <span class="comment">// namespace algorithm</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;} <span class="comment">// namespace o2</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">#endif // ALGORITHM_PARSER_H</span></div><div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html_a368f398d4c95edcc9144ae94601c6a6d"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a368f398d4c95edcc9144ae94601c6a6d">o2::algorithm::ForwardParser::FrameInfo::header</a></div><div class="ttdeci">const HeaderType * header</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00110">Parser.h:110</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_a46fd098331cf394c43879fd737d66914"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a46fd098331cf394c43879fd737d66914">o2::algorithm::ReverseParser::CheckTrailerFct</a></div><div class="ttdeci">std::function&lt; bool(const TrailerType &amp;)&gt; CheckTrailerFct</div><div class="ttdoc">alias for callback checking the trailer </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00315">Parser.h:315</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html_af8c388d5c50ff8a0bd0584363523997f"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#af8c388d5c50ff8a0bd0584363523997f">o2::algorithm::ForwardParser::FrameInfo::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00113">Parser.h:113</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html">o2::algorithm::ReverseParser::FrameInfo</a></div><div class="ttdoc">of header, data, and trailer </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00296">Parser.h:296</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_ab7a2ecd967c91983ab2b1cd6f03ca688"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab7a2ecd967c91983ab2b1cd6f03ca688">o2::algorithm::ForwardParser::GetFrameSizeFct</a></div><div class="ttdeci">std::function&lt; size_t(const HeaderType &amp;)&gt; GetFrameSizeFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00143">Parser.h:143</a></div></div>
<div class="ttc" id="namespaceo2_html"><div class="ttname"><a href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="ttdoc">information complementary to a CCDB object (path, metadata, startTimeValidity, endTimeValidity etc) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d24/BitstreamReader_8h_source.html#l00022">BitstreamReader.h:22</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html_ab6fceefc8624bcc6d5532007aa339b50"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#ab6fceefc8624bcc6d5532007aa339b50">o2::algorithm::ForwardParser::FrameInfo::trailer</a></div><div class="ttdeci">const TrailerType * trailer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00111">Parser.h:111</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a950fc91edb4504f62f1c577bf4727c29"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a></div><div class="ttdeci">typedef void(APIENTRYP PFNGLCULLFACEPROC)(GLenum mode)</div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html_a538df8aa63384bd4d7c1718a7f649673"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#a538df8aa63384bd4d7c1718a7f649673">o2::algorithm::ForwardParser::FrameInfo::payload</a></div><div class="ttdeci">PtrT payload</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00112">Parser.h:112</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a36862d7c6208bc30723fd06f2a0f9bfd"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a></div><div class="ttdeci">GLuint entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05735">glcorearb.h:5735</a></div></div>
<div class="ttc" id="namespaceo2_1_1header_html_a57d31ff7c9656164cbca87006e9b7972"><div class="ttname"><a href="../../de/dd4/namespaceo2_1_1header.html#a57d31ff7c9656164cbca87006e9b7972">o2::header::HeaderType</a></div><div class="ttdeci">Descriptor&lt; gSizeHeaderDescriptionString &gt; HeaderType</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dcd/DataHeader_8h_source.html#l00366">DataHeader.h:366</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ab7fb625dfadb7c815fc46d8dd5d6b012"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ab7fb625dfadb7c815fc46d8dd5d6b012">frames</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time frames(excluding borders)&quot;) AddOption(eventStride</div></div>
<div class="ttc" id="glcorearb_8h_html_a3667f558219c90437106b544a3ca00b8"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00655">glcorearb.h:655</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_a8f49a8d7add0e2c8eff01cc3b35087e2"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8f49a8d7add0e2c8eff01cc3b35087e2">o2::algorithm::ReverseParser::CheckHeaderFct</a></div><div class="ttdeci">std::function&lt; bool(const HeaderType &amp;)&gt; CheckHeaderFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00313">Parser.h:313</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1typesize_html"><div class="ttname"><a href="../../de/dbc/structo2_1_1algorithm_1_1typesize.html">o2::algorithm::typesize</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00031">Parser.h:31</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_ab279d97d5ad06492fc71e5af714417a1"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab279d97d5ad06492fc71e5af714417a1">o2::algorithm::ForwardParser::parse</a></div><div class="ttdeci">int parse(const InputType *buffer, size_t bufferSize, CheckHeaderFct checkHeader, CheckTrailerFct&lt; TrailerType &gt; checkTrailer, GetFrameSizeFct getFrameSize, InsertFct insert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00153">Parser.h:153</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_a1771cdaed446dd45a59335bbc51ab238"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a1771cdaed446dd45a59335bbc51ab238">o2::algorithm::ReverseParser::GetFrameSizeFct</a></div><div class="ttdeci">std::function&lt; size_t(const TrailerType &amp;)&gt; GetFrameSizeFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00318">Parser.h:318</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_a3f7bb31c8a2a4c65e61844b2e12dba6b"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a3f7bb31c8a2a4c65e61844b2e12dba6b">o2::algorithm::ForwardParser::InsertFct</a></div><div class="ttdeci">std::function&lt; bool(FrameInfo &amp;)&gt; InsertFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00147">Parser.h:147</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_a42c90821b195cf94c3387c518982765e"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a42c90821b195cf94c3387c518982765e">o2::algorithm::ForwardParser::CheckTrailerFctArgumentT</a></div><div class="ttdeci">typename std::conditional&lt; !std::is_void&lt; TrailerType &gt;::value, TrailerType, int &gt;::type CheckTrailerFctArgumentT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00131">Parser.h:131</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html_ac7b1629d2c1812936b8b27e9bb2f3212"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#ac7b1629d2c1812936b8b27e9bb2f3212">o2::algorithm::ReverseParser::FrameInfo::PtrT</a></div><div class="ttdeci">const PayloadType * PtrT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00297">Parser.h:297</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_ae40ce97e3d9ecea3e3f74b5b21a94dac"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ae40ce97e3d9ecea3e3f74b5b21a94dac">o2::algorithm::ForwardParser::HeaderType</a></div><div class="ttdeci">HeaderT HeaderType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00101">Parser.h:101</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_a8a11ca2b794024ecc82253b72ff817f1"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a8a11ca2b794024ecc82253b72ff817f1">o2::algorithm::ReverseParser::PayloadType</a></div><div class="ttdeci">unsigned char PayloadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00293">Parser.h:293</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html_aee75a0b54bc3b59064db040e59cda5c3"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aee75a0b54bc3b59064db040e59cda5c3">o2::algorithm::ReverseParser::FrameInfo::payload</a></div><div class="ttdeci">PtrT payload</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00301">Parser.h:301</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_ada10a86f2ae7f731edb193ec2dc3f7c6"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ada10a86f2ae7f731edb193ec2dc3f7c6">o2::algorithm::ForwardParser::CheckHeaderFct</a></div><div class="ttdeci">std::function&lt; bool(const HeaderType &amp;)&gt; CheckHeaderFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00125">Parser.h:125</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_aaa25aea35cd7fad4053042223f7c9acc"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#aaa25aea35cd7fad4053042223f7c9acc">o2::algorithm::ReverseParser::InsertFct</a></div><div class="ttdeci">std::function&lt; bool(const FrameInfo &amp;)&gt; InsertFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00321">Parser.h:321</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_aa60a36d276631c72f17cbc7ea443f06f"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#aa60a36d276631c72f17cbc7ea443f06f">o2::algorithm::ForwardParser::CheckTrailerFct</a></div><div class="ttdeci">typename std::conditional&lt; !std::is_void&lt; U &gt;::value, std::function&lt; bool(const CheckTrailerFctArgumentT &amp;)&gt;, std::function&lt; bool()&gt; &gt;::type CheckTrailerFct</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00139">Parser.h:139</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_a8c8a6254b13a529b8c55c571c6233891"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8c8a6254b13a529b8c55c571c6233891">o2::algorithm::ForwardParser::PayloadType</a></div><div class="ttdeci">unsigned char PayloadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00103">Parser.h:103</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_ab52499d27b1508b4c468f888719bcc86"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#ab52499d27b1508b4c468f888719bcc86">o2::algorithm::ForwardParser::parse</a></div><div class="ttdeci">std::enable_if&lt; std::is_void&lt; U &gt;::value, int &gt;::type parse(const InputType *buffer, size_t bufferSize, CheckHeaderFct checkHeader, GetFrameSizeFct getFrameSize, InsertFct insert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00224">Parser.h:224</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a921fa83f7755f0139c84ba1831417a2e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a921fa83f7755f0139c84ba1831417a2e">length</a></div><div class="ttdeci">GLuint GLsizei GLsizei * length</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00790">glcorearb.h:790</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html">o2::algorithm::ForwardParser::FrameInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00107">Parser.h:107</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_ad26e1269f8b47de241a2f297b781bce3"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#ad26e1269f8b47de241a2f297b781bce3">o2::algorithm::ReverseParser::HeaderType</a></div><div class="ttdeci">HeaderT HeaderType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00291">Parser.h:291</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_a2a7e290a5acfbad73b39ee18f9e1d0d8"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#a2a7e290a5acfbad73b39ee18f9e1d0d8">o2::algorithm::ReverseParser::TrailerType</a></div><div class="ttdeci">TrailerT TrailerType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00292">Parser.h:292</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo_html_afa495feaebd5247428ff0b027635f797"><div class="ttname"><a href="../../d8/dd7/structo2_1_1algorithm_1_1ForwardParser_1_1FrameInfo.html#afa495feaebd5247428ff0b027635f797">o2::algorithm::ForwardParser::FrameInfo::PtrT</a></div><div class="ttdeci">const PayloadType * PtrT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00108">Parser.h:108</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html">o2::algorithm::ForwardParser</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00098">Parser.h:98</a></div></div>
<div class="ttc" id="glcorearb_8h_html_af5ef68ee1b33850ea6254115a25d0a85"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00819">glcorearb.h:819</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a7d05960f4f1c1b11f3177dc963a45d86"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a7d05960f4f1c1b11f3177dc963a45d86">type</a></div><div class="ttdeci">GLint GLint GLsizei GLint GLenum GLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00275">glcorearb.h:275</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ForwardParser_html_a8435f159eeee72ba620e736deb5ef0d1"><div class="ttname"><a href="../../df/df7/classo2_1_1algorithm_1_1ForwardParser.html#a8435f159eeee72ba620e736deb5ef0d1">o2::algorithm::ForwardParser::TrailerType</a></div><div class="ttdeci">TrailerT TrailerType</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00102">Parser.h:102</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html_aaea5fadead30c5700d8e3650d38abb9f"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#aaea5fadead30c5700d8e3650d38abb9f">o2::algorithm::ReverseParser::FrameInfo::trailer</a></div><div class="ttdeci">const TrailerType * trailer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00300">Parser.h:300</a></div></div>
<div class="ttc" id="group__EMCALworkflow_html_ga995652315f4dd597f90571c96e7e52a1"><div class="ttname"><a href="../../d0/dbe/group__EMCALworkflow.html#ga995652315f4dd597f90571c96e7e52a1">o2::cpv::reco_workflow::InputType</a></div><div class="ttdeci">InputType</div><div class="ttdoc">define input and output types of the workflow </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/CPV_2workflow_2include_2CPVWorkflow_2RecoWorkflow_8h_source.html#l00028">RecoWorkflow.h:28</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html">o2::algorithm::ReverseParser</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00288">Parser.h:288</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html_a3955d861ca507332bed4fc3875e34f96"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a3955d861ca507332bed4fc3875e34f96">o2::algorithm::ReverseParser::FrameInfo::header</a></div><div class="ttdeci">const HeaderType * header</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00299">Parser.h:299</a></div></div>
<div class="ttc" id="structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo_html_a0943b71a37c706e1b0bc0c0d8770b005"><div class="ttname"><a href="../../d0/d0a/structo2_1_1algorithm_1_1ReverseParser_1_1FrameInfo.html#a0943b71a37c706e1b0bc0c0d8770b005">o2::algorithm::ReverseParser::FrameInfo::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00302">Parser.h:302</a></div></div>
<div class="ttc" id="classo2_1_1algorithm_1_1ReverseParser_html_af2a26d8a0f3bb99718c08a0195616f42"><div class="ttname"><a href="../../da/d6a/classo2_1_1algorithm_1_1ReverseParser.html#af2a26d8a0f3bb99718c08a0195616f42">o2::algorithm::ReverseParser::parse</a></div><div class="ttdeci">int parse(const InputType *buffer, size_t bufferSize, CheckHeaderFct checkHeader, CheckTrailerFct checkTrailer, GetFrameSizeFct getFrameSize, InsertFct insert)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0c/Parser_8h_source.html#l00327">Parser.h:327</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_8ba487e25de5ee77e05e9dce7582cb98.html">Algorithm</a></li><li class="navelem"><a class="el" href="../../dir_b462f90fe076c16030c341e96d9a0ccf.html">include</a></li><li class="navelem"><a class="el" href="../../dir_41e11c419734b1171969e80bed5b0fa6.html">Algorithm</a></li><li class="navelem"><a class="el" href="../../d6/d0c/Parser_8h.html">Parser.h</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:20 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
