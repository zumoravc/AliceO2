<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/ITSMFT/common/reconstruction/include/ITSMFTReconstruction/RawPixelReader.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/db8/RawPixelReader_8h_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RawPixelReader.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/db8/RawPixelReader_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef ALICEO2_ITSMFT_RAWPIXELREADER_H_</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define ALICEO2_ITSMFT_RAWPIXELREADER_H_</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h.html">Headers/RAWDataHeader.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d80/InteractionRecord_8h.html">CommonDataFormat/InteractionRecord.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d2e/PixelReader_8h.html">ITSMFTReconstruction/PixelReader.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d8d/PixelData_8h.html">ITSMFTReconstruction/PixelData.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d57/ChipMappingITS_8h.html">ITSMFTReconstruction/ChipMappingITS.h</a>&quot;</span> <span class="comment">// this will become template parameter</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/da2/AlpideCoder_8h.html">ITSMFTReconstruction/AlpideCoder.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d86/GBTWord_8h.html">ITSMFTReconstruction/GBTWord.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/da4/Triggers_8h.html">CommonConstants/Triggers.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d35/PayLoadCont_8h.html">ITSMFTReconstruction/PayLoadCont.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d20/PayLoadSG_8h.html">ITSMFTReconstruction/PayLoadSG.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dd1/GBTLink_8h.html">ITSMFTReconstruction/GBTLink.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d0e/RUDecodeData_8h.html">ITSMFTReconstruction/RUDecodeData.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;TTree.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;TStopwatch.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;FairLogger.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;string_view&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;bitset&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dd/db8/RawPixelReader_8h.html#a7cfb314334725d77ce0841b17d186d46">   45</a></span>&#160;<span class="preprocessor">#define _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">   47</a></span>&#160;<span class="preprocessor">#define OUTHEX(v, l) &quot;0x&quot; &lt;&lt; std::hex &lt;&lt; std::setfill(&#39;0&#39;) &lt;&lt; std::setw(l) &lt;&lt; v &lt;&lt; std::dec</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">namespace </span>itsmft</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">   54</a></span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a> = 8 * 1024; <span class="comment">// Max size of GBT packet in bytes (8KB)</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5e75064a96754ce248b6e76e75573fbf">   55</a></span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5e75064a96754ce248b6e76e75573fbf">MaxGBTWordsPerPacket</a> = MaxGBTPacketBytes / <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">GBTPaddedWordLength</a>; <span class="comment">// Max N of GBT words per CRU page</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../dc/d84/namespaceo2_1_1itsmft.html#ad3c37034de56df5e5488c0991f69f6a5">   56</a></span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#ad3c37034de56df5e5488c0991f69f6a5">NCRUPagesPerSuperpage</a> = 256;  <span class="comment">// Expected max number of CRU pages per superpage</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">   59</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">RawDecodingStat</a> {</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bf">   60</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bf">DecErrors</a> : <span class="keywordtype">int</span> {</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">   61</a></span>&#160;    <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">ErrInvalidFEEId</a>, <span class="comment">// RDH provided invalid FEEId</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383">   62</a></span>&#160;    <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383">NErrorsDefined</a></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  };</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">   65</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a> = <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a50cd65a0a38d2cf0a210e24ba0fe61f2">   66</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a50cd65a0a38d2cf0a210e24ba0fe61f2">nTriggersProcessed</a> = 0;                  <span class="comment">// total number of triggers processed</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a820ed5132058bc3f0b57f3aed4149aa7">   67</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a820ed5132058bc3f0b57f3aed4149aa7">nPagesProcessed</a> = 0;                     <span class="comment">// total number of pages processed</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a4d29f4d2d77e2c7bc4da599ef65f846c">   68</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a4d29f4d2d77e2c7bc4da599ef65f846c">nRUsProcessed</a> = 0;                       <span class="comment">// total number of RUs processed (1 RU may take a few pages)</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a552d66be710a5c94baa1357b79142e08">   69</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a552d66be710a5c94baa1357b79142e08">nBytesProcessed</a> = 0;                     <span class="comment">// total number of bytes (rdh-&gt;memorySize) processed</span></div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#aeb30a4c94fb87396a146b52be90a7885">   70</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#aeb30a4c94fb87396a146b52be90a7885">nNonEmptyChips</a> = 0;                      <span class="comment">// number of non-empty chips found</span></div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a2fd48dd8a73b93834142846dfd4b1c2d">   71</a></span>&#160;  <a class="code" href="../../d6/d30/classuint64__t.html">uint64_t</a> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a2fd48dd8a73b93834142846dfd4b1c2d">nHitsDecoded</a> = 0;                        <span class="comment">// number of hits found</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a18d77afe74daa05ccab44c219d0a48a1">   72</a></span>&#160;  std::array&lt;int, NErrorsDefined&gt; <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a18d77afe74daa05ccab44c219d0a48a1">errorCounts</a> = {}; <span class="comment">// error counters</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#aa6bea3d7b257398b074ad4a8e7147973">RawDecodingStat</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd82bfa3086c77868043c1b4afd08330">   76</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd82bfa3086c77868043c1b4afd08330">clear</a>()</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    nTriggersProcessed = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    nPagesProcessed = 0;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    nRUsProcessed = 0;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    nBytesProcessed = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    nNonEmptyChips = 0;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    nHitsDecoded = 0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    errorCounts.fill(0);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd0a8294129b01de6bbc34755add1c58">   87</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd0a8294129b01de6bbc34755add1c58">print</a>(<span class="keywordtype">bool</span> skipEmpty = <span class="keyword">true</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    printf(<span class="stringliteral">&quot;\nDecoding statistics\n&quot;</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    printf(<span class="stringliteral">&quot;%llu bytes for %llu RUs processed in %llu pages for %llu triggers\n&quot;</span>, (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nBytesProcessed, (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nRUsProcessed,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;           (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nPagesProcessed, (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nTriggersProcessed);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    printf(<span class="stringliteral">&quot;%llu hits found in %llu non-empty chips\n&quot;</span>, (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nHitsDecoded, (<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">ULL</a>)nNonEmptyChips);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">int</span> nErr = 0;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383">NErrorsDefined</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      nErr += errorCounts[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    printf(<span class="stringliteral">&quot;Decoding errors: %d\n&quot;</span>, nErr);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383">NErrorsDefined</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keywordflow">if</span> (!skipEmpty || errorCounts[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        printf(<span class="stringliteral">&quot;%-70s: %d\n&quot;</span>, <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a3ad3dce98534d81a7fdaecf745bb7db4">ErrNames</a>[i].<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>(), errorCounts[i]);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a3ad3dce98534d81a7fdaecf745bb7db4">  105</a></span>&#160;  <span class="keyword">static</span> constexpr std::array&lt;std::string_view, NErrorsDefined&gt; <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a3ad3dce98534d81a7fdaecf745bb7db4">ErrNames</a> = {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="stringliteral">&quot;RDH cointains invalid FEEID&quot;</span> <span class="comment">// ErrInvalidFEEId</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  };</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ab89eb54edbe7d41faac0b85a988fbd5f">ClassDefNV</a>(<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">RawDecodingStat</a>, 2);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;};</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Mapping = o2::itsmft::ChipMappingITS&gt;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">  119</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">RawPixelReader</a> : <span class="keyword">public</span> <a class="code" href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html">PixelReader</a></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keyword">using</span> <a class="code" href="../../d7/d8b/classo2_1_1itsmft_1_1AlpideCoder.html">Coder</a> = <a class="code" href="../../d7/d8b/classo2_1_1itsmft_1_1AlpideCoder.html">o2::itsmft::AlpideCoder</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00f4400fc9ebdb4b94b4bdde2a266919">  124</a></span>&#160;  <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00f4400fc9ebdb4b94b4bdde2a266919">RawPixelReader</a>()</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    mRUEntry.fill(-1); <span class="comment">// no known links in the beginning</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2742d2d4d369e89c2aa7a64ba35d7572">  129</a></span>&#160;  <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2742d2d4d369e89c2aa7a64ba35d7572">~RawPixelReader</a>()<span class="keyword"> override</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    mSWIO.Stop();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    printf(<span class="stringliteral">&quot;RawPixelReader IO time: &quot;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    mSWIO.Print();</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    printf(<span class="stringliteral">&quot;Cache filling time: &quot;</span>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    mSWCache.Print();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a58844e82ba93f23a9d300fa8fbda31d8">  140</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a58844e82ba93f23a9d300fa8fbda31d8">isPadding128</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPadding128; }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a6400db7267f5659e3e8cb76f5f396970">  143</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a6400db7267f5659e3e8cb76f5f396970">isMaxPageImposed</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mImposeMaxPage; }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a92eda52a0270e1841800d560ecefdce1">  146</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a92eda52a0270e1841800d560ecefdce1">getGBTWordSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mGBTWordSize; }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae809f7713a78429b0cf2bc2bbba58a38">  149</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae809f7713a78429b0cf2bc2bbba58a38">setPadding128</a>(<span class="keywordtype">bool</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    mPadding128 = <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    mGBTWordSize = mPadding128 ? <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a> : <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#aa72f3ad0b8bc782848045f98ef715321">o2::itsmft::GBTWordLength</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1f95341a8acbf5d2be699cb0041ee6c8">  156</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1f95341a8acbf5d2be699cb0041ee6c8">setMinTriggersToCache</a>(<span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>) { mMinTriggersToCache = n &gt; NCRUPagesPerSuperpage ? <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a> : NCRUPagesPerSuperpage + 1; }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3593c71cb7d3282a1c70a54d237038ac">  158</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3593c71cb7d3282a1c70a54d237038ac">getMinTriggersToCache</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMinTriggersToCache; }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a20f70ce9bd99a31d84e018188a606835">  161</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a20f70ce9bd99a31d84e018188a606835">imposeMaxPage</a>(<span class="keywordtype">bool</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>) { mImposeMaxPage = <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>; }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9db3acd72bd0cfa283c504d58853fceb">  164</a></span>&#160;  <a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html">ChipPixelData</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9db3acd72bd0cfa283c504d58853fceb">getNextChipData</a>(std::vector&lt;ChipPixelData&gt;&amp; chipDataVec)<span class="keyword"> override</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// decode new RU if no cached non-empty chips</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (mCurRUDecodeID &gt;= 0) { <span class="comment">// make sure current RU has fired chips to extract</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">for</span> (; mCurRUDecodeID &lt; mNRUs; mCurRUDecodeID++) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keyword">auto</span>&amp; ru = mRUDecodeVec[mCurRUDecodeID];</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">if</span> (ru.lastChipChecked &lt; ru.nChipsFired) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          <span class="keyword">auto</span>&amp; chipData = ru.chipsData[ru.lastChipChecked++];</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;          <span class="keywordtype">int</span> <span class="keywordtype">id</span> = chipData.<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          chipDataVec[<a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>].swap(chipData);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          <span class="keywordflow">return</span> &amp;chipDataVec[<a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>];</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      mCurRUDecodeID = 0; <span class="comment">// no more decoded data if reached this place,</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// will need to decode new trigger</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (!mDecodeNextAuto) { <span class="comment">// no more data in the current ROF and no automatic decoding of next one was requested</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (mMinTriggersCached &lt; 2) { <span class="comment">// last trigger might be incomplete, need to cache more data</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      cacheLinksData(mRawBuffer);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (mMinTriggersCached &lt; 1 || !decodeNextTrigger()) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      mCurRUDecodeID = -1;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; <span class="comment">// nothing left</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span> getNextChipData(chipDataVec); <span class="comment">// is it ok to use recursion here?</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aa89fcb11e9db8043f14808a5cf542624">  195</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aa89fcb11e9db8043f14808a5cf542624">init</a>()<span class="keyword"> override</span>{};</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f48dac938524dd4a405936b0c98943e">  198</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f48dac938524dd4a405936b0c98943e">clear</a>(<span class="keywordtype">bool</span> resetStat = <span class="keyword">true</span>)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Cleaning decoder, reset_statistics_flag &quot;</span> &lt;&lt; resetStat;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (resetStat) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      mDecodingStat.clear();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; rudec : mRUDecodeVec) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      rudec.clear();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; lnk : mGBTLinks) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      lnk.clear(resetStat);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    mMinTriggersCached = 0;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    mCurRUDecodeID = -1;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    mIOFile.close();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    mRawBuffer.clear();</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1d4efb5b802926916bf7b18a364c45c6">  219</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1d4efb5b802926916bf7b18a364c45c6">digits2raw</a>(<span class="keyword">const</span> std::vector&lt;o2::itsmft::Digit&gt;&amp; digiVec, <span class="keywordtype">int</span> from, <span class="keywordtype">int</span> ndig, <span class="keyword">const</span> <a class="code" href="../../d1/d21/structo2_1_1InteractionRecord.html">o2::InteractionRecord</a>&amp; bcData,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                 uint8_t ruSWMin = 0, uint8_t ruSWMax = 0xff)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// Convert ndig digits belonging to the same trigger to raw data</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// The digits in the vector must be in increasing chipID order</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// Return the number of pages in the link with smallest amount of pages</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">int</span> nDigTot = digiVec.size();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(from &lt; nDigTot);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">int</span> last = (from + ndig &lt;= nDigTot) ? from + ndig : nDigTot;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>* curRUDecode = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html">ChipPixelData</a>* curChipData = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html">ChipInfo</a> chInfo;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    UShort_t curChipID = 0xffff; <span class="comment">// currently processed SW chip id</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    mInteractionRecord = bcData;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    ruSWMax = (ruSWMax &lt; uint8_t(mMAP.getNRUs())) ? ruSWMax : mMAP.getNRUs() - 1;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (mNRUs &lt; <span class="keywordtype">int</span>(ruSWMax) - ruSWMin) { <span class="comment">// book containers if needed</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">for</span> (uint8_t ru = ruSWMin; ru &lt;= ruSWMax; ru++) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keyword">auto</span>&amp; ruData = getCreateRUDecode(ru);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordtype">int</span> nLinks = 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> il = 0; il &lt; <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">RUDecodeData::MaxLinksPerRU</a>; il++) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          nLinks += ruData.links[il] &lt; 0 ? 0 : 1;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        mNLinks += nLinks;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (!nLinks) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Imposing single link readout for RU &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(ru);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          ruData.links[0] = addGBTLink();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          getGBTLink(ruData.links[0])-&gt;lanes = mMAP.getCablesOnRUType(ruData.ruInfo-&gt;ruType);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          mNLinks++;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// place digits into corresponding chip buffers</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = from; <span class="keywordtype">id</span> &lt; last; <span class="keywordtype">id</span>++) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dig = digiVec[<a class="code" href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a>];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (curChipID != dig.getChipIndex()) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        mMAP.getChipInfoSW(dig.getChipIndex(), chInfo);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> (chInfo.<a class="code" href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aaaa25d1ba2a8a680e099dfbf008834f3">ru</a> &lt; ruSWMin || chInfo.<a class="code" href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aaaa25d1ba2a8a680e099dfbf008834f3">ru</a> &gt; ruSWMax) { <span class="comment">// ignore this chip?</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        curChipID = dig.getChipIndex();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        mCurRUDecodeID = chInfo.<a class="code" href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aaaa25d1ba2a8a680e099dfbf008834f3">ru</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        curRUDecode = &amp;mRUDecodeVec[mCurRUDecodeID];</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        curChipData = &amp;curRUDecode-&gt;<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">chipsData</a>[curRUDecode-&gt;<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">nChipsFired</a>++];</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        curChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a8acd33815c6ef139b7a10aef8234b604">setChipID</a>(chInfo.<a class="code" href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aa0eeb81c4e08599565f3fa38913d91ba">chOnRU</a>-&gt;<a class="code" href="../../d4/d0c/structo2_1_1itsmft_1_1ChipOnRUInfo.html#a3fd6598f55602511173faca3067a9a77">id</a>); <span class="comment">// set ID within the RU</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      curChipData-&gt;<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>().emplace_back(&amp;dig); <span class="comment">// add new digit to the container</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// convert digits to alpide data in the per-cable buffers</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">int</span> minPages = 0xffffff;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span> (mCurRUDecodeID = ruSWMin; mCurRUDecodeID &lt;= <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(ruSWMax); mCurRUDecodeID++) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      curRUDecode = &amp;mRUDecodeVec[mCurRUDecodeID];</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      uint16_t next2Proc = 0, nchTot = mMAP.getNChipsOnRUType(curRUDecode-&gt;<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">ruType</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ich = 0; ich &lt; curRUDecode-&gt;<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">nChipsFired</a>; ich++) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keyword">auto</span>&amp; chipData = curRUDecode-&gt;<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">chipsData</a>[ich];</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        convertEmptyChips(next2Proc, chipData.getChipID()); <span class="comment">// if needed store EmptyChip flags</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        next2Proc = chipData.getChipID() + 1;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        convertChip(chipData);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        chipData.clear();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      convertEmptyChips(next2Proc, nchTot); <span class="comment">// if needed store EmptyChip flags</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordtype">int</span> minPageRU = fillGBTLinks();       <span class="comment">// flush per-lane buffers to link buffers</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (minPageRU &lt; minPages) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        minPages = minPageRU;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> minPages;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">//___________________________________________________________________________________</span></div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f0f63a2b6e24c5630849f87b6ee7a15">  292</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f0f63a2b6e24c5630849f87b6ee7a15">convertChip</a>(<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html">o2::itsmft::ChipPixelData</a>&amp; chipData)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">auto</span>&amp; ruData = mRUDecodeVec[mCurRUDecodeID]; <span class="comment">// current RU container</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// fetch info of the chip with chipData-&gt;getChipID() ID within the RU</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; chip = *mMAP.getChipOnRUInfo(ruData.ruInfo-&gt;ruType, chipData.<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">getChipID</a>());</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    ruData.cableHWID[chip.cableSW] = chip.cableHW; <span class="comment">// register the cable HW ID</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a9e907d395940d7ddc7945f0194f01764">pixels</a> = chipData.<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">getData</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    std::sort(<a class="code" href="../../dc/da3/glcorearb_8h.html#a9e907d395940d7ddc7945f0194f01764">pixels</a>.begin(), <a class="code" href="../../dc/da3/glcorearb_8h.html#a9e907d395940d7ddc7945f0194f01764">pixels</a>.end(),</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;              [](<span class="keyword">auto</span> lhs, <span class="keyword">auto</span> rhs) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">if</span> (lhs.getRow() &lt; rhs.getRow())</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span> (lhs.getRow() &gt; rhs.getRow())</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">return</span> lhs.getCol() &lt; rhs.getCol();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;              });</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    ruData.cableData[chip.cableSW].ensureFreeCapacity(40 * (2 + <a class="code" href="../../dc/da3/glcorearb_8h.html#a9e907d395940d7ddc7945f0194f01764">pixels</a>.size())); <span class="comment">// make sure buffer has enough capacity</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    mCoder.encodeChip(ruData.cableData[chip.cableSW], chipData, chip.chipOnModuleHW, mInteractionRecord.bc);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">//______________________________________________________</span></div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a95a70e272e15fea88bd405c31605f1fc">  315</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a95a70e272e15fea88bd405c31605f1fc">convertEmptyChips</a>(<span class="keywordtype">int</span> fromChip, <span class="keywordtype">int</span> uptoChip)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// add empty chip words to respective cable&#39;s buffers for all chips of the current RU container</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">auto</span>&amp; ruData = mRUDecodeVec[mCurRUDecodeID];                     <span class="comment">// current RU container</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> chipIDSW = fromChip; chipIDSW &lt; uptoChip; chipIDSW++) { <span class="comment">// flag chips w/o data</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; chip = *mMAP.getChipOnRUInfo(ruData.ruInfo-&gt;ruType, chipIDSW);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      ruData.cableHWID[chip.cableSW] = chip.cableHW; <span class="comment">// register the cable HW ID</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      ruData.cableData[chip.cableSW].ensureFreeCapacity(100);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      mCoder.addEmptyChip(ruData.cableData[chip.cableSW], chip.chipOnModuleHW, mInteractionRecord.bc);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">//___________________________________________________________________________________</span></div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0709472b606d55215233e3464e1e8966">  328</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0709472b606d55215233e3464e1e8966">fillGBTLinks</a>()</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">// fill data of the RU to links buffer, return the number of pages in the link with smallest amount of pages</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    constexpr uint8_t zero16[<a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>] = {0}; <span class="comment">// to speedup padding</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dummyNPages = 0xffffff;                                <span class="comment">// any large number</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span> minPages = dummyNPages;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">auto</span>&amp; ruData = mRUDecodeVec[mCurRUDecodeID];</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    ruData.nCables = ruData.ruInfo-&gt;nCables;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a> rdh;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">triggerOrbit</a> = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a> = mInteractionRecord.orbit;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a> = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a> = mInteractionRecord.bc;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a> = <a class="code" href="../../df/d7e/namespaceo2_1_1trigger.html#a6239b54eb5076775f1809f2ead1cf04c">o2::trigger::PhT</a>; <span class="comment">// ??</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7b5f9e03ba7edc20861a57dbb2f51abe">detectorField</a> = mMAP.getRUDetectorField();</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">blockLength</a> = 0xffff; <span class="comment">// ITS keeps this dummy</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">int</span> maxGBTWordsPerPacket = (MaxGBTPacketBytes - rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a>) / <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a> - 2;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">int</span> nGBTW[<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">RUDecodeData::MaxLinksPerRU</a>] = {0};</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> il = 0; il &lt; <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">RUDecodeData::MaxLinksPerRU</a>; il++) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keyword">auto</span>* link = getGBTLink(ruData.links[il]);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span> (!link) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordtype">int</span> nGBTWordsNeeded = 0;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icab = ruData.nCables; icab--;) { <span class="comment">// calculate number of GBT words per link</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> ((link-&gt;lanes &amp; (0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a> &lt;&lt; icab))) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          <span class="keywordtype">int</span> nb = ruData.cableData[icab].getSize();</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          nGBTWordsNeeded += nb ? 1 + (nb - 1) / 9 : 0;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// move data in padded GBT words from cable buffers to link buffers</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a> = mMAP.RUSW2FEEId(ruData.ruInfo-&gt;idSW, il); <span class="comment">// write on link 0 always</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">linkID</a> = il;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a> = 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">stop</a> = 0;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordtype">int</span> loadsize = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a> + (nGBTWordsNeeded + 2) * <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>; <span class="comment">// total data to dump</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a> = loadsize &lt; MaxGBTPacketBytes ? loadsize : <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a> = mImposeMaxPage ? <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a> : rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      link-&gt;data.ensureFreeCapacity(MaxGBTPacketBytes);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      link-&gt;data.addFast(reinterpret_cast&lt;uint8_t*&gt;(&amp;rdh), rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a>); <span class="comment">// write RDH for current packet</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      link-&gt;nTriggers++;                                                    <span class="comment">// acknowledge the page, note: here we count pages, not triggers</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <a class="code" href="../../d7/d6f/structo2_1_1itsmft_1_1GBTDataHeader.html">o2::itsmft::GBTDataHeader</a> gbtHeader(0, link-&gt;lanes);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="../../d2/d9e/structo2_1_1itsmft_1_1GBTDataTrailer.html">o2::itsmft::GBTDataTrailer</a> gbtTrailer; <span class="comment">// lanes will be set on closing the last page</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af36d3948c8acfc74e1ca59f457999459">packetIdx</a> = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      link-&gt;data.addFast(gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af2c94045e30f66fa244fc39a8c4a8937">getW8</a>(), mGBTWordSize); <span class="comment">// write GBT header for current packet</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Filling RU data&quot;</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(&amp;rdh);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="comment">// now loop over the lanes served by this link, writing each time at most 9 bytes, untill all lanes are copied</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordtype">int</span> nGBTWordsInPacket = 0;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="keywordflow">do</span> {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icab = 0; icab &lt; ruData.nCables; icab++) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          <span class="keywordflow">if</span> ((link-&gt;lanes &amp; (0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a> &lt;&lt; icab))) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keyword">auto</span>&amp; cableData = ruData.cableData[icab];</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordtype">int</span> nb = cableData.getUnusedSize();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> (!nb) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;              <span class="keywordflow">continue</span>; <span class="comment">// write 80b word only if there is something to write</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">if</span> (nb &gt; 9) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;              nb = 9;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordtype">int</span> gbtWordStart = link-&gt;data.getSize();                                                               <span class="comment">// beginning of the current GBT word in the link</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            link-&gt;data.addFast(cableData.getPtr(), nb);                                                            <span class="comment">// fill payload of cable</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            link-&gt;data.addFast(zero16, mGBTWordSize - nb);                                                         <span class="comment">// fill the rest of the GBT word by 0</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            link-&gt;data[gbtWordStart + 9] = mMAP.getGBTHeaderRUType(ruData.ruInfo-&gt;ruType, ruData.cableHWID[icab]); <span class="comment">// set cable flag</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            cableData.setPtr(cableData.getPtr() + nb);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            nGBTWordsNeeded--;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (mVerbose &gt; 1) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;              ((<a class="code" href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">GBTData</a>*)(&amp;link-&gt;data[gbtWordStart]))-&gt;printX(mPadding128);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">if</span> (++nGBTWordsInPacket == maxGBTWordsPerPacket) { <span class="comment">// check if new GBT packet must be created</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          } <span class="comment">// storing data of single cable</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }   <span class="comment">// loop over cables of this link</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (nGBTWordsNeeded &amp;&amp; nGBTWordsInPacket &gt;= maxGBTWordsPerPacket) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          <span class="comment">// more data to write, write trailer and add new GBT packet</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;          link-&gt;data.add(gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af2c94045e30f66fa244fc39a8c4a8937">getW8</a>(), mGBTWordSize); <span class="comment">// write empty GBT trailer for current packet</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;          <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a>++;                                     <span class="comment">// flag new page</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">stop</a> = nGBTWordsNeeded &lt; maxGBTWordsPerPacket; <span class="comment">// flag if this is the last packet of multi-packet</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">blockLength</a> = 0xffff;                          <span class="comment">// (nGBTWordsNeeded % maxGBTWordsPerPacket + 2) * mGBTWordSize; // record payload size</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="comment">// update remaining size, using padded GBT words (as CRU writes)</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          loadsize = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a> + (nGBTWordsNeeded + 2) * <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>; <span class="comment">// update remaining size</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a> = loadsize &lt; MaxGBTPacketBytes ? loadsize : <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a> = mImposeMaxPage ? <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a> : rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          link-&gt;data.ensureFreeCapacity(MaxGBTPacketBytes);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          link-&gt;data.addFast(reinterpret_cast&lt;uint8_t*&gt;(&amp;rdh), rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a>); <span class="comment">// write RDH for current packet</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          link-&gt;nTriggers++;                                                    <span class="comment">// acknowledge the page, note: here we count pages, not triggers</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(&amp;rdh);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af36d3948c8acfc74e1ca59f457999459">packetIdx</a> = rdh.<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          link-&gt;data.addFast(gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af2c94045e30f66fa244fc39a8c4a8937">getW8</a>(), mGBTWordSize); <span class="comment">// write GBT header for current packet</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            gbtHeader.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          nGBTWordsInPacket = 0; <span class="comment">// reset counter of words in the packet</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      } <span class="keywordflow">while</span> (nGBTWordsNeeded);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a5695a3ada552f0092b901fae8b4c79ef">lanesStops</a> = link-&gt;lanes;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#afcd5c4cff795e1d5ee3ece34be409899">packetDone</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      link-&gt;data.addFast(gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af2c94045e30f66fa244fc39a8c4a8937">getW8</a>(), mGBTWordSize); <span class="comment">// write GBT trailer for the last packet</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        gbtTrailer.<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">// NOTE: here we don&#39;t pad the page to 8KB, will do this when flushing everything to the sink</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> (minPages &gt; link-&gt;nTriggers) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        minPages = link-&gt;nTriggers;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    } <span class="comment">// loop over links of RU</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    ruData.clear();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">return</span> minPages == dummyNPages ? 0 : minPages;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">//___________________________________________________________________________________</span></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ad32efd99574532ab842837e628abf079">  456</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ad32efd99574532ab842837e628abf079">flushSuperPages</a>(<span class="keywordtype">int</span> maxPages, <a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; sink, <span class="keywordtype">bool</span> unusedToHead = <span class="keyword">true</span>)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// flush superpage (at most maxPages) of each link to the output,</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// return total number of pages flushed</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">int</span> totPages = 0;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ru = 0; ru &lt; mMAP.getNRUs(); ru++) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keyword">auto</span>* ruData = getRUDecode(ru);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keywordflow">if</span> (!ruData) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> il = 0; il &lt; <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">RUDecodeData::MaxLinksPerRU</a>; il++) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keyword">auto</span> link = getGBTLink(ruData-&gt;links[il]);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> (!link || link-&gt;data.isEmpty()) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordtype">int</span> nPages = 0;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        sink.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a05ff9825c9c57f564a4dc7d53fce00d3">ensureFreeCapacity</a>(maxPages * MaxGBTPacketBytes);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>* ptrIni = link-&gt;data.getPtr();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">while</span> (nPages &lt; maxPages &amp;&amp; !link-&gt;<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>.isEmpty()) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> ptr = link-&gt;data.getPtr();</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;          sink.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">addFast</a>(ptr, rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>);                    <span class="comment">// copy header + payload</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          sink.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#af9ecdc1a4c432ab788fbd3463f905a34">fillFast</a>(0, MaxGBTPacketBytes - rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>); <span class="comment">// complete with 0&#39;s till the end of the page</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          link-&gt;data.setPtr(ptr + rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          link-&gt;nTriggers--; <span class="comment">// here we count pages, not triggers</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          nPages++;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        totPages += nPages;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (unusedToHead) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          link-&gt;data.moveUnusedToHead();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      } <span class="comment">// loop over links</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }   <span class="comment">// loop over RUs</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> totPages;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a5ab65b1aed36067387ea1dc5f5ea4185">  496</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a5ab65b1aed36067387ea1dc5f5ea4185">cacheLinksData</a>(<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// distribute data from the single buffer among the links caches</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Caching links data, currently in cache: &quot;</span> &lt;&lt; mMinTriggersCached &lt;&lt; <span class="stringliteral">&quot; triggers&quot;</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keyword">auto</span> nRead = loadInput(buffer);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#ad905e85a1df0c2f9b4f554a334733694">isEmpty</a>()) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> nRead;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    mSWCache.Start(<span class="keyword">false</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keyword">enum</span> LinkFlag : int8_t { NotUpdated,</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                             Updated,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                             HasEnoughTriggers };</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    LinkFlag linkFlags[Mapping::getNRUs()][3] = {NotUpdated};        <span class="comment">// flag that enough triggeres were loaded for this link</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">int</span> nLEnoughTriggers = 0;                                        <span class="comment">// number of links for we which enough number of triggers were loaded</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keyword">auto</span> ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">if</span> (!isRDHHeuristic(rdh)) {   <span class="comment">// does it look like RDH?</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (!findNextRDH(buffer)) { <span class="comment">// try to recover the pointer</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          <span class="keywordflow">break</span>;                    <span class="comment">// no data to continue</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordtype">int</span> ruIDSW = mMAP.FEEId2RUSW(rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">if</span> (ruIDSW &gt;= mMAP.getNRUs()) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        mDecodingStat.errorCounts[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]++;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; mDecodingStat.ErrNames[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; : FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>, 4) &lt;&lt; <span class="stringliteral">&quot;, skipping CRU page&quot;</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        ptr += rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#afc0438efabfc5e334e3e6d9df829a67b">setPtr</a>(ptr);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">if</span> (buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a04bea8857a66c18ec03c46fce52c0d50">getUnusedSize</a>() &lt; <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a>) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          nRead += loadInput(buffer); <span class="comment">// update</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();      <span class="comment">// pointer might have been changed</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <span class="keyword">auto</span>&amp; ruDecode = getCreateRUDecode(ruIDSW);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordtype">bool</span> newTrigger = <span class="keyword">true</span>; <span class="comment">// check if we see new trigger</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      uint16_t lr, ruOnLr, linkIDinRU;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      mMAP.expandFEEId(rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>, lr, ruOnLr, linkIDinRU);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keyword">auto</span> link = getGBTLink(ruDecode.links[linkIDinRU]);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">if</span> (link) {                                                                                                    <span class="comment">// was there any data seen on this link before?</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> rdhPrev = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(link-&gt;data.getEnd() - link-&gt;lastPageSize); <span class="comment">// last stored RDH</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">if</span> (isSameRUandTrigger(rdhPrev, rdh)) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          newTrigger = <span class="keyword">false</span>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// a new link was added</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Adding new GBT LINK FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>, 4);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        ruDecode.links[linkIDinRU] = addGBTLink();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        link = getGBTLink(ruDecode.links[linkIDinRU]);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        link-&gt;statistics.ruLinkID = linkIDinRU;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        mNLinks++;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span> (linkFlags[ruIDSW][linkIDinRU] == NotUpdated) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        link-&gt;data.moveUnusedToHead(); <span class="comment">// reuse space of already processed data</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        linkFlags[ruIDSW][linkIDinRU] = Updated;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="comment">// copy data to the buffer of the link and memorize its RDH pointer</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      link-&gt;data.add(ptr, rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      link-&gt;lastPageSize = rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>; <span class="comment">// account new added size</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keyword">auto</span> rdhC = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(link-&gt;data.getEnd() - link-&gt;lastPageSize);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      rdhC-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a> = rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>; <span class="comment">// since we skip 0-s, we have to modify the offset</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (newTrigger) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        link-&gt;nTriggers++; <span class="comment">// acknowledge 1st trigger</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> (link-&gt;nTriggers &gt;= mMinTriggersToCache &amp;&amp; linkFlags[ruIDSW][linkIDinRU] != HasEnoughTriggers) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;          nLEnoughTriggers++;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          linkFlags[ruIDSW][linkIDinRU] = HasEnoughTriggers;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      ptr += rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#afc0438efabfc5e334e3e6d9df829a67b">setPtr</a>(ptr);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">if</span> (buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a04bea8857a66c18ec03c46fce52c0d50">getUnusedSize</a>() &lt; <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">MaxGBTPacketBytes</a>) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        nRead += loadInput(buffer); <span class="comment">// update</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();      <span class="comment">// pointer might have been changed</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">if</span> (mNLinks == nLEnoughTriggers) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    } <span class="keywordflow">while</span> (!buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#ad905e85a1df0c2f9b4f554a334733694">isEmpty</a>());</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (mNLinks == nLEnoughTriggers) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      mMinTriggersCached = mMinTriggersToCache; <span class="comment">// wanted number of triggers acquired</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    } <span class="keywordflow">else</span> {                                    <span class="comment">// there were no enough triggers to fulfill mMinTriggersToCache requirement</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      mMinTriggersCached = INT_MAX;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ir = 0; ir &lt; mNRUs; ir++) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; ruDecData = mRUDecodeVec[ir];</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> linkID : ruDecData.links) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>* link = getGBTLink(linkID);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          <span class="keywordflow">if</span> (link &amp;&amp; link-&gt;nTriggers &lt; mMinTriggersCached) {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            mMinTriggersCached = link-&gt;nTriggers;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    mSWCache.Stop();</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Cached at least &quot;</span> &lt;&lt; mMinTriggersCached &lt;&lt; <span class="stringliteral">&quot; triggers on &quot;</span> &lt;&lt; mNLinks &lt;&lt; <span class="stringliteral">&quot; links of &quot;</span> &lt;&lt; mNRUs &lt;&lt; <span class="stringliteral">&quot; RUs&quot;</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> nRead;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a509c48c7c47e07e76400dfe931de3ab4">  614</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a509c48c7c47e07e76400dfe931de3ab4">decodeNextTrigger</a>() final</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="comment">// Decode next trigger from the cached links data and decrease cached triggers counter, return N links decoded</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> (mMinTriggersCached &lt; 1) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      cacheLinksData(mRawBuffer);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">if</span> (mMinTriggersCached &lt; 1) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">int</span> nlinks = 0;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ir = mNRUs; ir--;) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keyword">auto</span>&amp; ruDecode = mRUDecodeVec[ir];</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (!nlinks) {                        <span class="comment">// on 1st occasion extract trigger data</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> linkID : ruDecode.links) { <span class="comment">// loop over links to fill cable buffers</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          <span class="keyword">auto</span>* link = getGBTLink(linkID);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;          <span class="keywordflow">if</span> (link &amp;&amp; !link-&gt;data.isEmpty()) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> rdh = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(link-&gt;data.getPtr());</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            mInteractionRecord.bc = rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            mInteractionRecord.orbit = rdh-&gt;triggerOrbit;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            mTrigger = rdh-&gt;triggerType;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            mInteractionRecordHB.bc = rdh-&gt;heartbeatBC;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            mInteractionRecordHB.orbit = rdh-&gt;heartbeatOrbit;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      nlinks += decodeNextRUData(ruDecode);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      mDecodingStat.nRUsProcessed++;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">if</span> (nlinks) {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      mDecodingStat.nTriggersProcessed++;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    mCurRUDecodeID = 0;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    mMinTriggersCached--;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> nlinks;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3229de8bbef3b981c19c006edbc576dd">  653</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3229de8bbef3b981c19c006edbc576dd">decodeNextRUData</a>(<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>&amp; ruDecData)</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// process data of single RU trigger from its links buffers</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">int</span> minTriggers = INT_MAX;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a7b4b0c8f73bc3ba53e7e127ce736aa95">clear</a>();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordtype">bool</span> aborted = <span class="keyword">false</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> linkID : ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">links</a>) { <span class="comment">// loop over links to fill cable buffers</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="keyword">auto</span>* link = getGBTLink(linkID);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">if</span> (link &amp;&amp; !link-&gt;data.isEmpty()) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        link-&gt;data.setPtr(decodeRUData(link-&gt;data.getPtr(), ruDecData, aborted));</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">// we don&#39;t need to check the &quot;abort&quot; status since the checks for links data presence and synchronization</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="comment">// should have been done in advance</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span> (--link-&gt;nTriggers &lt; minTriggers) { <span class="comment">// decrement counter of cached triggers</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          minTriggers = link-&gt;nTriggers;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        res++;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">if</span> (link-&gt;data.isEmpty()) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          link-&gt;data.clear();</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac6af1139d5e8fae44dfc310c1a407b90">nCables</a>) {       <span class="comment">// there are cables with data to decode</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      decodeAlpideData(ruDecData); <span class="comment">// decode Alpide data from the compressed RU Data</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#add6ece9a067b993e6c7e94876ceb1dcc">  682</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#add6ece9a067b993e6c7e94876ceb1dcc">findNextRDH</a>(<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>)</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// keep reading GRB words until RDH is found</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordtype">size_t</span> nRead = 0;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordtype">int</span> scan = 0;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordtype">bool</span> goodRDH = <span class="keyword">false</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">auto</span> ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdh = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">do</span> {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">if</span> (buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#ad905e85a1df0c2f9b4f554a334733694">isEmpty</a>()) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keyword">auto</span> nrl = loadInput(buffer);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">if</span> (!nrl) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        nRead += nrl;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        ptr = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">getPtr</a>();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      scan++;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      ptr += <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#afc0438efabfc5e334e3e6d9df829a67b">setPtr</a>(ptr);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keywordflow">if</span> (!buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#ad905e85a1df0c2f9b4f554a334733694">isEmpty</a>()) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    } <span class="keywordflow">while</span> (!(goodRDH = isRDHHeuristic(rdh)));</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;End of pointer recovery after skipping &quot;</span> &lt;&lt; scan &lt;&lt; <span class="stringliteral">&quot; GBT words, RDH is&quot;</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;              &lt;&lt; (goodRDH ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; not&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; found&quot;</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">return</span> goodRDH;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b5473ac0c79bd930b1b23c040cc1ded">  714</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b5473ac0c79bd930b1b23c040cc1ded">isRDHHeuristic</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdh)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">return</span> (!rdh || rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a> != <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>) || rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a53ed9bd1e08a8b029ea77ce36847e85c">zero0</a> != 0 ||</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ade7916fb6d252edea663f62294c6b058">zero41</a> != 0 || rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a595abb71ce5620eaaa4d661482e93d72">zero42</a> != 0 || rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a33b7744150aac4afff1bafb0aa1eac6c">word5</a> != 0 || rdh-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa820c3404891b7ae536315de52df71be">zero6</a> != 0)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;             ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;             : <span class="keyword">true</span>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0e16b3dd335edc5c6aabb53486082b64">  724</a></span>&#160;  uint8_t* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0e16b3dd335edc5c6aabb53486082b64">decodeRUData</a>(uint8_t* raw, <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>&amp; ruDecData, <span class="keywordtype">bool</span>&amp; aborted)</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    aborted = <span class="keyword">false</span>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// data must start by RDH</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keyword">auto</span> rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (!isRDHHeuristic(rdh)) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Page does not start with RDH&quot;</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keyword">auto</span> gbtD = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">o2::itsmft::GBTData</a>*<span class="keyword">&gt;</span>(raw + <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 16);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        gbtD-&gt;<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      raw += mGBTWordSize;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">int</span> ruIDSW = mMAP.FEEId2RUSW(rdh-&gt;feeId);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (ruIDSW &gt;= mMAP.getNRUs()) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      mDecodingStat.errorCounts[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]++;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; mDecodingStat.ErrNames[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; : FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot;, skipping CRU page&quot;</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      raw += rdh-&gt;offsetToNext;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (ruIDSW != ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#a34db4d2919cc98afa23c928f70d4690a">idSW</a>) { <span class="comment">// should not happen with cached data</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;RDG RU IDSW &quot;</span> &lt;&lt; ruIDSW &lt;&lt; <span class="stringliteral">&quot; differs from expected &quot;</span> &lt;&lt; ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#a34db4d2919cc98afa23c928f70d4690a">idSW</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    uint16_t lr, ruOnLr, linkIDinRU;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    mMAP.expandFEEId(rdh-&gt;feeId, lr, ruOnLr, linkIDinRU);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keyword">auto</span>* ruLink = getGBTLink(ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">links</a>[linkIDinRU]);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">auto</span>&amp; ruLinkStat = ruLink-&gt;statistics;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    ruLink-&gt;lastRDH = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">o2::header::RDHAny</a>*<span class="keyword">&gt;</span>(rdh); <span class="comment">// hack but this reader should be outphased anyway</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    ruLinkStat.nPackets++;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (rdh-&gt;packetCounter &gt; ruLink-&gt;packetCounter + 1) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491">GBTLinkDecodingStat::ErrPacketCounterJump</a>]++;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; ruLinkStat.ErrNames[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491">GBTLinkDecodingStat::ErrPacketCounterJump</a>]</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; : FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot;: jump from &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(ruLink-&gt;packetCounter)</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh-&gt;packetCounter);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac6af1139d5e8fae44dfc310c1a407b90">nCables</a> = ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#a69ae0b282dcfe8dc14f44cb157632d81">nCables</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      ruLink-&gt;packetCounter = rdh-&gt;packetCounter;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      mDecodingStat.nBytesProcessed += rdh-&gt;memorySize;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      mDecodingStat.nPagesProcessed++;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      raw += rdh-&gt;headerSize;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordtype">int</span> nGBTWords = (rdh-&gt;memorySize - rdh-&gt;headerSize) / mGBTWordSize - 2; <span class="comment">// number of GBT words excluding header/trailer</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keyword">auto</span> gbtH = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d7/d6f/structo2_1_1itsmft_1_1GBTDataHeader.html">o2::itsmft::GBTDataHeader</a>*<span class="keyword">&gt;</span>(raw);    <span class="comment">// process GBT header</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        gbtH-&gt;printX(mPadding128);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Expect &quot;</span> &lt;&lt; nGBTWords &lt;&lt; <span class="stringliteral">&quot; GBT words&quot;</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keywordflow">if</span> (!gbtH-&gt;isDataHeader()) {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        gbtH-&gt;printX(mPadding128);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; GBT payload header was expected, abort page decoding&quot;</span>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa42bd7c301e0063fcd2197e34eeb1f1f1">GBTLinkDecodingStat::ErrMissingGBTHeader</a>]++;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        gbtH-&gt;printX(mPadding128);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (gbtH-&gt;packetIdx != rdh-&gt;pageCnt) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Different GBT header &quot;</span> &lt;&lt; gbtH-&gt;packetIdx</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; and RDH page &quot;</span> &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot; counters&quot;</span>;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa435a6ccfb69bc09a89813284de48fdaa">GBTLinkDecodingStat::ErrRDHvsGBTHPageCnt</a>]++;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">if</span> (ruLink-&gt;lanesActive == ruLink-&gt;lanesStop) { <span class="comment">// all lanes received their stop, new page 0 expected</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">if</span> (rdh-&gt;pageCnt) {                           <span class="comment">// flag lanes of this FEE</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Non-0 page counter (&quot;</span> &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot;) while all lanes were stopped&quot;</span>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf0adba8985bf748be5b51b291c1ce669">GBTLinkDecodingStat::ErrNonZeroPageAfterStop</a>]++;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      ruLink-&gt;lanesActive = gbtH-&gt;activeLanes; <span class="comment">// TODO do we need to update this for every page?</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">if</span> (~(mMAP.getCablesOnRUType(ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">ruType</a>)) &amp; ruLink-&gt;lanesActive) { <span class="comment">// are there wrong lanes?</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        std::bitset&lt;32&gt; expectL(mMAP.getCablesOnRUType(ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">ruType</a>)), gotL(ruLink-&gt;lanesActive);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Active lanes pattern &quot;</span> &lt;&lt; gotL</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; conflicts with expected &quot;</span> &lt;&lt; expectL &lt;&lt; <span class="stringliteral">&quot; for given RU type, skip page&quot;</span>;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fabae9a791a98ffc0fdee1e4a40c4e4c13">GBTLinkDecodingStat::ErrInvalidActiveLanes</a>]++;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        raw = ((uint8_t*)rdh) + rdh-&gt;offsetToNext; <span class="comment">// jump to the next packet</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">if</span> (!rdh-&gt;pageCnt) { <span class="comment">// reset flags</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        ruLink-&gt;lanesStop = 0;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        ruLink-&gt;lanesWithData = 0;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      raw += mGBTWordSize;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iw = 0; iw &lt; nGBTWords; iw++, raw += mGBTWordSize) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keyword">auto</span> gbtD = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">o2::itsmft::GBTData</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="comment">// TODO: need to clarify if the nGBTWords from the rdh-&gt;memorySize is reliable estimate of the real payload, at the moment this is not the case</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (mVerbose &gt; 1) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          printf(<span class="stringliteral">&quot;W%4d |&quot;</span>, iw);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;          gbtD-&gt;printX(mPadding128);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">if</span> (gbtD-&gt;isDataTrailer()) {</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;          nGBTWords = iw;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// this means that the nGBTWords estimate was wrong</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordtype">int</span> cableHW = gbtD-&gt;getCableID();</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordtype">int</span> cableSW = mMAP.cableHW2SW(ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">ruType</a>, cableHW);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a563f5791565c1a5a85874d3075d80a04">cableData</a>[cableSW].add(gbtD-&gt;getW8(), 9);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a68d2a9b7e3f20625abe9b683c0d4c570">cableHWID</a>[cableSW] = cableHW;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        ruDecData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ad6a8093a2dfb17f92c623fe5265e0c52">cableLinkID</a>[cableSW] = linkIDinRU;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        ruLink-&gt;lanesWithData |= 0x1 &lt;&lt; cableSW;    <span class="comment">// flag that the data was seen on this lane</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">if</span> (ruLink-&gt;lanesStop &amp; (0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a> &lt;&lt; cableSW)) { <span class="comment">// make sure stopped lanes do not transmit the data</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa38bbb19f808f33704ad173ed914e7a0b">GBTLinkDecodingStat::ErrDataForStoppedLane</a>]++;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Data received for stopped lane &quot;</span> &lt;&lt; cableHW &lt;&lt; <span class="stringliteral">&quot; (sw:&quot;</span> &lt;&lt; cableSW &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      } <span class="comment">// we are at the trailer, packet is over, check if there are more for the same ru</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keyword">auto</span> gbtT = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d2/d9e/structo2_1_1itsmft_1_1GBTDataTrailer.html">o2::itsmft::GBTDataTrailer</a>*<span class="keyword">&gt;</span>(raw); <span class="comment">// process GBT trailer</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        gbtT-&gt;<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (!gbtT-&gt;isDataTrailer()) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        gbtT-&gt;printX(mPadding128);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; std::dec</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; GBT payload trailer was expected, abort page decoding NW&quot;</span> &lt;&lt; nGBTWords;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa2981f7caf5b243bc39767bfccbcab7d2">GBTLinkDecodingStat::ErrMissingGBTTrailer</a>]++;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      }</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      ruLink-&gt;lanesTimeOut |= gbtT-&gt;lanesTimeout; <span class="comment">// register timeouts</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      ruLink-&gt;lanesStop |= gbtT-&gt;lanesStops;      <span class="comment">// register stops</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      raw += mGBTWordSize;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="comment">// we finished the GBT page, see if there is a continuation and if it belongs to the same multipacket</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">if</span> (!rdh-&gt;offsetToNext) { <span class="comment">// RS TODO: what the last page in memory will contain as offsetToNext, is it 0?</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      raw = ((uint8_t*)rdh) + rdh-&gt;offsetToNext; <span class="comment">// jump to the next packet:</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="keyword">auto</span> rdhN = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="comment">// check if data of given RU are over, i.e. we the page counter was wrapped to 0 (should be enough!) or other RU/trigger started</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">if</span> (!isSameRUandTrigger(rdh, rdhN)) {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="comment">// make sure all lane stops for finished page are received</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">if</span> ((ruLink-&gt;lanesActive &amp; ~ruLink-&gt;lanesStop) &amp;&amp; nGBTWords) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          <span class="keywordflow">if</span> (rdh-&gt;triggerType != <a class="code" href="../../df/d7e/namespaceo2_1_1trigger.html#a688c0223b4daaa6e17d682c163349cd7">o2::trigger::SOT</a>) { <span class="comment">// only SOT trigger allows unstopped lanes?</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            std::bitset&lt;32&gt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a>(ruLink-&gt;lanesActive), stopped(ruLink-&gt;lanesStop);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; end of FEE data but not all lanes received stop&quot;</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;| active: &quot;</span> &lt;&lt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a> &lt;&lt; <span class="stringliteral">&quot; stopped: &quot;</span> &lt;&lt; stopped;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf6fdc13675e2f435165c722af5d7d6e7">GBTLinkDecodingStat::ErrUnstoppedLanes</a>]++;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        }</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="comment">// make sure all active lanes (except those in time-out) have sent some data</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> ((~ruLink-&gt;lanesWithData &amp; ruLink-&gt;lanesActive) != ruLink-&gt;lanesTimeOut &amp;&amp; nGBTWords) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;          std::bitset&lt;32&gt; withData(ruLink-&gt;lanesWithData), <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a>(ruLink-&gt;lanesActive), timeOut(ruLink-&gt;lanesTimeOut);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Lanes not in time-out but not sending data&quot;</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;\n| with data: &quot;</span> &lt;&lt; withData &lt;&lt; <span class="stringliteral">&quot; active: &quot;</span> &lt;&lt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a> &lt;&lt; <span class="stringliteral">&quot; timeOut: &quot;</span> &lt;&lt; timeOut;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa0990bf6bb69978f55e39b971c96aac18">GBTLinkDecodingStat::ErrNoDataForActiveLane</a>]++;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <span class="comment">// accumulate packet states</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        ruLinkStat.packetStates[gbtT-&gt;getPacketState()]++;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <span class="comment">// check if the page counter increases</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keywordflow">if</span> (rdhN-&gt;pageCnt != rdh-&gt;pageCnt + 1) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Discontinuity in the RDH page counter of the same RU trigger: old &quot;</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                   &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot; new: &quot;</span> &lt;&lt; rdhN-&gt;pageCnt;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdhN);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fadba05a2a0d44de55b2245d94f2368f90">GBTLinkDecodingStat::ErrPageCounterDiscontinuity</a>]++;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      rdh = rdhN;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      ruLink-&gt;lastRDH = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">o2::header::RDHAny</a>*<span class="keyword">&gt;</span>(rdh);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">//    if (rdh-&gt;pageCnt &amp;&amp; !rdh-&gt;stop) {</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">//      LOG(WARNING) &lt;&lt; &quot;Last packet(&quot; &lt;&lt; rdh-&gt;pageCnt &lt;&lt; &quot;) of GBT multi-packet is reached w/o STOP set in the RDH&quot;;</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2452b9e97c8b8c34d446e7245615e959">  958</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2452b9e97c8b8c34d446e7245615e959">skimNextRUData</a>(<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; outBuffer)</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">if</span> (mIOFile) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      loadInput(mRawBuffer); <span class="comment">// if needed, upload additional data to the buffer</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (!mRawBuffer.isEmpty()) {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordtype">bool</span> aborted = <span class="keyword">false</span>;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keyword">auto</span> ptr = skimPaddedRUData(mRawBuffer.getPtr(), outBuffer, aborted);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      mDecodingStat.nRUsProcessed++;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">if</span> (!aborted) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        mRawBuffer.setPtr(ptr);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        res = 1; <span class="comment">// success</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">if</span> (mRawBuffer.isEmpty()) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          mRawBuffer.clear();</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// try to seek to the next RDH, can be done only for 128b padded GBT words</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (findNextRDH(mRawBuffer)) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          ptr = mRawBuffer.getPtr();</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          res = 1;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          mRawBuffer.clear(); <span class="comment">// did not find new RDH</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      } <span class="comment">// try to seek to the next ...</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  }</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0953ab112f335d4e31a33cce0cb3d581">  989</a></span>&#160;  uint8_t* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0953ab112f335d4e31a33cce0cb3d581">skimPaddedRUData</a>(uint8_t* raw, <a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; outBuffer, <span class="keywordtype">bool</span>&amp; aborted)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    aborted = <span class="keyword">false</span>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">// data must start by RDH</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keyword">auto</span> rdh = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (!isRDHHeuristic(rdh)) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Page does not start with RDH&quot;</span>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keyword">auto</span> gbtD = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">o2::itsmft::GBTData</a>*<span class="keyword">&gt;</span>(raw + <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * 16);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        gbtD-&gt;<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(mPadding128);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordtype">int</span> ruIDSWD = mMAP.FEEId2RUSW(rdh-&gt;feeId);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">if</span> (ruIDSWD &gt;= mMAP.getNRUs()) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      mDecodingStat.errorCounts[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]++;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; mDecodingStat.ErrNames[<a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">RawDecodingStat::ErrInvalidFEEId</a>]</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; : FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot;, skipping CRU page&quot;</span>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      raw += rdh-&gt;offsetToNext;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    uint16_t lr, ruOnLr, linkIDinRU;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    mMAP.expandFEEId(rdh-&gt;feeId, lr, ruOnLr, linkIDinRU);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordtype">int</span> ruIDSW = mMAP.FEEId2RUSW(rdh-&gt;feeId);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keyword">auto</span>&amp; ruDecode = getCreateRUDecode(ruIDSW);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keyword">auto</span> ruInfo = mMAP.getRUInfoSW(ruIDSW);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (ruDecode.links[linkIDinRU] &lt; 0) {</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      ruDecode.links[linkIDinRU] = addGBTLink();</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      getGBTLink(ruDecode.links[linkIDinRU])-&gt;statistics.ruLinkID = linkIDinRU;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      mNLinks++;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    mInteractionRecord.bc = rdh-&gt;triggerBC;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    mInteractionRecord.orbit = rdh-&gt;triggerOrbit;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    mTrigger = rdh-&gt;triggerType;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    mInteractionRecordHB.bc = rdh-&gt;heartbeatBC;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    mInteractionRecordHB.orbit = rdh-&gt;heartbeatOrbit;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keyword">auto</span> ruLink = getGBTLink(ruDecode.links[linkIDinRU]);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keyword">auto</span>&amp; ruLinkStat = ruLink-&gt;statistics;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    ruLink-&gt;lastRDH = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">o2::header::RDHAny</a>*<span class="keyword">&gt;</span>(rdh); <span class="comment">// hack but this reader should be outphased anyway</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    ruLinkStat.nPackets++;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (rdh-&gt;packetCounter &gt; ruLink-&gt;packetCounter + 1) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491">GBTLinkDecodingStat::ErrPacketCounterJump</a>]++;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; ruLinkStat.ErrNames[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491">GBTLinkDecodingStat::ErrPacketCounterJump</a>]</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; : FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot;: jump from &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(ruLink-&gt;packetCounter)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(rdh-&gt;packetCounter);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    ruLink-&gt;packetCounter = rdh-&gt;packetCounter;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordtype">int</span> sizeAtEntry = outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a8b2b273f69e18bba251af4d552c604b6">getSize</a>(); <span class="comment">// save the size of outbuffer size at entry, in case of severe error we will need to rewind to it.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      mDecodingStat.nPagesProcessed++;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      mDecodingStat.nBytesProcessed += rdh-&gt;memorySize;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      raw += rdh-&gt;headerSize;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="comment">// number of 128 b GBT words excluding header/trailer</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordtype">int</span> nGBTWords = (rdh-&gt;memorySize - rdh-&gt;headerSize) / <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a> - 2;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keyword">auto</span> gbtH = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d7/d6f/structo2_1_1itsmft_1_1GBTDataHeader.html">o2::itsmft::GBTDataHeader</a>*<span class="keyword">&gt;</span>(raw); <span class="comment">// process GBT header</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        gbtH-&gt;printX(<span class="keyword">true</span>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Expect &quot;</span> &lt;&lt; nGBTWords &lt;&lt; <span class="stringliteral">&quot; GBT words&quot;</span>;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      }</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keywordflow">if</span> (!gbtH-&gt;isDataHeader()) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        gbtH-&gt;printX(<span class="keyword">true</span>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; GBT payload header was expected, abort page decoding&quot;</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        gbtH-&gt;printX(<span class="keyword">true</span>);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa42bd7c301e0063fcd2197e34eeb1f1f1">GBTLinkDecodingStat::ErrMissingGBTHeader</a>]++;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a232a0b5753ff51836e4ff60f119faf14">shrinkToSize</a>(sizeAtEntry); <span class="comment">// reset output buffer to initial state</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">if</span> (gbtH-&gt;packetIdx != rdh-&gt;pageCnt) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Different GBT header &quot;</span> &lt;&lt; gbtH-&gt;packetIdx</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; and RDH page &quot;</span> &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot; counters&quot;</span>;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa435a6ccfb69bc09a89813284de48fdaa">GBTLinkDecodingStat::ErrRDHvsGBTHPageCnt</a>]++;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <span class="keywordflow">if</span> (ruLink-&gt;lanesActive == ruLink-&gt;lanesStop) { <span class="comment">// all lanes received their stop, new page 0 expected</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">if</span> (rdh-&gt;pageCnt) {                           <span class="comment">// flag lanes of this FEE</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Non-0 page counter (&quot;</span> &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot;) while all lanes were stopped&quot;</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf0adba8985bf748be5b51b291c1ce669">GBTLinkDecodingStat::ErrNonZeroPageAfterStop</a>]++;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      ruLink-&gt;lanesActive = gbtH-&gt;activeLanes; <span class="comment">// TODO do we need to update this for every page?</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span> (!rdh-&gt;pageCnt) { <span class="comment">// reset flags</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        ruLink-&gt;lanesStop = 0;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        ruLink-&gt;lanesWithData = 0;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      }</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="comment">// start writting skimmed data for this page, making sure the buffer has enough free slots</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a05ff9825c9c57f564a4dc7d53fce00d3">ensureFreeCapacity</a>(8 * 1024);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keyword">auto</span> rdhS = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a71ee146bbac9e6f87d2da5d512f63bf6">getEnd</a>()); <span class="comment">// save RDH and make saved copy editable</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">addFast</a>(reinterpret_cast&lt;const uint8_t*&gt;(rdh), rdh-&gt;headerSize);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">addFast</a>(reinterpret_cast&lt;const uint8_t*&gt;(gbtH), mGBTWordSize); <span class="comment">// save gbt header w/o 128b padding</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      raw += <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iw = 0; iw &lt; nGBTWords; iw++, raw += <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keyword">auto</span> gbtD = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">o2::itsmft::GBTData</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="comment">// TODO: need to clarify if the nGBTWords from the rdh-&gt;memorySize is reliable estimate of the real payload, at the moment this is not the case</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span> (mVerbose &gt; 1) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;          printf(<span class="stringliteral">&quot;W%4d |&quot;</span>, iw);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;          gbtD-&gt;printX(mPadding128);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">if</span> (gbtD-&gt;isDataTrailer()) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;          nGBTWords = iw;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// this means that the nGBTWords estimate was wrong</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordtype">int</span> cableHW = gbtD-&gt;getCableID();</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordtype">int</span> cableSW = mMAP.cableHW2SW(ruInfo-&gt;ruType, cableHW);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">addFast</a>(reinterpret_cast&lt;const uint8_t*&gt;(gbtD), mGBTWordSize); <span class="comment">// save gbt word w/o 128b padding</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        ruLink-&gt;lanesWithData |= 0x1 &lt;&lt; cableSW;    <span class="comment">// flag that the data was seen on this lane</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">if</span> (ruLink-&gt;lanesStop &amp; (0<a class="code" href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a> &lt;&lt; cableSW)) { <span class="comment">// make sure stopped lanes do not transmit the data</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa38bbb19f808f33704ad173ed914e7a0b">GBTLinkDecodingStat::ErrDataForStoppedLane</a>]++;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Data received for stopped lane &quot;</span> &lt;&lt; cableHW &lt;&lt; <span class="stringliteral">&quot; (sw:&quot;</span> &lt;&lt; cableSW &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        }</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      } <span class="comment">// we are at the trailer, packet is over, check if there are more for the same ru</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keyword">auto</span> gbtT = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d2/d9e/structo2_1_1itsmft_1_1GBTDataTrailer.html">o2::itsmft::GBTDataTrailer</a>*<span class="keyword">&gt;</span>(raw); <span class="comment">// process GBT trailer</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="keywordflow">if</span> (mVerbose) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        gbtT-&gt;<a class="code" href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">printX</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">if</span> (!gbtT-&gt;isDataTrailer()) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        gbtT-&gt;printX(<span class="keyword">true</span>);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; GBT payload trailer was expected, abort page decoding at NW&quot;</span> &lt;&lt; nGBTWords;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa2981f7caf5b243bc39767bfccbcab7d2">GBTLinkDecodingStat::ErrMissingGBTTrailer</a>]++;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        aborted = <span class="keyword">true</span>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a232a0b5753ff51836e4ff60f119faf14">shrinkToSize</a>(sizeAtEntry); <span class="comment">// reset output buffer to initial state</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      ruLink-&gt;lanesTimeOut |= gbtT-&gt;lanesTimeout; <span class="comment">// register timeouts</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      ruLink-&gt;lanesStop |= gbtT-&gt;lanesStops;      <span class="comment">// register stops</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      outBuffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">addFast</a>(reinterpret_cast&lt;const uint8_t*&gt;(gbtT), mGBTWordSize); <span class="comment">// save gbt trailer w/o 128b padding</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      raw += <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="comment">// we finished the GBT page, register in the stored RDH the memory size and new offset</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      rdhS-&gt;memorySize = rdhS-&gt;headerSize + (2 + nGBTWords) * mGBTWordSize;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      rdhS-&gt;offsetToNext = rdhS-&gt;memorySize;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">if</span> (!rdh-&gt;offsetToNext) { <span class="comment">// RS TODO: what the last page in memory will contain as offsetToNext, is it 0?</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      raw = ((uint8_t*)rdh) + rdh-&gt;offsetToNext; <span class="comment">// jump to the next packet:</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keyword">auto</span> rdhN = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>*<span class="keyword">&gt;</span>(raw);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="comment">// check if data of given RU are over, i.e. we the page counter was wrapped to 0 (should be enough!) or other RU/trigger started</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">if</span> (!isSameRUandTrigger(rdh, rdhN)) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="comment">// make sure all lane stops for finished page are received</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span> (ruLink-&gt;lanesActive != ruLink-&gt;lanesStop &amp;&amp; nGBTWords) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;          <span class="keywordflow">if</span> (rdh-&gt;triggerType != <a class="code" href="../../df/d7e/namespaceo2_1_1trigger.html#a688c0223b4daaa6e17d682c163349cd7">o2::trigger::SOT</a>) { <span class="comment">// only SOT trigger allows unstopped lanes?</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;            std::bitset&lt;32&gt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a>(ruLink-&gt;lanesActive), stopped(ruLink-&gt;lanesStop);</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;            <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; end of FEE data but not all lanes received stop&quot;</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;| active: &quot;</span> &lt;&lt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a> &lt;&lt; <span class="stringliteral">&quot; stopped: &quot;</span> &lt;&lt; stopped;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf6fdc13675e2f435165c722af5d7d6e7">GBTLinkDecodingStat::ErrUnstoppedLanes</a>]++;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;          }</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="comment">// make sure all active lanes (except those in time-out) have sent some data</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">if</span> ((~ruLink-&gt;lanesWithData &amp; ruLink-&gt;lanesActive) != ruLink-&gt;lanesTimeOut &amp;&amp; nGBTWords) {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          std::bitset&lt;32&gt; withData(ruLink-&gt;lanesWithData), <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a>(ruLink-&gt;lanesActive), timeOut(ruLink-&gt;lanesTimeOut);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Lanes not in time-out but not sending data&quot;</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;| with data: &quot;</span> &lt;&lt; withData &lt;&lt; <span class="stringliteral">&quot; active: &quot;</span> &lt;&lt; <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a> &lt;&lt; <span class="stringliteral">&quot; timeOut: &quot;</span> &lt;&lt; timeOut;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;          <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;          ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa0990bf6bb69978f55e39b971c96aac18">GBTLinkDecodingStat::ErrNoDataForActiveLane</a>]++;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="comment">// accumulate packet states</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        ruLinkStat.packetStates[gbtT-&gt;getPacketState()]++;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="comment">// check if the page counter increases</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">if</span> (rdhN-&gt;pageCnt != rdh-&gt;pageCnt + 1) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(rdh-&gt;feeId, 4) &lt;&lt; <span class="stringliteral">&quot; Discontinuity in the RDH page counter of the same RU trigger: old &quot;</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                   &lt;&lt; rdh-&gt;pageCnt &lt;&lt; <span class="stringliteral">&quot; new: &quot;</span> &lt;&lt; rdhN-&gt;pageCnt;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdh);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(rdhN);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fadba05a2a0d44de55b2245d94f2368f90">GBTLinkDecodingStat::ErrPageCounterDiscontinuity</a>]++;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      }</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      rdh = rdhN;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      ruLink-&gt;lastRDH = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">o2::header::RDHAny</a>*<span class="keyword">&gt;</span>(rdh); <span class="comment">// hack but this reader should be outphased anyway</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">//    if (rdh-&gt;pageCnt &amp;&amp; !rdh-&gt;stop) {</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">//      LOG(WARNING) &lt;&lt; &quot;Last packet(&quot; &lt;&lt; rdh-&gt;pageCnt &lt;&lt; &quot;) of GBT multi-packet is reached w/o STOP set in the RDH&quot;;</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">return</span> raw;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aba3eb5bf624496fc8c4d444a4e3f43ed"> 1230</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aba3eb5bf624496fc8c4d444a4e3f43ed">isSameRUandTrigger</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdhOld, <span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* rdhNew)<span class="keyword"> const</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a> == 0 || rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a> != rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a> ||</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">triggerOrbit</a> != rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">triggerOrbit</a> ||</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a> != rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a> ||</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a> != rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a> ||</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a> != rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a> ||</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        !(rdhNew-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a> &amp; rdhOld-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a>)) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc1a1d7a14e85e970d142d7cd9d774db"> 1245</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc1a1d7a14e85e970d142d7cd9d774db">decodeAlpideData</a>(<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>&amp; decData)</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keyword">auto</span>* chipData = &amp;decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">chipsData</a>[0];</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">nChipsFired</a> = decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#abab17e9e241cf21ca1469a5b3fcf9aab">lastChipChecked</a> = 0;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordtype">int</span> ntot = 0;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icab = 0; icab &lt; decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac6af1139d5e8fae44dfc310c1a407b90">nCables</a>; icab++) {</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keyword">auto</span>&amp; cableData = decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a563f5791565c1a5a85874d3075d80a04">cableData</a>[icab];</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="keyword">auto</span>&amp; ruLinkStat = getGBTLink(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">links</a>[decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ad6a8093a2dfb17f92c623fe5265e0c52">cableLinkID</a>[icab]])-&gt;statistics;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="comment">// make sure the lane data starts with chip header or empty chip</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      uint8_t <a class="code" href="../../dc/da3/glcorearb_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a>;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="keywordflow">if</span> (cableData.current(h) &amp;&amp; !mCoder.isChipHeaderOrEmpty(h)) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#ae0449f0c006d626b024f58dcc92a783c">idHW</a>, 4) &lt;&lt; <span class="stringliteral">&quot; cable &quot;</span> &lt;&lt; icab</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot; data does not start with ChipHeader or ChipEmpty&quot;</span>;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fada9ef023cb2a627758a2cd4e2205d921">GBTLinkDecodingStat::ErrCableDataHeadWrong</a>]++;</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(reinterpret_cast&lt;const o2::header::RAWDataHeader*&gt;(getGBTLink(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">links</a>[decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ad6a8093a2dfb17f92c623fe5265e0c52">cableLinkID</a>[icab]])-&gt;lastRDH));</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">while</span> ((res = mCoder.decodeChip(*chipData, cableData))) { <span class="comment">// we register only chips with hits or errors flags set</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="preprocessor">#ifdef _RAW_READER_ERROR_CHECKS_</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;          <span class="comment">// for the IB staves check if the cable ID is the same as the chip ID on the module</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;          <span class="keywordflow">if</span> (mMAP.getName() == <span class="stringliteral">&quot;ITS&quot;</span> &amp;&amp; decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">ruType</a> == 0) { <span class="comment">// ATTENTION: this is a hack tailored for temporary check</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="keywordflow">if</span> (chipData-&gt;getChipID() != icab) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;              <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;FEEId:&quot;</span> &lt;&lt; <a class="code" href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a>(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>-&gt;<a class="code" href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#ae0449f0c006d626b024f58dcc92a783c">idHW</a>, 4) &lt;&lt; <span class="stringliteral">&quot; IB cable &quot;</span> &lt;&lt; icab</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot; shipped chip ID= &quot;</span> &lt;&lt; chipData-&gt;getChipID();</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;              ruLinkStat.errorCounts[<a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa4311702ed6dc9619b0eb033b9ea370aa">GBTLinkDecodingStat::ErrIBChipLaneMismatch</a>]++;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;              <a class="code" href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a>(reinterpret_cast&lt;const o2::header::RAWDataHeader*&gt;(getGBTLink(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">links</a>[decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ad6a8093a2dfb17f92c623fe5265e0c52">cableLinkID</a>[icab]])-&gt;lastRDH));</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;          }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          <span class="comment">// convert HW chip id within the module to absolute chip id</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          chipData-&gt;setChipID(mMAP.getGlobalChipID(chipData-&gt;getChipID(), decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a68d2a9b7e3f20625abe9b683c0d4c570">cableHWID</a>[icab], *decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">ruInfo</a>));</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;          chipData-&gt;setInteractionRecord(mInteractionRecord);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;          chipData-&gt;setTrigger(mTrigger);</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          mDecodingStat.nNonEmptyChips++;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;          mDecodingStat.nHitsDecoded += chipData-&gt;getData().size();</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;          ntot += res;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          <span class="comment">// fetch next free chip</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;          <span class="keywordflow">if</span> (++decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">nChipsFired</a> &lt; <span class="keywordtype">int</span>(decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">chipsData</a>.size())) {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            chipData = &amp;decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">chipsData</a>[decData.<a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">nChipsFired</a>];</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">// last chip decoded</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          }</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">return</span> ntot;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l01303"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a200fa4a21451127616a141ccd0dea104"> 1303</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a200fa4a21451127616a141ccd0dea104">getNextChipData</a>(<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html">ChipPixelData</a>&amp; chipData)<span class="keyword"> override</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span> (mCurRUDecodeID &gt;= 0) { <span class="comment">// make sure current RU has fired chips to extract</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">for</span> (; mCurRUDecodeID &lt; mNRUs; mCurRUDecodeID++) {</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keyword">auto</span>&amp; ru = mRUDecodeVec[mCurRUDecodeID];</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">if</span> (ru.lastChipChecked &lt; ru.nChipsFired) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;          chipData.<a class="code" href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a9860711b49b20e0b201dc2ba896fa3d3">swap</a>(ru.chipsData[ru.lastChipChecked++]);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      mCurRUDecodeID = 0; <span class="comment">// no more decoded data if reached this place,</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// will need to decode new trigger</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">if</span> (!mDecodeNextAuto) { <span class="comment">// no more data in the current ROF and no automatic decoding of next one was requested</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (mMinTriggersCached &lt; 2) { <span class="comment">// last trigger might be incomplete, need to cache more data</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      cacheLinksData(mRawBuffer);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span> (mMinTriggersCached &lt; 1 || !decodeNextTrigger()) {</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      mCurRUDecodeID = -1;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// nothing left</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">return</span> getNextChipData(chipData); <span class="comment">// is it ok to use recursion here?</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a4b4288e784e925879c48a2b914bc5d53"> 1334</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a4b4288e784e925879c48a2b914bc5d53">openInput</a>(<span class="keyword">const</span> std::string filename)</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// open input for raw data decoding from file</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    mSWIO.Stop();</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    mSWIO.Start();</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd82bfa3086c77868043c1b4afd08330">clear</a>(<span class="keyword">false</span>); <span class="comment">// do not reset statistics</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;opening raw data input file &quot;</span> &lt;&lt; filename;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    mIOFile.open(filename.c_str(), <a class="code" href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">std::ifstream::binary</a>);</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(mIOFile.good());</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    mRawBuffer.clear();</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    mRawBuffer.expand(RawBufferSize);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    mSWIO.Stop();</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  }</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="comment">//_____________________________________</span></div><div class="line"><a name="l01349"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc780c502121dbe5bd810d1c450b311f"> 1349</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc780c502121dbe5bd810d1c450b311f">loadInput</a>(<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>)</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    static_assert(RawBufferMargin &gt; MaxGBTPacketBytes * 100 &amp;&amp;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                    RawBufferSize &gt; 3 * RawBufferMargin,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                  <span class="stringliteral">&quot;raw buffer size is too small&quot;</span>);</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (!mIOFile) {</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span> (buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a04bea8857a66c18ec03c46fce52c0d50">getUnusedSize</a>() &gt; RawBufferMargin) { <span class="comment">// bytes read but not used yet are enough</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    mSWIO.Start(<span class="keyword">false</span>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keyword">auto</span> readFromFile = [<span class="keyword">this</span>](uint8_t* ptr, <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      mIOFile.read(reinterpret_cast&lt;char*&gt;(ptr), <a class="code" href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">return</span> mIOFile.gcount(); <span class="comment">// fread( ptr, sizeof(uint8_t), n, mIOFile);</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    };</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keyword">auto</span> nread = buffer.<a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#af52c528589441c4588c11725fc852d57">append</a>(readFromFile);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    mSWIO.Stop();</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">return</span> nread;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  }</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">// get statics of FEE with sequential idSW</span></div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a597f9ddfef18e0169382e7c711ff6f83"> 1373</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html">GBTLinkDecodingStat</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a597f9ddfef18e0169382e7c711ff6f83">getGBTLinkDecodingStatSW</a>(uint16_t idSW, <span class="keywordtype">int</span> ruLink)<span class="keyword"> const</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">if</span> (mRUEntry[idSW] &lt; 0 || ruLink &gt;= <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">RUDecodeData::MaxLinksPerRU</a> || mRUDecodeVec[mRUEntry[idSW]].links[ruLink] &lt; 0) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">return</span> &amp;getGBTLink(mRUDecodeVec[mRUEntry[idSW]].links[ruLink])-&gt;statistics;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="comment">// get statics of FEE with given HW id</span></div><div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2621cdb5e32a873302e4616cd27ab089"> 1383</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html">GBTLinkDecodingStat</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2621cdb5e32a873302e4616cd27ab089">getGBTLinkDecodingStatHW</a>(uint16_t idHW, <span class="keywordtype">int</span> ruLink)<span class="keyword"> const</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordtype">int</span> idsw = mMAP.FEEId2RUSW(idHW);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(idsw != 0xffff);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">return</span> getGBTLinkDecodingStatSW(idsw, ruLink);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="comment">// aliases for BWD compatibility</span></div><div class="line"><a name="l01391"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a09ab0f08ffc6db1565b46cb6c060e889"> 1391</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html">GBTLinkDecodingStat</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a09ab0f08ffc6db1565b46cb6c060e889">getRUDecodingStatSW</a>(uint16_t idSW, <span class="keywordtype">int</span> ruLink = 0)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getGBTLinkDecodingStatSW(idSW, ruLink); }</div><div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af9bbb50fdcf123d1f89600191153c9a7"> 1392</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html">GBTLinkDecodingStat</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af9bbb50fdcf123d1f89600191153c9a7">getRUDecodingStatHW</a>(uint16_t idHW, <span class="keywordtype">int</span> ruLink = 0)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> getGBTLinkDecodingStatHW(idHW, ruLink); }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="comment">// get global decoding statistics</span></div><div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a970c16332e01307d4c24f8a97655588d"> 1395</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">RawDecodingStat</a>&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a970c16332e01307d4c24f8a97655588d">getDecodingStat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mDecodingStat; }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ac7b183747764cf4fa3c5c242fd121862"> 1397</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ac7b183747764cf4fa3c5c242fd121862">setVerbosity</a>(<span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>) { mVerbose = <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>; }</div><div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae393b70f12be7dc234a7f37273357fe0"> 1398</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae393b70f12be7dc234a7f37273357fe0">getVerbosity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mVerbose; }</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9c097a033959d7c7ee50f07176cf0926"> 1400</a></span>&#160;  <a class="code" href="../../df/dab/namespaceo2_1_1io_1_1comp__stream__helpers.html#ace4a5ece14bffdb009722a8de54c937f">Mapping</a>&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9c097a033959d7c7ee50f07176cf0926">getMapping</a>() { <span class="keywordflow">return</span> mMAP; }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="comment">// get currently processed RU container</span></div><div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af73c1153711d62545bfccd366681f398"> 1403</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af73c1153711d62545bfccd366681f398">getCurrRUDecodeData</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mCurRUDecodeID &lt; 0 ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;mRUDecodeVec[mCurRUDecodeID]; }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a8f0c587e0b0a7252e6ca43fd6527f7c3"> 1405</a></span>&#160;  <a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a>&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a8f0c587e0b0a7252e6ca43fd6527f7c3">getRawBuffer</a>() { <span class="keywordflow">return</span> mRawBuffer; }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="comment">// number of links seen in the data</span></div><div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b4b74bba5e382dca6295fd405c12efd"> 1408</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b4b74bba5e382dca6295fd405c12efd">getNLinks</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mNLinks; }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// number of RUs seen in the data</span></div><div class="line"><a name="l01411"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aae8e63cfdcaae489771e0f81973340b1"> 1411</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aae8e63cfdcaae489771e0f81973340b1">getNRUs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mNRUs; }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">// get vector of RU decode containers for RUs seen in the data</span></div><div class="line"><a name="l01414"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aacbcd1732dab74032adef2c00bbe1d90"> 1414</a></span>&#160;  <span class="keyword">const</span> std::array&lt;RUDecodeData, Mapping::getNRUs()&gt;&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aacbcd1732dab74032adef2c00bbe1d90">getRUDecodeVec</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mRUDecodeVec; }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2ffecc669158972ea75c7c6eeda34bcf"> 1416</a></span>&#160;  <span class="keyword">const</span> std::array&lt;int, Mapping::getNRUs()&gt;&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2ffecc669158972ea75c7c6eeda34bcf">getRUEntries</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mRUEntry; }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="comment">// get RU decode container for RU with given SW ID</span></div><div class="line"><a name="l01419"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ab42999606e2b92cbd8125ec45dcc408b"> 1419</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ab42999606e2b92cbd8125ec45dcc408b">getRUDecode</a>(<span class="keywordtype">int</span> ruSW)<span class="keyword"> const</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">return</span> mRUEntry[ruSW] &lt; 0 ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;mRUDecodeVec[mRUEntry[ruSW]];</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  }</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// get RU decode container for RU with given SW ID, if does not exist, create it</span></div><div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0453503da8abfc0b2bd8600cab26dc83"> 1425</a></span>&#160;  <a class="code" href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">RUDecodeData</a>&amp; <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0453503da8abfc0b2bd8600cab26dc83">getCreateRUDecode</a>(<span class="keywordtype">int</span> ruSW)</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <a class="code" href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a>(ruSW &lt; mMAP.getNRUs());</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">if</span> (mRUEntry[ruSW] &lt; 0) {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      mRUEntry[ruSW] = mNRUs++;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      mRUDecodeVec[mRUEntry[ruSW]].ruInfo = mMAP.getRUInfoSW(ruSW); <span class="comment">// info on the stave/RU</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      mRUDecodeVec[mRUEntry[ruSW]].chipsData.resize(mMAP.getNChipsOnRUType(mMAP.getRUInfoSW(ruSW)-&gt;ruType));</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;Defining container for RU &quot;</span> &lt;&lt; ruSW &lt;&lt; <span class="stringliteral">&quot; at slot &quot;</span> &lt;&lt; mRUEntry[ruSW];</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">return</span> mRUDecodeVec[mRUEntry[ruSW]];</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="comment">// create new gbt link</span></div><div class="line"><a name="l01438"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af365034a3cae54b479f1cf69786d2e24"> 1438</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af365034a3cae54b479f1cf69786d2e24">addGBTLink</a>()</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordtype">int</span> sz = mGBTLinks.size();</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    mGBTLinks.emplace_back();</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">return</span> sz;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="comment">// get the link</span></div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3bb621b71f1e4cc70899d684c646f9b3"> 1446</a></span>&#160;  <a class="code" href="../../dd/d09/structo2_1_1itsmft_1_1GBTLink.html">GBTLink</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3bb621b71f1e4cc70899d684c646f9b3">getGBTLink</a>(<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="keywordflow">return</span> i &lt; 0 ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;mGBTLinks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l01447"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00122a3999f12492920304fea722c359"> 1447</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dd/d09/structo2_1_1itsmft_1_1GBTLink.html">GBTLink</a>* <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00122a3999f12492920304fea722c359">getGBTLink</a>(<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> i &lt; 0 ? <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a> : &amp;mGBTLinks[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]; }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l01450"></a><span class="lineno"><a class="line" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a15d76f9d9440c93047051dabe7fbb527"> 1450</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a15d76f9d9440c93047051dabe7fbb527">printRDH</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeader</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a>)</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">if</span> (!h) {</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      printf(<span class="stringliteral">&quot;Provided RDH pointer is null\n&quot;</span>);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    printf(<span class="stringliteral">&quot;RDH| Ver:%2u Hsz:%2u Blgt:%4u FEEId:0x%04x PBit:%u\n&quot;</span>,</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;           <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a14cd97f8ccb7e1c873894a84cd2b38dd">version</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">headerSize</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">blockLength</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">feeId</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a55c432dc8e7d01d83f0b7619fbd3ba81">priority</a>));</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    printf(<span class="stringliteral">&quot;RDH|[CRU: Offs:%5u Msz:%4u LnkId:0x%02x Packet:%3u CRUId:0x%04x]\n&quot;</span>,</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;           <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">offsetToNext</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">memorySize</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">linkID</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a8e718af75fac42d758060834390cd3d8">packetCounter</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a6a60bb796177863c67a8342731055c14">cruID</a>));</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    printf(<span class="stringliteral">&quot;RDH| TrgOrb:%9u HBOrb:%9u TrgBC:%4u HBBC:%4u TrgType:%u\n&quot;</span>,</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;           <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">triggerOrbit</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">heartbeatOrbit</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">triggerBC</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">heartbeatBC</a>),</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;           <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">triggerType</a>));</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    printf(<span class="stringliteral">&quot;RDH| DetField:0x%05x Par:0x%04x Stop:0x%04x PageCnt:%5u\n&quot;</span>,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;           <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7b5f9e03ba7edc20861a57dbb2f51abe">detectorField</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#afa26cf1cd217ce5824a01308cda5c3cc">par</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">stop</a>), <a class="code" href="../../d3/d87/classuint32__t.html">uint32_t</a>(h-&gt;<a class="code" href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">pageCnt</a>));</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  }</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  std::ifstream mIOFile;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <a class="code" href="../../d7/d8b/classo2_1_1itsmft_1_1AlpideCoder.html">Coder</a> mCoder;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <a class="code" href="../../df/dab/namespaceo2_1_1io_1_1comp__stream__helpers.html#ace4a5ece14bffdb009722a8de54c937f">Mapping</a> mMAP;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordtype">int</span> mVerbose = 0;        </div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordtype">int</span> mCurRUDecodeID = -1; </div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <a class="code" href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">PayLoadCont</a> mRawBuffer; </div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  std::array&lt;RUDecodeData, Mapping::getNRUs()&gt; mRUDecodeVec;        <span class="comment">// decoding buffers for all active RUs</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  std::array&lt;int, Mapping::getNRUs()&gt; mRUEntry;                     </div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  std::vector&lt;GBTLink&gt; mGBTLinks;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="keywordtype">int</span> mNRUs = 0;                                                    </div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordtype">int</span> mNLinks = 0;                                                  </div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordtype">int</span> mMinTriggersToCache = NCRUPagesPerSuperpage + 10;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordtype">int</span> mMinTriggersCached = 0; </div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="comment">// statistics</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">RawDecodingStat</a> mDecodingStat; </div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  TStopwatch mSWIO; </div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  TStopwatch mSWCache; </div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> RawBufferMargin = 5000000;                      <span class="comment">// keep uploaded at least this amount</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> RawBufferSize = 10000000 + 2 * RawBufferMargin; <span class="comment">// size in MB</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordtype">bool</span> mPadding128 = <span class="keyword">true</span>;                                             <span class="comment">// is payload padded to 128 bits</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordtype">bool</span> mImposeMaxPage = <span class="keyword">true</span>;                                          <span class="comment">// standard CRU data comes in 8KB pages</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// number of bytes the GBT word, including optional padding to 128 bits</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordtype">int</span> mGBTWordSize = mPadding128 ? <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a> : <a class="code" href="../../dc/d84/namespaceo2_1_1itsmft.html#aa72f3ad0b8bc782848045f98ef715321">o2::itsmft::GBTWordLength</a>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  ClassDefOverride(<a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">RawPixelReader</a>, 1);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;};</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Mapping&gt;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">RawPixelReader&lt;Mapping&gt;::RawBufferMargin</a>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Mapping&gt;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">RawPixelReader&lt;Mapping&gt;::RawBufferSize</a>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;} <span class="comment">// namespace itsmft</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;} <span class="comment">// namespace o2</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ALICEO2_ITS_RAWPIXELREADER_H */</span><span class="preprocessor"></span></div><div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ac369b7ad36d11a12b3fe1314ede8b455"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ac369b7ad36d11a12b3fe1314ede8b455">o2::header::RAWDataHeaderV4::headerSize</a></div><div class="ttdeci">uint64_t headerSize</div><div class="ttdoc">bit 0 to 7: header version </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00296">RAWDataHeader.h:296</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a595abb71ce5620eaaa4d661482e93d72"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a595abb71ce5620eaaa4d661482e93d72">o2::header::RAWDataHeaderV4::zero42</a></div><div class="ttdeci">uint64_t zero42</div><div class="ttdoc">bit 48 to 59: heartbeat BC ID </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00330">RAWDataHeader.h:330</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_abab17e9e241cf21ca1469a5b3fcf9aab"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#abab17e9e241cf21ca1469a5b3fcf9aab">o2::itsmft::RUDecodeData::lastChipChecked</a></div><div class="ttdeci">int lastChipChecked</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00045">RUDecodeData.h:45</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa7a96c98763153d47229a7da907066491">o2::itsmft::GBTLinkDecodingStat::ErrPacketCounterJump</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00062">GBTLink.h:62</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa4311702ed6dc9619b0eb033b9ea370aa"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa4311702ed6dc9619b0eb033b9ea370aa">o2::itsmft::GBTLinkDecodingStat::ErrIBChipLaneMismatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00059">GBTLink.h:59</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_ac84b954446c15deb4a9af22bbbd6888b"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac84b954446c15deb4a9af22bbbd6888b">o2::itsmft::RUDecodeData::ruInfo</a></div><div class="ttdeci">const RUInfo * ruInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00046">RUDecodeData.h:46</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a4d29f4d2d77e2c7bc4da599ef65f846c"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a4d29f4d2d77e2c7bc4da599ef65f846c">o2::itsmft::RawDecodingStat::nRUsProcessed</a></div><div class="ttdeci">uint64_t nRUsProcessed</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00068">RawPixelReader.h:68</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ad297efc4595998e07ee40fc82473b682"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad297efc4595998e07ee40fc82473b682">o2::header::RAWDataHeaderV4::feeId</a></div><div class="ttdeci">uint64_t feeId</div><div class="ttdoc">bit 16 to 31: block length </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00298">RAWDataHeader.h:298</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1AlpideCoder_html"><div class="ttname"><a href="../../d7/d8b/classo2_1_1itsmft_1_1AlpideCoder.html">o2::itsmft::AlpideCoder</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da2/AlpideCoder_8h_source.html#l00039">AlpideCoder.h:39</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a2a3c734c270796c35b77c17402e4905e"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a2a3c734c270796c35b77c17402e4905e">o2::header::RAWDataHeaderV4::triggerOrbit</a></div><div class="ttdeci">uint32_t triggerOrbit</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00317">RAWDataHeader.h:317</a></div></div>
<div class="ttc" id="namespaceo2_html"><div class="ttname"><a href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="ttdoc">information complementary to a CCDB object (path, metadata, startTimeValidity, endTimeValidity etc) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d24/BitstreamReader_8h_source.html#l00022">BitstreamReader.h:22</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html">o2::itsmft::PayLoadCont</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00028">PayLoadCont.h:28</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_ae43a0749482b17ca98f396d699e9d777"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#ae43a0749482b17ca98f396d699e9d777">o2::itsmft::ChipPixelData::getChipID</a></div><div class="ttdeci">uint16_t getChipID() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00102">PixelData.h:102</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ad9f716f9a89a944782b9db6820e5df8e"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ad9f716f9a89a944782b9db6820e5df8e">o2::header::RAWDataHeaderV4::offsetToNext</a></div><div class="ttdeci">uint32_t offsetToNext</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00306">RAWDataHeader.h:306</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_af9ecdc1a4c432ab788fbd3463f905a34"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#af9ecdc1a4c432ab788fbd3463f905a34">o2::itsmft::PayLoadCont::fillFast</a></div><div class="ttdeci">void fillFast(const uint8_t c, size_t n)</div><div class="ttdoc">add n bytes to the buffer w/o checking for the size </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00083">PayLoadCont.h:83</a></div></div>
<div class="ttc" id="GPUReconstructionIncludes_8h_html_a287eedb5aeb3e2204ded2924050fb641"><div class="ttname"><a href="../../d7/d94/GPUReconstructionIncludes_8h.html#a287eedb5aeb3e2204ded2924050fb641">assert</a></div><div class="ttdeci">#define assert(param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d94/GPUReconstructionIncludes_8h_source.html#l00021">GPUReconstructionIncludes.h:21</a></div></div>
<div class="ttc" id="GBTWord_8h_html"><div class="ttname"><a href="../../dd/d86/GBTWord_8h.html">GBTWord.h</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a55c432dc8e7d01d83f0b7619fbd3ba81"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a55c432dc8e7d01d83f0b7619fbd3ba81">o2::header::RAWDataHeaderV4::priority</a></div><div class="ttdeci">uint64_t priority</div><div class="ttdoc">bit 32 to 47: FEE identifier </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00299">RAWDataHeader.h:299</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a066bc85ee73d74e3007363ecdf5f4cc5"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a066bc85ee73d74e3007363ecdf5f4cc5">o2::itsmft::RUDecodeData::chipsData</a></div><div class="ttdeci">std::vector&lt; o2::itsmft::ChipPixelData &gt; chipsData</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00036">RUDecodeData.h:36</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a2742d2d4d369e89c2aa7a64ba35d7572"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2742d2d4d369e89c2aa7a64ba35d7572">o2::itsmft::RawPixelReader::~RawPixelReader</a></div><div class="ttdeci">~RawPixelReader() override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00129">RawPixelReader.h:129</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_ad6a8093a2dfb17f92c623fe5265e0c52"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ad6a8093a2dfb17f92c623fe5265e0c52">o2::itsmft::RUDecodeData::cableLinkID</a></div><div class="ttdeci">std::array&lt; uint8_t, MaxCablesPerRU &gt; cableLinkID</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00039">RUDecodeData.h:39</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00028">GPUCommonLogger.h:28</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a00122a3999f12492920304fea722c359"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00122a3999f12492920304fea722c359">o2::itsmft::RawPixelReader::getGBTLink</a></div><div class="ttdeci">const GBTLink * getGBTLink(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01447">RawPixelReader.h:1447</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a4568fc090febc136eed4577a600739ca"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00832">glcorearb.h:832</a></div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html_ad3c37034de56df5e5488c0991f69f6a5"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html#ad3c37034de56df5e5488c0991f69f6a5">o2::itsmft::NCRUPagesPerSuperpage</a></div><div class="ttdeci">constexpr int NCRUPagesPerSuperpage</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00056">RawPixelReader.h:56</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a1d4efb5b802926916bf7b18a364c45c6"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1d4efb5b802926916bf7b18a364c45c6">o2::itsmft::RawPixelReader::digits2raw</a></div><div class="ttdeci">int digits2raw(const std::vector&lt; o2::itsmft::Digit &gt; &amp;digiVec, int from, int ndig, const o2::InteractionRecord &amp;bcData, uint8_t ruSWMin=0, uint8_t ruSWMax=0xff)</div><div class="ttdoc">================================== Encoding methods ======================== </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00219">RawPixelReader.h:219</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0ace813ee1f7020974174eb65d53ff0d"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0ace813ee1f7020974174eb65d53ff0d">binary</a></div><div class="ttdeci">const GLuint GLenum const void * binary</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01898">glcorearb.h:1898</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a68d2a9b7e3f20625abe9b683c0d4c570"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a68d2a9b7e3f20625abe9b683c0d4c570">o2::itsmft::RUDecodeData::cableHWID</a></div><div class="ttdeci">std::array&lt; uint8_t, MaxCablesPerRU &gt; cableHWID</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00038">RUDecodeData.h:38</a></div></div>
<div class="ttc" id="InteractionRecord_8h_html"><div class="ttname"><a href="../../d9/d80/InteractionRecord_8h.html">InteractionRecord.h</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_af365034a3cae54b479f1cf69786d2e24"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af365034a3cae54b479f1cf69786d2e24">o2::itsmft::RawPixelReader::addGBTLink</a></div><div class="ttdeci">int addGBTLink()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01438">RawPixelReader.h:1438</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a33b7744150aac4afff1bafb0aa1eac6c"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a33b7744150aac4afff1bafb0aa1eac6c">o2::header::RAWDataHeaderV4::word5</a></div><div class="ttdeci">uint64_t word5</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00335">RAWDataHeader.h:335</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_aa89fcb11e9db8043f14808a5cf542624"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aa89fcb11e9db8043f14808a5cf542624">o2::itsmft::RawPixelReader::init</a></div><div class="ttdeci">void init() override</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00195">RawPixelReader.h:195</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html">o2::header::RAWDataHeaderV4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00285">RAWDataHeader.h:285</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a3229de8bbef3b981c19c006edbc576dd"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3229de8bbef3b981c19c006edbc576dd">o2::itsmft::RawPixelReader::decodeNextRUData</a></div><div class="ttdeci">int decodeNextRUData(RUDecodeData &amp;ruDecData)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00653">RawPixelReader.h:653</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a5ab65b1aed36067387ea1dc5f5ea4185"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a5ab65b1aed36067387ea1dc5f5ea4185">o2::itsmft::RawPixelReader::cacheLinksData</a></div><div class="ttdeci">size_t cacheLinksData(PayLoadCont &amp;buffer)</div><div class="ttdoc">================================== Decoding methods ======================== </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00496">RawPixelReader.h:496</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_aa6bea3d7b257398b074ad4a8e7147973"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#aa6bea3d7b257398b074ad4a8e7147973">o2::itsmft::RawDecodingStat::RawDecodingStat</a></div><div class="ttdeci">RawDecodingStat()=default</div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a597f9ddfef18e0169382e7c711ff6f83"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a597f9ddfef18e0169382e7c711ff6f83">o2::itsmft::RawPixelReader::getGBTLinkDecodingStatSW</a></div><div class="ttdeci">const GBTLinkDecodingStat * getGBTLinkDecodingStatSW(uint16_t idSW, int ruLink) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01373">RawPixelReader.h:1373</a></div></div>
<div class="ttc" id="GBTLink_8h_html"><div class="ttname"><a href="../../d0/dd1/GBTLink_8h.html">GBTLink.h</a></div><div class="ttdoc">Declarations of helper classes for the ITS/MFT raw data decoding. </div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html_a1247624edf0b5d8f8d5c7d4bf5564a00"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html#a1247624edf0b5d8f8d5c7d4bf5564a00">o2::itsmft::GBTPaddedWordLength</a></div><div class="ttdeci">constexpr int GBTPaddedWordLength</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00042">GBTWord.h:42</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a14cd97f8ccb7e1c873894a84cd2b38dd"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a14cd97f8ccb7e1c873894a84cd2b38dd">o2::header::RAWDataHeaderV4::version</a></div><div class="ttdeci">uint64_t version</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00295">RAWDataHeader.h:295</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_afa26cf1cd217ce5824a01308cda5c3cc"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#afa26cf1cd217ce5824a01308cda5c3cc">o2::header::RAWDataHeaderV4::par</a></div><div class="ttdeci">uint64_t par</div><div class="ttdoc">bit 32 to 47: detector field </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00341">RAWDataHeader.h:341</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa48f5cddef233362eda869bb728c8a383">o2::itsmft::RawDecodingStat::NErrorsDefined</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00062">RawPixelReader.h:62</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ad08a37964429d340d966dfa679443e8f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3667f558219c90437106b544a3ca00b8"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a></div><div class="ttdeci">GLuint buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00655">glcorearb.h:655</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_ae010acec3af26f679f32f1a971d97464"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ae010acec3af26f679f32f1a971d97464">o2::itsmft::RawDecodingStat::ULL</a></div><div class="ttdeci">unsigned long long ULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00065">RawPixelReader.h:65</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a5994b4e70b9cabdfa2e3a930ae735528"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a5994b4e70b9cabdfa2e3a930ae735528">o2::header::RAWDataHeaderV4::blockLength</a></div><div class="ttdeci">uint64_t blockLength</div><div class="ttdoc">bit 8 to 15: header size </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00297">RAWDataHeader.h:297</a></div></div>
<div class="ttc" id="ChipMappingITS_8h_html"><div class="ttname"><a href="../../d3/d57/ChipMappingITS_8h.html">ChipMappingITS.h</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1ChipInfo_html_aaaa25d1ba2a8a680e099dfbf008834f3"><div class="ttname"><a href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aaaa25d1ba2a8a680e099dfbf008834f3">o2::itsmft::ChipInfo::ru</a></div><div class="ttdeci">std::uint16_t ru</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00059">RUInfo.h:59</a></div></div>
<div class="ttc" id="PayLoadSG_8h_html"><div class="ttname"><a href="../../d4/d20/PayLoadSG_8h.html">PayLoadSG.h</a></div><div class="ttdoc">Declaration of class for scatter-gather buffer. </div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a2ffecc669158972ea75c7c6eeda34bcf"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2ffecc669158972ea75c7c6eeda34bcf">o2::itsmft::RawPixelReader::getRUEntries</a></div><div class="ttdeci">const std::array&lt; int, Mapping::getNRUs()&gt; &amp; getRUEntries() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01416">RawPixelReader.h:1416</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a7cb0c585b187ec180c5428d5c919c99b"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a7cb0c585b187ec180c5428d5c919c99b">o2::itsmft::PayLoadCont::getPtr</a></div><div class="ttdeci">uint8_t * getPtr()</div><div class="ttdoc">direct write access </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00217">PayLoadCont.h:217</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PixelReader_html"><div class="ttname"><a href="../../d1/d4f/classo2_1_1itsmft_1_1PixelReader.html">o2::itsmft::PixelReader</a></div><div class="ttdoc">PixelReader class for the ITSMFT. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/PixelReader_8h_source.html#l00032">PixelReader.h:32</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_aba3eb5bf624496fc8c4d444a4e3f43ed"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aba3eb5bf624496fc8c4d444a4e3f43ed">o2::itsmft::RawPixelReader::isSameRUandTrigger</a></div><div class="ttdeci">bool isSameRUandTrigger(const o2::header::RAWDataHeader *rdhOld, const o2::header::RAWDataHeader *rdhNew) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01230">RawPixelReader.h:1230</a></div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html_a5e75064a96754ce248b6e76e75573fbf"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html#a5e75064a96754ce248b6e76e75573fbf">o2::itsmft::MaxGBTWordsPerPacket</a></div><div class="ttdeci">constexpr int MaxGBTWordsPerPacket</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00055">RawPixelReader.h:55</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa38bbb19f808f33704ad173ed914e7a0b"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa38bbb19f808f33704ad173ed914e7a0b">o2::itsmft::GBTLinkDecodingStat::ErrDataForStoppedLane</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00057">GBTLink.h:57</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_afc0438efabfc5e334e3e6d9df829a67b"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#afc0438efabfc5e334e3e6d9df829a67b">o2::itsmft::PayLoadCont::setPtr</a></div><div class="ttdeci">void setPtr(uint8_t *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00218">PayLoadCont.h:218</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a0709472b606d55215233e3464e1e8966"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0709472b606d55215233e3464e1e8966">o2::itsmft::RawPixelReader::fillGBTLinks</a></div><div class="ttdeci">int fillGBTLinks()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00328">RawPixelReader.h:328</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ae52362b10d585638f5b96140e90f1b7a"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ae52362b10d585638f5b96140e90f1b7a">id</a></div><div class="ttdeci">GLuint id</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00650">glcorearb.h:650</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html">o2::itsmft::GBTLinkDecodingStat</a></div><div class="ttdoc">Statistics for per-link decoding. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00043">GBTLink.h:43</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLink_html"><div class="ttname"><a href="../../dd/d09/structo2_1_1itsmft_1_1GBTLink.html">o2::itsmft::GBTLink</a></div><div class="ttdoc">support for the GBT single link data </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00111">GBTLink.h:111</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html">o2::itsmft::RUDecodeData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00029">RUDecodeData.h:29</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fada9ef023cb2a627758a2cd4e2205d921"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fada9ef023cb2a627758a2cd4e2205d921">o2::itsmft::GBTLinkDecodingStat::ErrCableDataHeadWrong</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00060">GBTLink.h:60</a></div></div>
<div class="ttc" id="PayLoadCont_8h_html"><div class="ttname"><a href="../../d0/d35/PayLoadCont_8h.html">PayLoadCont.h</a></div><div class="ttdoc">Declaration of class for continuos buffer of ALPIDE data. </div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a200fa4a21451127616a141ccd0dea104"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a200fa4a21451127616a141ccd0dea104">o2::itsmft::RawPixelReader::getNextChipData</a></div><div class="ttdeci">bool getNextChipData(ChipPixelData &amp;chipData) override</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01303">RawPixelReader.h:1303</a></div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html_a5abac6747a0bf8acfd38b66199d2978f"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html#a5abac6747a0bf8acfd38b66199d2978f">o2::itsmft::MaxGBTPacketBytes</a></div><div class="ttdeci">constexpr int MaxGBTPacketBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00054">RawPixelReader.h:54</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_acc1a1d7a14e85e970d142d7cd9d774db"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc1a1d7a14e85e970d142d7cd9d774db">o2::itsmft::RawPixelReader::decodeAlpideData</a></div><div class="ttdeci">int decodeAlpideData(RUDecodeData &amp;decData)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01245">RawPixelReader.h:1245</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a7b4b0c8f73bc3ba53e7e127ce736aa95"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a7b4b0c8f73bc3ba53e7e127ce736aa95">o2::itsmft::RUDecodeData::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db1/RUDecodeData_8cxx_source.html#l00032">RUDecodeData.cxx:32</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0788d3762d0c3c76e4c094d8078b4c27"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0788d3762d0c3c76e4c094d8078b4c27">n</a></div><div class="ttdeci">GLdouble n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01982">glcorearb.h:1982</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_acd82bfa3086c77868043c1b4afd08330"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd82bfa3086c77868043c1b4afd08330">o2::itsmft::RawDecodingStat::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00076">RawPixelReader.h:76</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a509c48c7c47e07e76400dfe931de3ab4"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a509c48c7c47e07e76400dfe931de3ab4">o2::itsmft::RawPixelReader::decodeNextTrigger</a></div><div class="ttdeci">int decodeNextTrigger() final</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00614">RawPixelReader.h:614</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html">o2::itsmft::RawPixelReader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00119">RawPixelReader.h:119</a></div></div>
<div class="ttc" id="namespaceo2_1_1trigger_html_a688c0223b4daaa6e17d682c163349cd7"><div class="ttname"><a href="../../df/d7e/namespaceo2_1_1trigger.html#a688c0223b4daaa6e17d682c163349cd7">o2::trigger::SOT</a></div><div class="ttdeci">constexpr uint32_t SOT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da4/Triggers_8h_source.html#l00032">Triggers.h:32</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_abe651aa4e0c5d02db2081b383ea33d48"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#abe651aa4e0c5d02db2081b383ea33d48">o2::itsmft::PayLoadCont::addFast</a></div><div class="ttdeci">void addFast(const uint8_t *ptr, size_t n)</div><div class="ttdoc">add new byte to the buffer w/o checking for the size </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00090">PayLoadCont.h:90</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bfa9b75e969a1250b818e07a15039b433f2">o2::itsmft::RawDecodingStat::ErrInvalidFEEId</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00061">RawPixelReader.h:61</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_acc780c502121dbe5bd810d1c450b311f"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#acc780c502121dbe5bd810d1c450b311f">o2::itsmft::RawPixelReader::loadInput</a></div><div class="ttdeci">size_t loadInput(PayLoadCont &amp;buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01349">RawPixelReader.h:1349</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RDHAny_html"><div class="ttname"><a href="../../d3/d22/structo2_1_1header_1_1RDHAny.html">o2::header::RDHAny</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d89/RDHAny_8h_source.html#l00026">RDHAny.h:26</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_aaa531599a25c18b1fd126b12670db2a4"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aaa531599a25c18b1fd126b12670db2a4">o2::header::RAWDataHeaderV4::triggerBC</a></div><div class="ttdeci">uint64_t triggerBC</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00327">RAWDataHeader.h:327</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a8e718af75fac42d758060834390cd3d8"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a8e718af75fac42d758060834390cd3d8">o2::header::RAWDataHeaderV4::packetCounter</a></div><div class="ttdeci">uint8_t packetCounter</div><div class="ttdoc">bit 96 to 103: link id </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00309">RAWDataHeader.h:309</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html">o2::itsmft::RawDecodingStat</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00059">RawPixelReader.h:59</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_ae393b70f12be7dc234a7f37273357fe0"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae393b70f12be7dc234a7f37273357fe0">o2::itsmft::RawPixelReader::getVerbosity</a></div><div class="ttdeci">int getVerbosity() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01398">RawPixelReader.h:1398</a></div></div>
<div class="ttc" id="RUDecodeData_8h_html"><div class="ttname"><a href="../../db/d0e/RUDecodeData_8h.html">RUDecodeData.h</a></div><div class="ttdoc">Declaration of the Readout Unite decoder class. </div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a6a60bb796177863c67a8342731055c14"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a6a60bb796177863c67a8342731055c14">o2::header::RAWDataHeaderV4::cruID</a></div><div class="ttdeci">uint16_t cruID</div><div class="ttdoc">bit 104 to 111: packet counter </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00310">RAWDataHeader.h:310</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_af5f2814978367ddb9ca7c1f942511632"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af5f2814978367ddb9ca7c1f942511632">o2::header::RAWDataHeaderV4::memorySize</a></div><div class="ttdeci">uint32_t memorySize</div><div class="ttdoc">bit 64 to 79: offset to next packet in memory </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00307">RAWDataHeader.h:307</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a18d77afe74daa05ccab44c219d0a48a1"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a18d77afe74daa05ccab44c219d0a48a1">o2::itsmft::RawDecodingStat::errorCounts</a></div><div class="ttdeci">std::array&lt; int, NErrorsDefined &gt; errorCounts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00072">RawPixelReader.h:72</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a53ed9bd1e08a8b029ea77ce36847e85c"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a53ed9bd1e08a8b029ea77ce36847e85c">o2::header::RAWDataHeaderV4::zero0</a></div><div class="ttdeci">uint64_t zero0</div><div class="ttdoc">bit 48 to 55: priority bit </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00300">RAWDataHeader.h:300</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a3b5473ac0c79bd930b1b23c040cc1ded"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b5473ac0c79bd930b1b23c040cc1ded">o2::itsmft::RawPixelReader::isRDHHeuristic</a></div><div class="ttdeci">bool isRDHHeuristic(const o2::header::RAWDataHeader *rdh)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00714">RawPixelReader.h:714</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a58844e82ba93f23a9d300fa8fbda31d8"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a58844e82ba93f23a9d300fa8fbda31d8">o2::itsmft::RawPixelReader::isPadding128</a></div><div class="ttdeci">bool isPadding128() const</div><div class="ttdoc">do we interpred GBT words as padded to 128 bits? </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00140">RawPixelReader.h:140</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a0e16b3dd335edc5c6aabb53486082b64"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0e16b3dd335edc5c6aabb53486082b64">o2::itsmft::RawPixelReader::decodeRUData</a></div><div class="ttdeci">uint8_t * decodeRUData(uint8_t *raw, RUDecodeData &amp;ruDecData, bool &amp;aborted)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00724">RawPixelReader.h:724</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a2452b9e97c8b8c34d446e7245615e959"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2452b9e97c8b8c34d446e7245615e959">o2::itsmft::RawPixelReader::skimNextRUData</a></div><div class="ttdeci">int skimNextRUData(PayLoadCont &amp;outBuffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00958">RawPixelReader.h:958</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a504c2608a01cdfe2babafbc3b38873fc"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a504c2608a01cdfe2babafbc3b38873fc">o2::itsmft::RUDecodeData::links</a></div><div class="ttdeci">std::array&lt; int, MaxLinksPerRU &gt; links</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00037">RUDecodeData.h:37</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a1fbedff37e28c01280b5c4a7332e0c12"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1fbedff37e28c01280b5c4a7332e0c12">o2::header::RAWDataHeaderV4::stop</a></div><div class="ttdeci">uint64_t stop</div><div class="ttdoc">bit 48 to 63: par </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00342">RAWDataHeader.h:342</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTWord_html_a5695a3ada552f0092b901fae8b4c79ef"><div class="ttname"><a href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a5695a3ada552f0092b901fae8b4c79ef">o2::itsmft::GBTWord::lanesStops</a></div><div class="ttdeci">uint64_t lanesStops</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00055">GBTWord.h:55</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_add6ece9a067b993e6c7e94876ceb1dcc"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#add6ece9a067b993e6c7e94876ceb1dcc">o2::itsmft::RawPixelReader::findNextRDH</a></div><div class="ttdeci">bool findNextRDH(PayLoadCont &amp;buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00682">RawPixelReader.h:682</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_af9bbb50fdcf123d1f89600191153c9a7"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af9bbb50fdcf123d1f89600191153c9a7">o2::itsmft::RawPixelReader::getRUDecodingStatHW</a></div><div class="ttdeci">const GBTLinkDecodingStat * getRUDecodingStatHW(uint16_t idHW, int ruLink=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01392">RawPixelReader.h:1392</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_ad905e85a1df0c2f9b4f554a334733694"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#ad905e85a1df0c2f9b4f554a334733694">o2::itsmft::PayLoadCont::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">make buffer empty w/o deallocating it </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00050">PayLoadCont.h:50</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a3bb621b71f1e4cc70899d684c646f9b3"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3bb621b71f1e4cc70899d684c646f9b3">o2::itsmft::RawPixelReader::getGBTLink</a></div><div class="ttdeci">GBTLink * getGBTLink(int i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01446">RawPixelReader.h:1446</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTWord_html_a1869c4e2c4a50a3d95ff0b2655fab057"><div class="ttname"><a href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#a1869c4e2c4a50a3d95ff0b2655fab057">o2::itsmft::GBTWord::printX</a></div><div class="ttdeci">void printX(bool padded=true) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dfb/GBTWord_8cxx_source.html#l00020">GBTWord.cxx:20</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1ChipInfo_html_aa0eeb81c4e08599565f3fa38913d91ba"><div class="ttname"><a href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html#aa0eeb81c4e08599565f3fa38913d91ba">o2::itsmft::ChipInfo::chOnRU</a></div><div class="ttdeci">const ChipOnRUInfo * chOnRU</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00055">RUInfo.h:55</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_af73c1153711d62545bfccd366681f398"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#af73c1153711d62545bfccd366681f398">o2::itsmft::RawPixelReader::getCurrRUDecodeData</a></div><div class="ttdeci">const RUDecodeData * getCurrRUDecodeData() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01403">RawPixelReader.h:1403</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a71425c94d3ac41f62430dec4fbc4bb0b"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a71425c94d3ac41f62430dec4fbc4bb0b">o2::itsmft::ChipPixelData::getData</a></div><div class="ttdeci">const std::vector&lt; PixelData &gt; &amp; getData() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00109">PixelData.h:109</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a95a70e272e15fea88bd405c31605f1fc"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a95a70e272e15fea88bd405c31605f1fc">o2::itsmft::RawPixelReader::convertEmptyChips</a></div><div class="ttdeci">void convertEmptyChips(int fromChip, int uptoChip)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00315">RawPixelReader.h:315</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="../../d6/d30/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTDataTrailer_html"><div class="ttname"><a href="../../d2/d9e/structo2_1_1itsmft_1_1GBTDataTrailer.html">o2::itsmft::GBTDataTrailer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00131">GBTWord.h:131</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa435a6ccfb69bc09a89813284de48fdaa"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa435a6ccfb69bc09a89813284de48fdaa">o2::itsmft::GBTLinkDecodingStat::ErrRDHvsGBTHPageCnt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00051">GBTLink.h:51</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa42bd7c301e0063fcd2197e34eeb1f1f1"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa42bd7c301e0063fcd2197e34eeb1f1f1">o2::itsmft::GBTLinkDecodingStat::ErrMissingGBTHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00053">GBTLink.h:53</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_ad32efd99574532ab842837e628abf079"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ad32efd99574532ab842837e628abf079">o2::itsmft::RawPixelReader::flushSuperPages</a></div><div class="ttdeci">int flushSuperPages(int maxPages, PayLoadCont &amp;sink, bool unusedToHead=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00456">RawPixelReader.h:456</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1ChipOnRUInfo_html_a3fd6598f55602511173faca3067a9a77"><div class="ttname"><a href="../../d4/d0c/structo2_1_1itsmft_1_1ChipOnRUInfo.html#a3fd6598f55602511173faca3067a9a77">o2::itsmft::ChipOnRUInfo::id</a></div><div class="ttdeci">std::uint8_t id</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00040">RUInfo.h:40</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a9c097a033959d7c7ee50f07176cf0926"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9c097a033959d7c7ee50f07176cf0926">o2::itsmft::RawPixelReader::getMapping</a></div><div class="ttdeci">Mapping &amp; getMapping()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01400">RawPixelReader.h:1400</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1ChipInfo_html"><div class="ttname"><a href="../../d6/d41/structo2_1_1itsmft_1_1ChipInfo.html">o2::itsmft::ChipInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00052">RUInfo.h:52</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a232a0b5753ff51836e4ff60f119faf14"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a232a0b5753ff51836e4ff60f119faf14">o2::itsmft::PayLoadCont::shrinkToSize</a></div><div class="ttdeci">void shrinkToSize(size_t sz)</div><div class="ttdoc">direct const access to value at a given slot, w/o checking for overflow </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00148">PayLoadCont.h:148</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a62c46a9ca55ebefa4fd736c0aa0a1204"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a62c46a9ca55ebefa4fd736c0aa0a1204">o2::itsmft::RUDecodeData::MaxLinksPerRU</a></div><div class="ttdeci">static constexpr int MaxLinksPerRU</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00033">RUDecodeData.h:33</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUInfo_html_ae0449f0c006d626b024f58dcc92a783c"><div class="ttname"><a href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#ae0449f0c006d626b024f58dcc92a783c">o2::itsmft::RUInfo::idHW</a></div><div class="ttdeci">uint16_t idHW</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00030">RUInfo.h:30</a></div></div>
<div class="ttc" id="classuint32__t_html"><div class="ttname"><a href="../../d3/d87/classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_ae809f7713a78429b0cf2bc2bbba58a38"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ae809f7713a78429b0cf2bc2bbba58a38">o2::itsmft::RawPixelReader::setPadding128</a></div><div class="ttdeci">void setPadding128(bool v)</div><div class="ttdoc">impose padding model for GBT words </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00149">RawPixelReader.h:149</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a1f95341a8acbf5d2be699cb0041ee6c8"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a1f95341a8acbf5d2be699cb0041ee6c8">o2::itsmft::RawPixelReader::setMinTriggersToCache</a></div><div class="ttdeci">void setMinTriggersToCache(int n)</div><div class="ttdoc">set min number of triggers to cache per frame </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00156">RawPixelReader.h:156</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a05ff9825c9c57f564a4dc7d53fce00d3"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a05ff9825c9c57f564a4dc7d53fce00d3">o2::itsmft::PayLoadCont::ensureFreeCapacity</a></div><div class="ttdeci">void ensureFreeCapacity(size_t n)</div><div class="ttdoc">fill n bytes with given symbol w/o checking for the size </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00075">PayLoadCont.h:75</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a3b4b74bba5e382dca6295fd405c12efd"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3b4b74bba5e382dca6295fd405c12efd">o2::itsmft::RawPixelReader::getNLinks</a></div><div class="ttdeci">int getNLinks() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01408">RawPixelReader.h:1408</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_ac6af1139d5e8fae44dfc310c1a407b90"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#ac6af1139d5e8fae44dfc310c1a407b90">o2::itsmft::RUDecodeData::nCables</a></div><div class="ttdeci">int nCables</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00043">RUDecodeData.h:43</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a3593c71cb7d3282a1c70a54d237038ac"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a3593c71cb7d3282a1c70a54d237038ac">o2::itsmft::RawPixelReader::getMinTriggersToCache</a></div><div class="ttdeci">int getMinTriggersToCache() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00158">RawPixelReader.h:158</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a820ed5132058bc3f0b57f3aed4149aa7"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a820ed5132058bc3f0b57f3aed4149aa7">o2::itsmft::RawDecodingStat::nPagesProcessed</a></div><div class="ttdeci">uint64_t nPagesProcessed</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00067">RawPixelReader.h:67</a></div></div>
<div class="ttc" id="Triggers_8h_html"><div class="ttname"><a href="../../de/da4/Triggers_8h.html">Triggers.h</a></div><div class="ttdoc">Definition of the 32 Central Trigger System (CTS) Trigger Types defined in https://twiki.cern.ch/twiki/pub/ALICE/NoteForFEDevelopers/CTS_CRU_FE_interface.pdf. </div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a20f70ce9bd99a31d84e018188a606835"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a20f70ce9bd99a31d84e018188a606835">o2::itsmft::RawPixelReader::imposeMaxPage</a></div><div class="ttdeci">void imposeMaxPage(bool v)</div><div class="ttdoc">CRU pages are of max size of 8KB. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00161">RawPixelReader.h:161</a></div></div>
<div class="ttc" id="namespaceo2_1_1io_1_1comp__stream__helpers_html_ace4a5ece14bffdb009722a8de54c937f"><div class="ttname"><a href="../../df/dab/namespaceo2_1_1io_1_1comp__stream__helpers.html#ace4a5ece14bffdb009722a8de54c937f">o2::io::comp_stream_helpers::Mapping</a></div><div class="ttdeci">const std::map&lt; std::string, CompressionMethod &gt; Mapping</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d29/CompStream_8cxx_source.html#l00082">CompStream.cxx:82</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a2621cdb5e32a873302e4616cd27ab089"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a2621cdb5e32a873302e4616cd27ab089">o2::itsmft::RawPixelReader::getGBTLinkDecodingStatHW</a></div><div class="ttdeci">const GBTLinkDecodingStat * getGBTLinkDecodingStatHW(uint16_t idHW, int ruLink) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01383">RawPixelReader.h:1383</a></div></div>
<div class="ttc" id="glcorearb_8h_html_afa0fb1b5e976920c0abeff2dca3ed774"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a></div><div class="ttdeci">GLfloat GLfloat GLfloat GLfloat h</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01976">glcorearb.h:1976</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_acd0a8294129b01de6bbc34755add1c58"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#acd0a8294129b01de6bbc34755add1c58">o2::itsmft::RawDecodingStat::print</a></div><div class="ttdeci">void print(bool skipEmpty=true) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00087">RawPixelReader.h:87</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a8f0c587e0b0a7252e6ca43fd6527f7c3"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a8f0c587e0b0a7252e6ca43fd6527f7c3">o2::itsmft::RawPixelReader::getRawBuffer</a></div><div class="ttdeci">PayLoadCont &amp; getRawBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01405">RawPixelReader.h:1405</a></div></div>
<div class="ttc" id="PixelData_8h_html"><div class="ttname"><a href="../../da/d8d/PixelData_8h.html">PixelData.h</a></div><div class="ttdoc">Transient data classes for single pixel and set of pixels from current chip. </div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html">o2::itsmft::ChipPixelData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00095">PixelData.h:95</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a8806da8ddfa4f857be6937c5f37219bf"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a8806da8ddfa4f857be6937c5f37219bf">o2::itsmft::RawDecodingStat::DecErrors</a></div><div class="ttdeci">DecErrors</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00060">RawPixelReader.h:60</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a8acd33815c6ef139b7a10aef8234b604"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a8acd33815c6ef139b7a10aef8234b604">o2::itsmft::ChipPixelData::setChipID</a></div><div class="ttdeci">void setChipID(uint16_t id)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00113">PixelData.h:113</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a970c16332e01307d4c24f8a97655588d"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a970c16332e01307d4c24f8a97655588d">o2::itsmft::RawPixelReader::getDecodingStat</a></div><div class="ttdeci">const RawDecodingStat &amp; getDecodingStat() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01395">RawPixelReader.h:1395</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_ab89eb54edbe7d41faac0b85a988fbd5f"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#ab89eb54edbe7d41faac0b85a988fbd5f">o2::itsmft::RawDecodingStat::ClassDefNV</a></div><div class="ttdeci">ClassDefNV(RawDecodingStat, 2)</div></div>
<div class="ttc" id="glcorearb_8h_html_a9e907d395940d7ddc7945f0194f01764"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a9e907d395940d7ddc7945f0194f01764">pixels</a></div><div class="ttdeci">GLint GLint GLsizei GLint GLenum GLenum const void * pixels</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00275">glcorearb.h:275</a></div></div>
<div class="ttc" id="namespaceo2_1_1itsmft_html_aa72f3ad0b8bc782848045f98ef715321"><div class="ttname"><a href="../../dc/d84/namespaceo2_1_1itsmft.html#aa72f3ad0b8bc782848045f98ef715321">o2::itsmft::GBTWordLength</a></div><div class="ttdeci">constexpr int GBTWordLength</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00041">GBTWord.h:41</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa0990bf6bb69978f55e39b971c96aac18"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa0990bf6bb69978f55e39b971c96aac18">o2::itsmft::GBTLinkDecodingStat::ErrNoDataForActiveLane</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00058">GBTLink.h:58</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTWord_html_af36d3948c8acfc74e1ca59f457999459"><div class="ttname"><a href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af36d3948c8acfc74e1ca59f457999459">o2::itsmft::GBTWord::packetIdx</a></div><div class="ttdeci">uint64_t packetIdx</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00048">GBTWord.h:48</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_aacbcd1732dab74032adef2c00bbe1d90"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aacbcd1732dab74032adef2c00bbe1d90">o2::itsmft::RawPixelReader::getRUDecodeVec</a></div><div class="ttdeci">const std::array&lt; RUDecodeData, Mapping::getNRUs()&gt; &amp; getRUDecodeVec() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01414">RawPixelReader.h:1414</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUInfo_html_a69ae0b282dcfe8dc14f44cb157632d81"><div class="ttname"><a href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#a69ae0b282dcfe8dc14f44cb157632d81">o2::itsmft::RUInfo::nCables</a></div><div class="ttdeci">uint8_t nCables</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00034">RUInfo.h:34</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUInfo_html_af63846ad09ad9d0456f56e12b5aa3efe"><div class="ttname"><a href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#af63846ad09ad9d0456f56e12b5aa3efe">o2::itsmft::RUInfo::ruType</a></div><div class="ttdeci">uint8_t ruType</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00033">RUInfo.h:33</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a49825216c96caaeb09237b36651181c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a49825216c96caaeb09237b36651181c5">x1</a></div><div class="ttdeci">GLuint GLfloat GLfloat GLfloat x1</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05034">glcorearb.h:5034</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ade7916fb6d252edea663f62294c6b058"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ade7916fb6d252edea663f62294c6b058">o2::header::RAWDataHeaderV4::zero41</a></div><div class="ttdeci">uint64_t zero41</div><div class="ttdoc">bit 32 to 43: trigger BC ID </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00328">RAWDataHeader.h:328</a></div></div>
<div class="ttc" id="PixelReader_8h_html"><div class="ttname"><a href="../../df/d2e/PixelReader_8h.html">PixelReader.h</a></div><div class="ttdoc">Abstract class for Alpide data reader class. </div></div>
<div class="ttc" id="calib-pedestal_8cxx_html_a65f962ed0ce066946bb6077ec11c66df"><div class="ttname"><a href="../../dd/d58/calib-pedestal_8cxx.html#a65f962ed0ce066946bb6077ec11c66df">printRDH</a></div><div class="ttdeci">void printRDH(const RDH &amp;rdh)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d58/calib-pedestal_8cxx_source.html#l00057">calib-pedestal.cxx:57</a></div></div>
<div class="ttc" id="DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_html"><div class="ttname"><a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h.html">RAWDataHeader.h</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_af52c528589441c4588c11725fc852d57"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#af52c528589441c4588c11725fc852d57">o2::itsmft::PayLoadCont::append</a></div><div class="ttdeci">size_t append(std::function&lt; size_t(uint8_t *, size_t)&gt; getNext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00208">PayLoadCont.h:208</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fa2981f7caf5b243bc39767bfccbcab7d2"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fa2981f7caf5b243bc39767bfccbcab7d2">o2::itsmft::GBTLinkDecodingStat::ErrMissingGBTTrailer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00054">GBTLink.h:54</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a563f5791565c1a5a85874d3075d80a04"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a563f5791565c1a5a85874d3075d80a04">o2::itsmft::RUDecodeData::cableData</a></div><div class="ttdeci">std::array&lt; PayLoadCont, MaxCablesPerRU &gt; cableData</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00035">RUDecodeData.h:35</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a71ee146bbac9e6f87d2da5d512f63bf6"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a71ee146bbac9e6f87d2da5d512f63bf6">o2::itsmft::PayLoadCont::getEnd</a></div><div class="ttdeci">uint8_t * getEnd()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00220">PayLoadCont.h:220</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a9f48dac938524dd4a405936b0c98943e"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f48dac938524dd4a405936b0c98943e">o2::itsmft::RawPixelReader::clear</a></div><div class="ttdeci">void clear(bool resetStat=true)</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00198">RawPixelReader.h:198</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_ab42999606e2b92cbd8125ec45dcc408b"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ab42999606e2b92cbd8125ec45dcc408b">o2::itsmft::RawPixelReader::getRUDecode</a></div><div class="ttdeci">const RUDecodeData * getRUDecode(int ruSW) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01419">RawPixelReader.h:1419</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a2fd48dd8a73b93834142846dfd4b1c2d"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a2fd48dd8a73b93834142846dfd4b1c2d">o2::itsmft::RawDecodingStat::nHitsDecoded</a></div><div class="ttdeci">uint64_t nHitsDecoded</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00071">RawPixelReader.h:71</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUInfo_html_a34db4d2919cc98afa23c928f70d4690a"><div class="ttname"><a href="../../dd/d8d/structo2_1_1itsmft_1_1RUInfo.html#a34db4d2919cc98afa23c928f70d4690a">o2::itsmft::RUInfo::idSW</a></div><div class="ttdeci">uint16_t idSW</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd8/RUInfo_8h_source.html#l00029">RUInfo.h:29</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_af1aab144563f53eaed471902de453287"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#af1aab144563f53eaed471902de453287">o2::header::RAWDataHeaderV4::heartbeatOrbit</a></div><div class="ttdeci">uint32_t heartbeatOrbit</div><div class="ttdoc">bit 0 to 31: trigger orbit </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00318">RAWDataHeader.h:318</a></div></div>
<div class="ttc" id="structo2_1_1InteractionRecord_html"><div class="ttname"><a href="../../d1/d21/structo2_1_1InteractionRecord.html">o2::InteractionRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d80/InteractionRecord_8h_source.html#l00024">InteractionRecord.h:24</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ChipPixelData_html_a9860711b49b20e0b201dc2ba896fa3d3"><div class="ttname"><a href="../../d7/db4/classo2_1_1itsmft_1_1ChipPixelData.html#a9860711b49b20e0b201dc2ba896fa3d3">o2::itsmft::ChipPixelData::swap</a></div><div class="ttdeci">void swap(ChipPixelData &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8d/PixelData_8h_source.html#l00126">PixelData.h:126</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_aae8e63cfdcaae489771e0f81973340b1"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#aae8e63cfdcaae489771e0f81973340b1">o2::itsmft::RawPixelReader::getNRUs</a></div><div class="ttdeci">int getNRUs() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01411">RawPixelReader.h:1411</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a15d76f9d9440c93047051dabe7fbb527"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a15d76f9d9440c93047051dabe7fbb527">o2::itsmft::RawPixelReader::printRDH</a></div><div class="ttdeci">void printRDH(const o2::header::RAWDataHeader *h)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01450">RawPixelReader.h:1450</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98faf6fdc13675e2f435165c722af5d7d6e7"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf6fdc13675e2f435165c722af5d7d6e7">o2::itsmft::GBTLinkDecodingStat::ErrUnstoppedLanes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00056">GBTLink.h:56</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTData_html"><div class="ttname"><a href="../../d3/d38/structo2_1_1itsmft_1_1GBTData.html">o2::itsmft::GBTData</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00196">GBTWord.h:196</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a00f4400fc9ebdb4b94b4bdde2a266919"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a00f4400fc9ebdb4b94b4bdde2a266919">o2::itsmft::RawPixelReader::RawPixelReader</a></div><div class="ttdeci">RawPixelReader()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00124">RawPixelReader.h:124</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a9db3acd72bd0cfa283c504d58853fceb"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9db3acd72bd0cfa283c504d58853fceb">o2::itsmft::RawPixelReader::getNextChipData</a></div><div class="ttdeci">ChipPixelData * getNextChipData(std::vector&lt; ChipPixelData &gt; &amp;chipDataVec) override</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00164">RawPixelReader.h:164</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTWord_html_afcd5c4cff795e1d5ee3ece34be409899"><div class="ttname"><a href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#afcd5c4cff795e1d5ee3ece34be409899">o2::itsmft::GBTWord::packetDone</a></div><div class="ttdeci">uint64_t packetDone</div><div class="ttdoc">60:63 reserved </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00059">GBTWord.h:59</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a3ad3dce98534d81a7fdaecf745bb7db4"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a3ad3dce98534d81a7fdaecf745bb7db4">o2::itsmft::RawDecodingStat::ErrNames</a></div><div class="ttdeci">static constexpr std::array&lt; std::string_view, NErrorsDefined &gt; ErrNames</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00105">RawPixelReader.h:105</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fabae9a791a98ffc0fdee1e4a40c4e4c13"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fabae9a791a98ffc0fdee1e4a40c4e4c13">o2::itsmft::GBTLinkDecodingStat::ErrInvalidActiveLanes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00061">GBTLink.h:61</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_aeb30a4c94fb87396a146b52be90a7885"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#aeb30a4c94fb87396a146b52be90a7885">o2::itsmft::RawDecodingStat::nNonEmptyChips</a></div><div class="ttdeci">uint64_t nNonEmptyChips</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00070">RawPixelReader.h:70</a></div></div>
<div class="ttc" id="GPUDisplayBackendWindows_8cxx_html_a03c996f9fcf0e10baeb3e700be0c409a"><div class="ttname"><a href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2e/GPUDisplayBackendWindows_8cxx_source.html#l00035">GPUDisplayBackendWindows.cxx:35</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a552d66be710a5c94baa1357b79142e08"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a552d66be710a5c94baa1357b79142e08">o2::itsmft::RawDecodingStat::nBytesProcessed</a></div><div class="ttdeci">uint64_t nBytesProcessed</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00069">RawPixelReader.h:69</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a1603fc8ef36d5d19b856208adc6477fe"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a1603fc8ef36d5d19b856208adc6477fe">o2::header::RAWDataHeaderV4::linkID</a></div><div class="ttdeci">uint8_t linkID</div><div class="ttdoc">bit 80 to 95: memory size </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00308">RAWDataHeader.h:308</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_aa820c3404891b7ae536315de52df71be"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#aa820c3404891b7ae536315de52df71be">o2::header::RAWDataHeaderV4::zero6</a></div><div class="ttdeci">uint64_t zero6</div><div class="ttdoc">bit 8 to 23: pages counter </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00344">RAWDataHeader.h:344</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8922a680b00df660c57f47c1971d04c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a></div><div class="ttdeci">GLboolean * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00298">glcorearb.h:298</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTWord_html_af2c94045e30f66fa244fc39a8c4a8937"><div class="ttname"><a href="../../d5/d5c/structo2_1_1itsmft_1_1GBTWord.html#af2c94045e30f66fa244fc39a8c4a8937">o2::itsmft::GBTWord::getW8</a></div><div class="ttdeci">const uint8_t * getW8() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00102">GBTWord.h:102</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a538d9f155166ed65fda2c60ccb6b71c9"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a538d9f155166ed65fda2c60ccb6b71c9">o2::header::RAWDataHeaderV4::pageCnt</a></div><div class="ttdeci">uint64_t pageCnt</div><div class="ttdoc">bit 0 to 7: stop code </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00343">RAWDataHeader.h:343</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a9fb99aa34f76f957d3f57fed6946e901"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00016">qconfigoptions.h:16</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a09ab0f08ffc6db1565b46cb6c060e889"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a09ab0f08ffc6db1565b46cb6c060e889">o2::itsmft::RawPixelReader::getRUDecodingStatSW</a></div><div class="ttdeci">const GBTLinkDecodingStat * getRUDecodingStatSW(uint16_t idSW, int ruLink=0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01391">RawPixelReader.h:1391</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a0953ab112f335d4e31a33cce0cb3d581"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0953ab112f335d4e31a33cce0cb3d581">o2::itsmft::RawPixelReader::skimPaddedRUData</a></div><div class="ttdeci">uint8_t * skimPaddedRUData(uint8_t *raw, PayLoadCont &amp;outBuffer, bool &amp;aborted)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00989">RawPixelReader.h:989</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTDataHeader_html"><div class="ttname"><a href="../../d7/d6f/structo2_1_1itsmft_1_1GBTDataHeader.html">o2::itsmft::GBTDataHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/GBTWord_8h_source.html#l00112">GBTWord.h:112</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a7efab7f57d458ad285cd48fcc6528786"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7efab7f57d458ad285cd48fcc6528786">o2::header::RAWDataHeaderV4::triggerType</a></div><div class="ttdeci">uint64_t triggerType</div><div class="ttdoc">bit 60 to 63: zeroed </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00331">RAWDataHeader.h:331</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_a7b5f9e03ba7edc20861a57dbb2f51abe"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#a7b5f9e03ba7edc20861a57dbb2f51abe">o2::header::RAWDataHeaderV4::detectorField</a></div><div class="ttdeci">uint64_t detectorField</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00340">RAWDataHeader.h:340</a></div></div>
<div class="ttc" id="RawPixelReader_8h_html_a23993d3c88c3bb35042a6c3ff3b0e580"><div class="ttname"><a href="../../dd/db8/RawPixelReader_8h.html#a23993d3c88c3bb35042a6c3ff3b0e580">OUTHEX</a></div><div class="ttdeci">#define OUTHEX(v, l)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00047">RawPixelReader.h:47</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a92eda52a0270e1841800d560ecefdce1"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a92eda52a0270e1841800d560ecefdce1">o2::itsmft::RawPixelReader::getGBTWordSize</a></div><div class="ttdeci">int getGBTWordSize() const</div><div class="ttdoc">assumed GBT word size (accounting for eventual padding) </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00146">RawPixelReader.h:146</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a9f0f63a2b6e24c5630849f87b6ee7a15"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a9f0f63a2b6e24c5630849f87b6ee7a15">o2::itsmft::RawPixelReader::convertChip</a></div><div class="ttdeci">void convertChip(o2::itsmft::ChipPixelData &amp;chipData)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00292">RawPixelReader.h:292</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a6400db7267f5659e3e8cb76f5f396970"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a6400db7267f5659e3e8cb76f5f396970">o2::itsmft::RawPixelReader::isMaxPageImposed</a></div><div class="ttdeci">bool isMaxPageImposed() const</div><div class="ttdoc">do we treat CRU pages as having max size? </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00143">RawPixelReader.h:143</a></div></div>
<div class="ttc" id="namespaceo2_1_1trigger_html_a6239b54eb5076775f1809f2ead1cf04c"><div class="ttname"><a href="../../df/d7e/namespaceo2_1_1trigger.html#a6239b54eb5076775f1809f2ead1cf04c">o2::trigger::PhT</a></div><div class="ttdeci">constexpr uint32_t PhT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/da4/Triggers_8h_source.html#l00029">Triggers.h:29</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a0453503da8abfc0b2bd8600cab26dc83"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a0453503da8abfc0b2bd8600cab26dc83">o2::itsmft::RawPixelReader::getCreateRUDecode</a></div><div class="ttdeci">RUDecodeData &amp; getCreateRUDecode(int ruSW)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01425">RawPixelReader.h:1425</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98fadba05a2a0d44de55b2245d94f2368f90"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98fadba05a2a0d44de55b2245d94f2368f90">o2::itsmft::GBTLinkDecodingStat::ErrPageCounterDiscontinuity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00050">GBTLink.h:50</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_ac7b183747764cf4fa3c5c242fd121862"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#ac7b183747764cf4fa3c5c242fd121862">o2::itsmft::RawPixelReader::setVerbosity</a></div><div class="ttdeci">void setVerbosity(int v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01397">RawPixelReader.h:1397</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GBTLinkDecodingStat_html_a0c00461f75375acccf0752a4a0a0d98faf0adba8985bf748be5b51b291c1ce669"><div class="ttname"><a href="../../d1/d6f/structo2_1_1itsmft_1_1GBTLinkDecodingStat.html#a0c00461f75375acccf0752a4a0a0d98faf0adba8985bf748be5b51b291c1ce669">o2::itsmft::GBTLinkDecodingStat::ErrNonZeroPageAfterStop</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd1/GBTLink_8h_source.html#l00055">GBTLink.h:55</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RUDecodeData_html_a6b6671a8336ff4493ab20415879c292d"><div class="ttname"><a href="../../d0/df7/structo2_1_1itsmft_1_1RUDecodeData.html#a6b6671a8336ff4493ab20415879c292d">o2::itsmft::RUDecodeData::nChipsFired</a></div><div class="ttdeci">int nChipsFired</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d0e/RUDecodeData_8h_source.html#l00044">RUDecodeData.h:44</a></div></div>
<div class="ttc" id="structo2_1_1header_1_1RAWDataHeaderV4_html_ab99d84740fb413c187cd0c55bcae3bca"><div class="ttname"><a href="../../d8/d47/structo2_1_1header_1_1RAWDataHeaderV4.html#ab99d84740fb413c187cd0c55bcae3bca">o2::header::RAWDataHeaderV4::heartbeatBC</a></div><div class="ttdeci">uint64_t heartbeatBC</div><div class="ttdoc">bit 44 to 47: zeroed </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d78/DataFormats_2Headers_2include_2Headers_2RAWDataHeader_8h_source.html#l00329">RAWDataHeader.h:329</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a8b2b273f69e18bba251af4d552c604b6"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a8b2b273f69e18bba251af4d552c604b6">o2::itsmft::PayLoadCont::getSize</a></div><div class="ttdeci">size_t getSize() const</div><div class="ttdoc">get offset of the current ptr from the head </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00063">PayLoadCont.h:63</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1PayLoadCont_html_a04bea8857a66c18ec03c46fce52c0d50"><div class="ttname"><a href="../../df/dd1/classo2_1_1itsmft_1_1PayLoadCont.html#a04bea8857a66c18ec03c46fce52c0d50">o2::itsmft::PayLoadCont::getUnusedSize</a></div><div class="ttdeci">size_t getUnusedSize() const</div><div class="ttdoc">get filled size </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d35/PayLoadCont_8h_source.html#l00060">PayLoadCont.h:60</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1RawPixelReader_html_a4b4288e784e925879c48a2b914bc5d53"><div class="ttname"><a href="../../da/d57/classo2_1_1itsmft_1_1RawPixelReader.html#a4b4288e784e925879c48a2b914bc5d53">o2::itsmft::RawPixelReader::openInput</a></div><div class="ttdeci">void openInput(const std::string filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l01334">RawPixelReader.h:1334</a></div></div>
<div class="ttc" id="AlpideCoder_8h_html"><div class="ttname"><a href="../../d8/da2/AlpideCoder_8h.html">AlpideCoder.h</a></div><div class="ttdoc">class for the ALPIDE data decoding/encoding </div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1RawDecodingStat_html_a50cd65a0a38d2cf0a210e24ba0fe61f2"><div class="ttname"><a href="../../d3/d9b/structo2_1_1itsmft_1_1RawDecodingStat.html#a50cd65a0a38d2cf0a210e24ba0fe61f2">o2::itsmft::RawDecodingStat::nTriggersProcessed</a></div><div class="ttdeci">uint64_t nTriggersProcessed</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/db8/RawPixelReader_8h_source.html#l00066">RawPixelReader.h:66</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_1306292b77b40360479b729ac9ee7efe.html">ITSMFT</a></li><li class="navelem"><a class="el" href="../../dir_85bf31a2e8d306e7598ffcb73f8df6bf.html">common</a></li><li class="navelem"><a class="el" href="../../dir_2174d8cbbd82d5c404dd04814f845a3a.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_5ae603abd45d2d750401429407a7bf9c.html">include</a></li><li class="navelem"><a class="el" href="../../dir_c43c53e0c74ce2818e14880b8009424b.html">ITSMFTReconstruction</a></li><li class="navelem"><a class="el" href="../../dd/db8/RawPixelReader_8h.html">RawPixelReader.h</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:23 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
