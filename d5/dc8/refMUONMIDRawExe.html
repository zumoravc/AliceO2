<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: MID RAW executable</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/dc8/refMUONMIDRawExe.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MID RAW executable </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Utilities for MID RAW data</h1>
<p>This directory contains two utilities that can be executed to verify the raw data. This is particularly important for testing and debugging the MID Read-out.</p>
<h2>MID raw dumper</h2>
<p>This utility allows to dump the decoded raw data content. Basic usage: </p><div class="fragment"><div class="line">o2-mid-rawdump filename [filename_2 filename_3 ...]</div></div><!-- fragment --><p> The output is a file containing a list with:</p><ul>
<li>the interaction record</li>
<li>the list of decoded <a href="../../../include/MIDRaw/LocalBoardRO.h">LocalBoardRO</a> For a list of the other available options: <div class="fragment"><div class="line">o2-mid-rawdump --help</div></div><!-- fragment --></li>
</ul>
<h2>MID raw file checker</h2>
<p>This utility allows to test files produced by the CRU w/o using the User Logic. Basic usage: </p><div class="fragment"><div class="line">o2-mid-raw-checker filename [filename_2 filename_3 ...]</div></div><!-- fragment --><p> The output is a file (or a series of files if a list of inputs is provided), named after the input file as <code>check_filename.txt</code>, so that it is easy to understand to which input file the output is referring to. The different e-links are read out and then grouped according to their interaction record. The output file contains:</p><ul>
<li>a list of possible problems (if any) for each event processed</li>
<li>a summary with the number of faulty events The list of problems is preceded by the identifier of the processed HB and the corresponding "line" in the file where the HB is. The line is counted assuming that one reads the file as a series of 4 words of 32 bits each (this is the typical way the binary file is converted into text during the tests). Notice that one can have more than 1 HB per event, since the data might be split into different pages if the maximum page size is reached. For a list of the other available options: <div class="fragment"><div class="line">o2-mid-raw-checker --help</div></div><!-- fragment --> <h3>Performed checks</h3>
</li>
</ul>
<p>The decoded information is read HB per HB (multiple pages are read out when needed). For each HB, the decoded information are gathered according to their interaction. Notice that, in principle, events belonging to different HBs should have different interaction records, so one could in principle read the full file and then perform the check. However, in the tests the RDH is not always correctly set, and the orbit number might not increase. That is why we read the HB one by one, and limit the tests to 1 HB at the time. This makes it easier to tag HBs with issues in the RO. For each interaction record, a number of checks are performed:</p><ul>
<li>The number of local cards read must be 4 times the number of regional cards. Notice that this error often implies that there is a mismatch between the regional and local clocks (so the cards gets split into different interaction records)</li>
<li>The word describing the event (SOX, EOX, HC, Calibration, etc.) should be the same for all cards in the interaction record.</li>
<li>The number of non-zero patterns read must match the information written in the corresponding word that indicates the non-zero detector planes. Notice that this might not be true when the patterns represent the masks, since in this case it is fine to transmit a zero pattern. However, for the sake of simplicity, we do not account for this possibility. Of course, this implies that must run the check on tests where all masks are non-zero.</li>
<li>For each card we check that the information is consistent. For example we cannot have SOX and Calibration bits fired at the same time. Also, during an HC, we expect to have no chamber fired for the local boards. Notice that during tests this information is added by hand, so we should not have any issue by design. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d2f/refDetectors.html">Module &#39;Detectors&#39;</a></li><li class="navelem"><a class="el" href="../../d4/dff/refDetectorsMUON.html">MUON</a></li><li class="navelem"><a class="el" href="../../d5/d49/refDetectorsMUONMID.html">MID</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:40 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
