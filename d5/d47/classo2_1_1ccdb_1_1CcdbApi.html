<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: o2::ccdb::CcdbApi Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d47/classo2_1_1ccdb_1_1CcdbApi.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../d8/dd0/classo2_1_1ccdb_1_1CcdbApi-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">o2::ccdb::CcdbApi Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for o2::ccdb::CcdbApi:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d1/d38/classo2_1_1ccdb_1_1CcdbApi__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a73d645844215ea5c753e98e7395fc6d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a73d645844215ea5c753e98e7395fc6d2">CcdbApi</a> ()=default</td></tr>
<tr class="memdesc:a73d645844215ea5c753e98e7395fc6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a73d645844215ea5c753e98e7395fc6d2">More...</a><br /></td></tr>
<tr class="separator:a73d645844215ea5c753e98e7395fc6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd131c6daeee701eac448f3aa81b89b7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#afd131c6daeee701eac448f3aa81b89b7">~CcdbApi</a> ()</td></tr>
<tr class="memdesc:afd131c6daeee701eac448f3aa81b89b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#afd131c6daeee701eac448f3aa81b89b7">More...</a><br /></td></tr>
<tr class="separator:afd131c6daeee701eac448f3aa81b89b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0121aadd2206dae1f108db333bd257d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a0121aadd2206dae1f108db333bd257d2">init</a> (std::string const &amp;host)</td></tr>
<tr class="separator:a0121aadd2206dae1f108db333bd257d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4658692971fad0be2a6c4081700e333"><td class="memItemLeft" align="right" valign="top">std::string const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#af4658692971fad0be2a6c4081700e333">getURL</a> () const</td></tr>
<tr class="separator:af4658692971fad0be2a6c4081700e333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e136a0489c70a9cc53fb5d5a65b6335"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a9e136a0489c70a9cc53fb5d5a65b6335">storeAsTFile</a> (const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *rootObject, std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long startValidityTimestamp=-1, long endValidityTimestamp=-1) const</td></tr>
<tr class="separator:a9e136a0489c70a9cc53fb5d5a65b6335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10beb36b8738ab4b1c35cd0b3ed2ef77"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a10beb36b8738ab4b1c35cd0b3ed2ef77"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a10beb36b8738ab4b1c35cd0b3ed2ef77">storeAsTFileAny</a> (const <a class="el" href="../../d1/def/classT.html">T</a> *obj, std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long startValidityTimestamp=-1, long endValidityTimestamp=-1) const</td></tr>
<tr class="separator:a10beb36b8738ab4b1c35cd0b3ed2ef77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9bde773ac10e43210614f09db35a48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#aee9bde773ac10e43210614f09db35a48">storeAsTFileAny</a> (const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *rootobj, std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long startValidityTimestamp=-1, long endValidityTimestamp=-1) const</td></tr>
<tr class="separator:aee9bde773ac10e43210614f09db35a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c9b84a6f934da4069061e4a3c179df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a63c9b84a6f934da4069061e4a3c179df">retrieve</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long timestamp=-1) const</td></tr>
<tr class="separator:a63c9b84a6f934da4069061e4a3c179df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af571a9c18d129a6cb033337012f8e862"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#af571a9c18d129a6cb033337012f8e862">retrieveFromTFile</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long timestamp=-1, std::map&lt; std::string, std::string &gt; *headers=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>, std::string const &amp;etag=&quot;&quot;) const</td></tr>
<tr class="separator:af571a9c18d129a6cb033337012f8e862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae843c7520a304d6297986d7692932bd9"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae843c7520a304d6297986d7692932bd9"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d1/def/classT.html">T</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#ae843c7520a304d6297986d7692932bd9">retrieveFromTFileAny</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long timestamp=-1, std::map&lt; std::string, std::string &gt; *headers=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>, std::string const &amp;etag=&quot;&quot;) const</td></tr>
<tr class="separator:ae843c7520a304d6297986d7692932bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ec7bd9d40577f7d40c15381e1bb0a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#ae4ec7bd9d40577f7d40c15381e1bb0a7">truncate</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>) const</td></tr>
<tr class="separator:ae4ec7bd9d40577f7d40c15381e1bb0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa398968d536f8f74c1fcd21527bc6bf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#aa398968d536f8f74c1fcd21527bc6bf8">deleteObject</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, long timestamp=-1) const</td></tr>
<tr class="separator:aa398968d536f8f74c1fcd21527bc6bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5b3844066bef328d5a7326b99a5e66"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a4c5b3844066bef328d5a7326b99a5e66">list</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>=&quot;&quot;, <a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a> latestOnly=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a>, std::string const &amp;returnFormat=&quot;text/plain&quot;) const</td></tr>
<tr class="separator:a4c5b3844066bef328d5a7326b99a5e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f05e26a130082f5ce8c448dcba637a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a9f05e26a130082f5ce8c448dcba637a4">snapshot</a> (std::string const &amp;ccdbrootpath, std::string const &amp;localDir, long timestamp) const</td></tr>
<tr class="separator:a9f05e26a130082f5ce8c448dcba637a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa034103053eeab50b648d897c3fef7a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#aa034103053eeab50b648d897c3fef7a8">isHostReachable</a> () const</td></tr>
<tr class="separator:aa034103053eeab50b648d897c3fef7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b7b87fd58c07dfa5842cfe2fbf0b7b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#af8b7b87fd58c07dfa5842cfe2fbf0b7b">parseSubFolders</a> (std::string const &amp;reply) const</td></tr>
<tr class="separator:af8b7b87fd58c07dfa5842cfe2fbf0b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa788d298fbae0ef3d9c417705def2f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#aafa788d298fbae0ef3d9c417705def2f">getAllFolders</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#a5ab323daeacf8dfdb8f91132fecdca23">top</a>) const</td></tr>
<tr class="separator:aafa788d298fbae0ef3d9c417705def2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec073fbbdd5e0843362720e7f3a45d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#adec073fbbdd5e0843362720e7f3a45d1">retrieveBlob</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::string const &amp;targetdir, std::map&lt; std::string, std::string &gt; const &amp;metadata, long timestamp) const</td></tr>
<tr class="separator:adec073fbbdd5e0843362720e7f3a45d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a3b27bbce0732a7c4993346e652261"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#ac0a3b27bbce0732a7c4993346e652261">retrieveHeaders</a> (std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long timestamp=-1) const</td></tr>
<tr class="separator:ac0a3b27bbce0732a7c4993346e652261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2461bd1f5c65abb4d5b6706ba5fef7f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a2461bd1f5c65abb4d5b6706ba5fef7f1">storeAsBinaryFile</a> (const char *<a class="el" href="../../dc/da3/glcorearb_8h.html#a3667f558219c90437106b544a3ca00b8">buffer</a>, size_t <a class="el" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>, const std::string &amp;fileName, const std::string &amp;objectType, const std::string &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, const std::map&lt; std::string, std::string &gt; &amp;metadata, long startValidityTimestamp, long endValidityTimestamp) const</td></tr>
<tr class="separator:a2461bd1f5c65abb4d5b6706ba5fef7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3257b099ab7ab58280b0f945a82eb498"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a3257b099ab7ab58280b0f945a82eb498">storeAsTFile_impl</a> (const <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *obj1, std::type_info const &amp;info, std::string const &amp;<a class="el" href="../../dc/da3/glcorearb_8h.html#ab25d8cd967ccbd19b630d7100ff8f67e">path</a>, std::map&lt; std::string, std::string &gt; const &amp;metadata, long startValidityTimestamp=-1, long endValidityTimestamp=-1) const</td></tr>
<tr class="separator:a3257b099ab7ab58280b0f945a82eb498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a004a4cae2497e955128a08e32a3ca656"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a004a4cae2497e955128a08e32a3ca656"><td class="memTemplItemLeft" align="right" valign="top">static std::unique_ptr&lt; std::vector&lt; char &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a004a4cae2497e955128a08e32a3ca656">createObjectImage</a> (const <a class="el" href="../../d1/def/classT.html">T</a> *obj, <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *info=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</td></tr>
<tr class="separator:a004a4cae2497e955128a08e32a3ca656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cb1307470ca6441877c6ecbc42ea00"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; std::vector&lt; char &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a16cb1307470ca6441877c6ecbc42ea00">createObjectImage</a> (const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *obj, <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *info=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</td></tr>
<tr class="separator:a16cb1307470ca6441877c6ecbc42ea00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9861830e190ade437e78fb9f374cad0e"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; std::vector&lt; char &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a9861830e190ade437e78fb9f374cad0e">createObjectImage</a> (const <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *obj, std::type_info const &amp;tinfo, <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *info=<a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</td></tr>
<tr class="separator:a9861830e190ade437e78fb9f374cad0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af94afa6c1bad42e1a55555953235f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a7af94afa6c1bad42e1a55555953235f4">extractFromTFile</a> (TFile &amp;<a class="el" href="../../d8/de9/qconfigoptions_8h.html#aec10fe678ef667f6c5b459995008e830">file</a>, TClass const *cl)</td></tr>
<tr class="separator:a7af94afa6c1bad42e1a55555953235f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3428c63205bf2744536c84873b6d517e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a3428c63205bf2744536c84873b6d517e">getCCDBEntryHeaders</a> (std::string const &amp;url, std::string const &amp;etag, std::vector&lt; std::string &gt; &amp;headers)</td></tr>
<tr class="separator:a3428c63205bf2744536c84873b6d517e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc4d64245849e2f92850b3257015279"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#aecc4d64245849e2f92850b3257015279">parseCCDBHeaders</a> (std::vector&lt; std::string &gt; const &amp;headers, std::vector&lt; std::string &gt; &amp;pfns, std::string &amp;etag)</td></tr>
<tr class="separator:aecc4d64245849e2f92850b3257015279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36e7965ab19cbcd89582bc3a5becbc6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/da8/structo2_1_1ccdb_1_1CCDBQuery.html">CCDBQuery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#ad36e7965ab19cbcd89582bc3a5becbc6">retrieveQueryInfo</a> (TFile &amp;)</td></tr>
<tr class="separator:ad36e7965ab19cbcd89582bc3a5becbc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467fd01680ddd869faf82d9b8242c215"><td class="memItemLeft" align="right" valign="top">static std::map&lt; std::string, std::string &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a467fd01680ddd869faf82d9b8242c215">retrieveMetaInfo</a> (TFile &amp;)</td></tr>
<tr class="separator:a467fd01680ddd869faf82d9b8242c215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9cdb198ea393fdad982b8452510ad5"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#a0f9cdb198ea393fdad982b8452510ad5">generateFileName</a> (const std::string &amp;inp)</td></tr>
<tr class="separator:a0f9cdb198ea393fdad982b8452510ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae106a391cb4c5251fdfe28cdb6a133f5"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#ae106a391cb4c5251fdfe28cdb6a133f5">CCDBQUERY_ENTRY</a> = &quot;ccdb_query&quot;</td></tr>
<tr class="separator:ae106a391cb4c5251fdfe28cdb6a133f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34d7c0a7f760292e67c1603b73a1b07"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#af34d7c0a7f760292e67c1603b73a1b07">CCDBMETA_ENTRY</a> = &quot;ccdb_meta&quot;</td></tr>
<tr class="separator:af34d7c0a7f760292e67c1603b73a1b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ca292c2194c8144e356607ef5286b6"><td class="memItemLeft" align="right" valign="top">static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html#af5ca292c2194c8144e356607ef5286b6">CCDBOBJECT_ENTRY</a> = &quot;ccdb_object&quot;</td></tr>
<tr class="separator:af5ca292c2194c8144e356607ef5286b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to the CCDB. It uses Curl to talk to the REST api.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000001">Todo:</a></b></dt><dd><p class="startdd">use smart pointers ? </p>
<p>handle errors and exceptions </p>
<p class="enddd">extend code coverage </p>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00044">44</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a73d645844215ea5c753e98e7395fc6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d645844215ea5c753e98e7395fc6d2">&#9670;&nbsp;</a></span>CcdbApi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::ccdb::CcdbApi::CcdbApi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a id="afd131c6daeee701eac448f3aa81b89b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd131c6daeee701eac448f3aa81b89b7">&#9670;&nbsp;</a></span>~CcdbApi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">o2::ccdb::CcdbApi::~CcdbApi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00048">48</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a004a4cae2497e955128a08e32a3ca656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004a4cae2497e955128a08e32a3ca656">&#9670;&nbsp;</a></span>createObjectImage() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;std::vector&lt;char&gt; &gt; o2::ccdb::CcdbApi::createObjectImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/def/classT.html">T</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a binary image of the arbitrary type object, if <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> pointer is provided, register there</p>
<p>the assigned object class name and the filename </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Raw pointer to the object to store. </td></tr>
    <tr><td class="paramname">info</td><td>optinal info where assigned object name and filename will be filled </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00073">73</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="a16cb1307470ca6441877c6ecbc42ea00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16cb1307470ca6441877c6ecbc42ea00">&#9670;&nbsp;</a></span>createObjectImage() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; std::vector&lt; char &gt; &gt; o2::ccdb::CcdbApi::createObjectImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a binary image of the <a class="el" href="../../d5/d0f/classTObject.html">TObject</a>, if <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> pointer is provided, register there</p>
<p>the assigned object class name and the filename </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Raw pointer to the object to store. </td></tr>
    <tr><td class="paramname">info</td><td>optinal info where assigned object name and filename will be filled </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00102">102</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a9861830e190ade437e78fb9f374cad0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9861830e190ade437e78fb9f374cad0e">&#9670;&nbsp;</a></span>createObjectImage() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; std::vector&lt; char &gt; &gt; o2::ccdb::CcdbApi::createObjectImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::type_info const &amp;&#160;</td>
          <td class="paramname"><em>tinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a binary image of the object, if <a class="el" href="../../d7/deb/classo2_1_1ccdb_1_1CcdbObjectInfo.html">CcdbObjectInfo</a> pointer is provided, register there</p>
<p>the assigned object class name and the filename </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Raw pointer to the object to store. </td></tr>
    <tr><td class="paramname">tinfo</td><td>object type info </td></tr>
    <tr><td class="paramname">info</td><td>optinal info where assigned object name and filename will be filled </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00089">89</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="aa398968d536f8f74c1fcd21527bc6bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa398968d536f8f74c1fcd21527bc6bf8">&#9670;&nbsp;</a></span>deleteObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::deleteObject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete the matching version of this object.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000003">Todo:</a></b></dt><dd>Raise an exception if no such object exist. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to the object to delete </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the object to delete. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00794">794</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a7af94afa6c1bad42e1a55555953235f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af94afa6c1bad42e1a55555953235f4">&#9670;&nbsp;</a></span>extractFromTFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> * o2::ccdb::CcdbApi::extractFromTFile </td>
          <td>(</td>
          <td class="paramtype">TFile &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TClass const *&#160;</td>
          <td class="paramname"><em>cl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d2/d88/classA.html">A</a> helper function to extract an object from an existing in-memory TFile </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>a TFile instance </td></tr>
    <tr><td class="paramname">cl</td><td>The TClass object describing the serialized type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>raw pointer to created object </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00592">592</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a0f9cdb198ea393fdad982b8452510ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9cdb198ea393fdad982b8452510ad5">&#9670;&nbsp;</a></span>generateFileName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string o2::ccdb::CcdbApi::generateFileName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generates a file-name where the object will be stored (usually, from the provided class name) </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00384">384</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="aafa788d298fbae0ef3d9c417705def2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa788d298fbae0ef3d9c417705def2f">&#9670;&nbsp;</a></span>getAllFolders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; o2::ccdb::CcdbApi::getAllFolders </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>top</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returning the complete list of (recursive) paths below a given top path</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">top</td><td>The top folder from which to search </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The vector of all possible CCDB folders </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l01016">1016</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a3428c63205bf2744536c84873b6d517e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3428c63205bf2744536c84873b6d517e">&#9670;&nbsp;</a></span>getCCDBEntryHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a> o2::ccdb::CcdbApi::getCCDBEntryHeaders </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>etag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>headers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get headers associated to a given CCDBEntry on the server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>the url which refers to the objects </td></tr>
    <tr><td class="paramname">etag</td><td>of the previous reply </td></tr>
    <tr><td class="paramname">headers</td><td>the headers found in the request. Will be emptied when we return false. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the headers where updated WRT last time, false if the previous results can still be used. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00935">935</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="af4658692971fad0be2a6c4081700e333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4658692971fad0be2a6c4081700e333">&#9670;&nbsp;</a></span>getURL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const&amp; o2::ccdb::CcdbApi::getURL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Query current URL </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00063">63</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="a0121aadd2206dae1f108db333bd257d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0121aadd2206dae1f108db333bd257d2">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::init </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize connection to CCDB</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>The URL to the CCDB (e.g. "ccdb-test.cern.ch:8080" or to a local snapshot "file:///tmp/CCDBSnapshot") </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00059">59</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="aa034103053eeab50b648d897c3fef7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa034103053eeab50b648d897c3fef7a8">&#9670;&nbsp;</a></span>isHostReachable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a> o2::ccdb::CcdbApi::isHostReachable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the url is reachable. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The url to test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a bool indicating whether the url is reachable or not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00842">842</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a4c5b3844066bef328d5a7326b99a5e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5b3844066bef328d5a7326b99a5e66">&#9670;&nbsp;</a></span>list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string o2::ccdb::CcdbApi::list </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/de9/qconfigoptions_8h.html#aa1bc83c2f27c6427080c2ba02be21feb">bool</a>&#160;</td>
          <td class="paramname"><em>latestOnly</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a9fb99aa34f76f957d3f57fed6946e901">false</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>returnFormat</em> = <code>&quot;text/plain&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the listing of objects, and in some cases subfolders, matching this path. The path can contain sql patterns (correctly encoded) or regexps.</p>
<p>In the case where there is no pattern, the list of subfolders is returned along with all the objects at this path. It does not work recursively and objects from the subfolders are not returned.</p>
<p>In the case where there is a pattern, subfolders are not returned and any object matching the pattern will be returned, including those in subfolders if they match.</p>
<p>Example : Task/Detector will return objects and subfolders in /Task/Detector but not the object(s) in /Task/Detector/Sub. Example : Task/Detector/.* will return any object below Detector recursively. Example : Te*e* will return any object matching this pattern, including Test/detector and TestSecond/A/B.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000004">Todo:</a></b></dt><dd>accept should use an enum class. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to the folder we want to list the children of (default : top dir). </td></tr>
    <tr><td class="paramname">latestOnly</td><td>In case there are several versions of the same object, list only the latest one. </td></tr>
    <tr><td class="paramname">returnFormat</td><td>The format of the returned string -&gt; one of "text/plain (default)", "application/json", "text/xml" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The listing of folder and/or objects in the format requested </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00754">754</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="aecc4d64245849e2f92850b3257015279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecc4d64245849e2f92850b3257015279">&#9670;&nbsp;</a></span>parseCCDBHeaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::parseCCDBHeaders </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>pfns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>etag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extract the possible locations for a file and check whether or not the current cached object is still valid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">headers</td><td>the headers to be parsed </td></tr>
    <tr><td class="paramname">pfns</td><td>the vector of pfns to be filled. </td></tr>
    <tr><td class="paramname">etag</td><td>the etag to be updated with the new value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00965">965</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="af8b7b87fd58c07dfa5842cfe2fbf0b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b7b87fd58c07dfa5842cfe2fbf0b7b">&#9670;&nbsp;</a></span>parseSubFolders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; o2::ccdb::CcdbApi::parseSubFolders </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>reply</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to extract the list of sub-folders from a list reply into a vector container. Can be used to achieve full recursive traversal/listing of the CCDB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reply</td><td>The reply that we got from a GET/browse sort of request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The vector of sub-folders. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00861">861</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a63c9b84a6f934da4069061e4a3c179df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c9b84a6f934da4069061e4a3c179df">&#9670;&nbsp;</a></span>retrieve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d0f/classTObject.html">TObject</a> * o2::ccdb::CcdbApi::retrieve </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve object at the given path for the given timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path where the object is to be found. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata to filter out objects. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the object to retrieve. If omitted, current timestamp is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the object, or nullptr if none were found. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>in favour of retrieveFromTFileAny </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00301">301</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="adec073fbbdd5e0843362720e7f3a45d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec073fbbdd5e0843362720e7f3a45d1">&#9670;&nbsp;</a></span>retrieveBlob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::retrieveBlob </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>targetdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple function to retrieve the blob corresponding to some path and timestamp. Saves the blob locally to a binary file. The final path (including filename) is given by targetdir. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00500">500</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="af571a9c18d129a6cb033337012f8e862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af571a9c18d129a6cb033337012f8e862">&#9670;&nbsp;</a></span>retrieveFromTFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d0f/classTObject.html">TObject</a> * o2::ccdb::CcdbApi::retrieveFromTFile </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; *&#160;</td>
          <td class="paramname"><em>headers</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>etag</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve object at the given path for the given timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path where the object is to be found. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata to filter out objects. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the object to retrieve. If omitted, current timestamp is used. </td></tr>
    <tr><td class="paramname">headers</td><td>Map to be populated with the headers we received, if it is not null. </td></tr>
    <tr><td class="paramname">optional</td><td>etag from previous call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the object, or nullptr if none were found. </dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="../../da/d58/deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>in favour of retrieveFromTFileAny as it is not limited to TObjects. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00408">408</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="ae843c7520a304d6297986d7692932bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae843c7520a304d6297986d7692932bd9">&#9670;&nbsp;</a></span>retrieveFromTFileAny()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/def/classT.html">T</a> * o2::ccdb::CcdbApi::retrieveFromTFileAny </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; *&#160;</td>
          <td class="paramname"><em>headers</em> = <code><a class="el" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>etag</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve object at the given path for the given timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path where the object is to be found. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata to filter out objects. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the object to retrieve. If omitted, current timestamp is used. </td></tr>
    <tr><td class="paramname">headers</td><td>Map to be populated with the headers we received, if it is not null. </td></tr>
    <tr><td class="paramname">optional</td><td>etag from previous call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the object, or nullptr if none were found or type does not match serialized type. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00387">387</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="ac0a3b27bbce0732a7c4993346e652261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a3b27bbce0732a7c4993346e652261">&#9670;&nbsp;</a></span>retrieveHeaders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, std::string &gt; o2::ccdb::CcdbApi::retrieveHeaders </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the headers of a CCDB entry, if it exists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path where the object is to be found. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata to filter out objects. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp of the object to retrieve. If omitted, current timestamp is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/d88/classA.html">A</a> map containing the headers. The map is empty if no CCDB entry can be found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00898">898</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a467fd01680ddd869faf82d9b8242c215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467fd01680ddd869faf82d9b8242c215">&#9670;&nbsp;</a></span>retrieveMetaInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, std::string &gt; * o2::ccdb::CcdbApi::retrieveMetaInfo </td>
          <td>(</td>
          <td class="paramtype">TFile &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extracts meta-information associated to the CCDB blob sitting in given TFile. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00987">987</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="ad36e7965ab19cbcd89582bc3a5becbc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36e7965ab19cbcd89582bc3a5becbc6">&#9670;&nbsp;</a></span>retrieveQueryInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/da8/structo2_1_1ccdb_1_1CCDBQuery.html">CCDBQuery</a> * o2::ccdb::CcdbApi::retrieveQueryInfo </td>
          <td>(</td>
          <td class="paramtype">TFile &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extracts meta-information of the query from a TFile containing the CCDB blob. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00978">978</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a9f05e26a130082f5ce8c448dcba637a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f05e26a130082f5ce8c448dcba637a4">&#9670;&nbsp;</a></span>snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::snapshot </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>ccdbrootpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>localDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a local snapshot of all valid objects, given a timestamp, of the CCDB under a given local path. This is doing a recursive list and fetching the files locally. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00582">582</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a2461bd1f5c65abb4d5b6706ba5fef7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2461bd1f5c65abb4d5b6706ba5fef7f1">&#9670;&nbsp;</a></span>storeAsBinaryFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::storeAsBinaryFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>objectType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; std::string, std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>startValidityTimestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>endValidityTimestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../d2/d88/classA.html">A</a> generic method to store a binary buffer (e.g. an image of the TMemFile) </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00126">126</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a9e136a0489c70a9cc53fb5d5a65b6335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e136a0489c70a9cc53fb5d5a65b6335">&#9670;&nbsp;</a></span>storeAsTFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::storeAsTFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *&#160;</td>
          <td class="paramname"><em>rootObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>startValidityTimestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>endValidityTimestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store into the CCDB a TFile containing the <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rootObject</td><td>Raw pointer to the object to store. </td></tr>
    <tr><td class="paramname">path</td><td>The path where the object is going to be stored. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata for this object. </td></tr>
    <tr><td class="paramname">startValidityTimestamp</td><td>Start of validity. If omitted, current timestamp is used. </td></tr>
    <tr><td class="paramname">endValidityTimestamp</td><td>End of validity. If omitted, current timestamp + 1 year is used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00188">188</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a3257b099ab7ab58280b0f945a82eb498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3257b099ab7ab58280b0f945a82eb498">&#9670;&nbsp;</a></span>storeAsTFile_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::storeAsTFile_impl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> *&#160;</td>
          <td class="paramname"><em>obj1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::type_info const &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>startValidityTimestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>endValidityTimestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="../../d2/d88/classA.html">A</a> generic helper implementation to store an obj whose type is given by a std::type_info </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00115">115</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<a id="a10beb36b8738ab4b1c35cd0b3ed2ef77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10beb36b8738ab4b1c35cd0b3ed2ef77">&#9670;&nbsp;</a></span>storeAsTFileAny() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::storeAsTFileAny </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/def/classT.html">T</a> *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>startValidityTimestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>endValidityTimestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store into the CCDB a TFile containing an object of type <a class="el" href="../../d1/def/classT.html">T</a> (which needs to have a <a class="el" href="../../d0/d10/namespaceROOT.html">ROOT</a> dictionary)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Raw pointer to the object to store. </td></tr>
    <tr><td class="paramname">path</td><td>The path where the object is going to be stored. </td></tr>
    <tr><td class="paramname">metadata</td><td>Key-values representing the metadata for this object. </td></tr>
    <tr><td class="paramname">startValidityTimestamp</td><td>Start of validity. If omitted, current timestamp is used. </td></tr>
    <tr><td class="paramname">endValidityTimestamp</td><td>End of validity. If omitted, current timestamp + 1 year is used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00119">119</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="aee9bde773ac10e43210614f09db35a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9bde773ac10e43210614f09db35a48">&#9670;&nbsp;</a></span>storeAsTFileAny() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::storeAsTFileAny </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d0f/classTObject.html">TObject</a> *&#160;</td>
          <td class="paramname"><em>rootobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>startValidityTimestamp</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>endValidityTimestamp</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00126">126</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="ae4ec7bd9d40577f7d40c15381e1bb0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ec7bd9d40577f7d40c15381e1bb0a7">&#9670;&nbsp;</a></span>truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da3/glcorearb_8h.html#a950fc91edb4504f62f1c577bf4727c29">void</a> o2::ccdb::CcdbApi::truncate </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all versions of the object at this path.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000002">Todo:</a></b></dt><dd>Raise an exception if no such object exist. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html#l00817">817</a> of file <a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af34d7c0a7f760292e67c1603b73a1b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34d7c0a7f760292e67c1603b73a1b07">&#9670;&nbsp;</a></span>CCDBMETA_ENTRY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* o2::ccdb::CcdbApi::CCDBMETA_ENTRY = &quot;ccdb_meta&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00298">298</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="af5ca292c2194c8144e356607ef5286b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ca292c2194c8144e356607ef5286b6">&#9670;&nbsp;</a></span>CCDBOBJECT_ENTRY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* o2::ccdb::CcdbApi::CCDBOBJECT_ENTRY = &quot;ccdb_object&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00299">299</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<a id="ae106a391cb4c5251fdfe28cdb6a133f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae106a391cb4c5251fdfe28cdb6a133f5">&#9670;&nbsp;</a></span>CCDBQUERY_ENTRY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* o2::ccdb::CcdbApi::CCDBQUERY_ENTRY = &quot;ccdb_query&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html#l00297">297</a> of file <a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/AliceO2Group/AliceO2/CCDB/include/CCDB/<a class="el" href="../../dd/d3e/CcdbApi_8h_source.html">CcdbApi.h</a></li>
<li>/home/travis/build/AliceO2Group/AliceO2/CCDB/src/<a class="el" href="../../dc/d5f/CcdbApi_8cxx_source.html">CcdbApi.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d7c/namespaceo2.html">o2</a></li><li class="navelem"><a class="el" href="../../d1/d22/namespaceo2_1_1ccdb.html">ccdb</a></li><li class="navelem"><a class="el" href="../../d5/d47/classo2_1_1ccdb_1_1CcdbApi.html">CcdbApi</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:42 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
