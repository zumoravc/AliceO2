<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Analysis/Core/src/CorrelationContainer.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/def/CorrelationContainer_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CorrelationContainer.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/def/CorrelationContainer_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// encapsulate histogram and corrections for correlation analysis</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// Author: Jan Fiete Grosse-Oetringhaus</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d31/CorrelationContainer_8h.html">Analysis/CorrelationContainer.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d87/StepTHn_8h.html">Analysis/StepTHn.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;THnSparse.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;TMath.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;TList.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;TCollection.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;TH1D.h&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;TH2D.h&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;TH3D.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;TCanvas.h&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;TF1.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;THn.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// for LOGF</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d57/AnalysisTask_8h.html">Framework/AnalysisTask.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<a class="code" href="../../d7/d72/TrackSelection_8cxx.html#a5a66018d9eeaa28e3f63c5ca8c36c21d">ClassImp</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>)</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keyword">const</span> Int_t <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8496b9733648fb7e9e8d8cb6570cc660">CorrelationContainer::fgkCFSteps</a> = 11;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7caaeb1e665f2dd47a6f3b4c8102ff00">CorrelationContainer::CorrelationContainer</a>() : TNamed(),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                               mTrackHist(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                               mEventHist(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                               mTrackHistEfficiency(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                               mEtaMin(0),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                               mEtaMax(0),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                               mPtMin(0),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                               mPtMax(0),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                               mPartSpecies(-1),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                               mCentralityMin(0),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                               mCentralityMax(0),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                               mZVtxMin(0),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                               mZVtxMax(0),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                               mPt2Min(0),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                               mPt2Max(0),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                               mTrackEtaCut(0),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                               mWeightPerEvent(0),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                               mSkipScaleMixedEvent(kFALSE),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                               mCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                               mGetMultCacheOn(kFALSE),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                               mGetMultCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                               mHistogramType()</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// Default constructor</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a793cff29c090954ba8cc02d309fe8bb2">   62</a></span>&#160;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7caaeb1e665f2dd47a6f3b4c8102ff00">CorrelationContainer::CorrelationContainer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* objTitle, <span class="keyword">const</span> <span class="keywordtype">char</span>* reqHist, <span class="keyword">const</span> <span class="keywordtype">char</span>* binning) : TNamed(name, objTitle),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                                                                                                               mTrackHist(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                                                                                               mEventHist(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                                                                                               mTrackHistEfficiency(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                                                                                               mEtaMin(0),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                                                                                               mEtaMax(0),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                                                                                               mPtMin(0),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                                                                                               mPtMax(0),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                                                                                               mPartSpecies(-1),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                                                                                               mCentralityMin(0),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                                                                                                               mCentralityMax(0),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                                                                                               mZVtxMin(0),</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                                                                                                               mZVtxMax(0),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                                                                                                               mPt2Min(0),</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                                                                                                               mPt2Max(0),</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                                                                                                               mTrackEtaCut(0),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                                                                                                               mWeightPerEvent(0),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                                                                                               mSkipScaleMixedEvent(kFALSE),</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                                                                               mCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                                                                                               mGetMultCacheOn(kFALSE),</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                                                                                                               mGetMultCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                                                                                                               mHistogramType(reqHist)</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// Constructor</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (strlen(reqHist) == 0)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Creating CorrelationContainer with %s (binning: %s)&quot;</span>, reqHist, binning);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="comment">// track level</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  Int_t nTrackVars = 4; <span class="comment">// eta vs pT vs pT,lead (vs delta phi) vs multiplicity</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  Int_t iTrackBin[7];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  Double_t* trackBins[7];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* trackAxisTitle[7];</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// eta</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  Int_t nEtaBins = -1;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  Double_t* etaBins = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;eta&quot;</span>, nEtaBins);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* etaTitle = <span class="stringliteral">&quot;#eta&quot;</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  iTrackBin[0] = nEtaBins;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  trackBins[0] = etaBins;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  trackAxisTitle[0] = etaTitle;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// delta eta</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  Int_t nDeltaEtaBins = -1;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  Double_t* deltaEtaBins = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;delta_eta&quot;</span>, nDeltaEtaBins);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// pT</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  trackBins[1] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;p_t_assoc&quot;</span>, iTrackBin[1]);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  trackAxisTitle[1] = <span class="stringliteral">&quot;p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// pT, fine</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  Int_t npTBinsFine = -1;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  Double_t* pTBinsFine = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;p_t_eff&quot;</span>, npTBinsFine);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// pT,lead binning 1</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  Int_t nLeadingpTBins = -1;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  Double_t* leadingpTBins = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;p_t_leading&quot;</span>, nLeadingpTBins);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// pT,lead binning 2</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  Int_t nLeadingpTBins2 = -1;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  Double_t* leadingpTBins2 = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;p_t_leading_course&quot;</span>, nLeadingpTBins2);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">// phi,lead</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  Int_t nLeadingPhiBins = -1;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  Double_t* leadingPhiBins = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;delta_phi&quot;</span>, nLeadingPhiBins);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  trackBins[3] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;multiplicity&quot;</span>, iTrackBin[3]);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  trackAxisTitle[3] = <span class="stringliteral">&quot;multiplicity&quot;</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// particle species</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keyword">const</span> Int_t kNSpeciesBins = 4; <span class="comment">// pi, K, p, rest</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  Double_t speciesBins[] = {-0.5, 0.5, 1.5, 2.5, 3.5};</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// vtx-z axis</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* vertexTitle = <span class="stringliteral">&quot;z-vtx (cm)&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  Int_t nVertexBins = -1;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  Double_t* vertexBins = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;vertex&quot;</span>, nVertexBins);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  Int_t nVertexBinsEff = -1;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  Double_t* vertexBinsEff = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">getBinning</a>(binning, <span class="stringliteral">&quot;vertex_eff&quot;</span>, nVertexBinsEff);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  Int_t useVtxAxis = 0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  Int_t useAliTHn = 1; <span class="comment">// 0 = don&#39;t use | 1 = with float | 2 = with double</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (TString(reqHist).Contains(<span class="stringliteral">&quot;Sparse&quot;</span>))</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    useAliTHn = 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (TString(reqHist).Contains(<span class="stringliteral">&quot;Double&quot;</span>))</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    useAliTHn = 2;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// selection depending on requested histogram</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  Int_t axis = -1; <span class="comment">// 0 = pT,lead, 1 = phi,lead</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">if</span> (strcmp(reqHist, <span class="stringliteral">&quot;NumberDensitypT&quot;</span>) == 0) {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    axis = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    title = <span class="stringliteral">&quot;d^{2}N_{ch}/d#varphid#eta&quot;</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(reqHist, <span class="stringliteral">&quot;NumberDensityPhi&quot;</span>) == 0) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    axis = 1;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    title = <span class="stringliteral">&quot;d^{2}N_{ch}/d#varphid#eta&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TString(reqHist).BeginsWith(<span class="stringliteral">&quot;NumberDensityPhiCentrality&quot;</span>)) {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (TString(reqHist).Contains(<span class="stringliteral">&quot;Vtx&quot;</span>))</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      useVtxAxis = 1;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    reqHist = <span class="stringliteral">&quot;NumberDensityPhiCentrality&quot;</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">mHistogramType</a> = reqHist;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    axis = 2;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    title = <span class="stringliteral">&quot;d^{2}N_{ch}/d#varphid#eta&quot;</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(reqHist, <span class="stringliteral">&quot;SumpT&quot;</span>) == 0) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    axis = 0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    title = <span class="stringliteral">&quot;d^{2}#Sigma p_{T}/d#varphid#eta&quot;</span>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TString(reqHist).BeginsWith(<span class="stringliteral">&quot;TwoPlusOne&quot;</span>)) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    useVtxAxis = 1;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    reqHist = <span class="stringliteral">&quot;TwoPlusOne&quot;</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">mHistogramType</a> = reqHist;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    axis = 3;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    title = <span class="stringliteral">&quot;d^{2}N_{ch}/d#varphid#eta&quot;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Invalid histogram requested: %s&quot;</span>, reqHist);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  UInt_t nSteps = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8496b9733648fb7e9e8d8cb6570cc660">fgkCFSteps</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (axis == 0) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    trackBins[2] = leadingpTBins;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    iTrackBin[2] = nLeadingpTBins;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    trackAxisTitle[2] = <span class="stringliteral">&quot;leading p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == 1) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    nTrackVars = 5;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    iTrackBin[2] = nLeadingpTBins2;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    trackBins[2] = leadingpTBins2;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    trackAxisTitle[2] = <span class="stringliteral">&quot;leading p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    iTrackBin[4] = nLeadingPhiBins;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    trackBins[4] = leadingPhiBins;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    trackAxisTitle[4] = <span class="stringliteral">&quot;#Delta #varphi w.r.t. leading track&quot;</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == 2) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    nTrackVars = 5;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    iTrackBin[0] = nDeltaEtaBins;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    trackBins[0] = deltaEtaBins;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    trackAxisTitle[0] = <span class="stringliteral">&quot;#Delta#eta&quot;</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    iTrackBin[2] = nLeadingpTBins2;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    trackBins[2] = leadingpTBins2;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    trackAxisTitle[2] = <span class="stringliteral">&quot;leading p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    trackAxisTitle[3] = <span class="stringliteral">&quot;centrality&quot;</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    iTrackBin[4] = nLeadingPhiBins;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    trackBins[4] = leadingPhiBins;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    trackAxisTitle[4] = <span class="stringliteral">&quot;#Delta#varphi (rad)&quot;</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (useVtxAxis &gt; 0) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      nTrackVars = 6;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      iTrackBin[5] = nVertexBins;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      trackBins[5] = vertexBins;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      trackAxisTitle[5] = vertexTitle;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == 3) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    nTrackVars = 7;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    nSteps = 15;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    iTrackBin[0] = nDeltaEtaBins;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    trackBins[0] = deltaEtaBins;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    trackAxisTitle[0] = <span class="stringliteral">&quot;#Delta#eta&quot;</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    iTrackBin[2] = nLeadingpTBins;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    trackBins[2] = leadingpTBins;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    trackAxisTitle[2] = <span class="stringliteral">&quot;Trigger 1 p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    trackAxisTitle[3] = <span class="stringliteral">&quot;centrality&quot;</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    iTrackBin[4] = nLeadingPhiBins;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    trackBins[4] = leadingPhiBins;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    trackAxisTitle[4] = <span class="stringliteral">&quot;#Delta#varphi (rad)&quot;</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    iTrackBin[5] = nVertexBins;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    trackBins[5] = vertexBins;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    trackAxisTitle[5] = vertexTitle;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    iTrackBin[6] = nLeadingpTBins2;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    trackBins[6] = leadingpTBins2;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    trackAxisTitle[6] = <span class="stringliteral">&quot;Trigger 2 p_{T} (GeV/c)&quot;</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (axis &gt;= 2 &amp;&amp; useAliTHn == 1)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d87/StepTHn_8h.html#a71dc7cc44b4b14d6fb502d6003ebb35b">StepTHnF</a>(<span class="stringliteral">&quot;mTrackHist&quot;</span>, title, nSteps, nTrackVars, iTrackBin, trackBins, trackAxisTitle);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis &gt;= 2 &amp;&amp; useAliTHn == 2)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d87/StepTHn_8h.html#a5b03e5318fac40e9424ccfe5385ac321">StepTHnD</a>(<span class="stringliteral">&quot;mTrackHist&quot;</span>, title, nSteps, nTrackVars, iTrackBin, trackBins, trackAxisTitle);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// event level</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  Int_t nEventVars = 2;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  Int_t iEventBin[4] = {0};</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  Double_t* eventBins[4] = {<span class="keyword">nullptr</span>};</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* eventAxisTitle[4] = {<span class="keyword">nullptr</span>};</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// track 3rd and 4th axis --&gt; event 1st and 2nd axis</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  iEventBin[0] = iTrackBin[2];</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  eventBins[0] = trackBins[2];</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  eventAxisTitle[0] = trackAxisTitle[2];</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  iEventBin[1] = iTrackBin[3];</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  eventBins[1] = trackBins[3];</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  eventAxisTitle[1] = trackAxisTitle[3];</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// plus track 5th axis (in certain cases)</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (axis &gt;= 2 &amp;&amp; useVtxAxis) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    nEventVars = 3;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    iEventBin[2] = iTrackBin[5];</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    eventBins[2] = trackBins[5];</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    eventAxisTitle[2] = trackAxisTitle[5];</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (axis &gt;= 3) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    nEventVars = 4;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    iEventBin[3] = iTrackBin[6];</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    eventBins[3] = trackBins[6];</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    eventAxisTitle[3] = trackAxisTitle[6];</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d87/StepTHn_8h.html#a71dc7cc44b4b14d6fb502d6003ebb35b">StepTHnF</a>(<span class="stringliteral">&quot;mEventHist&quot;</span>, title, nSteps, nEventVars, iEventBin, eventBins, eventAxisTitle);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// Efficiency histogram</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  iTrackBin[0] = nEtaBins;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  trackBins[0] = etaBins;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  trackAxisTitle[0] = etaTitle;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  iTrackBin[1] = npTBinsFine;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  trackBins[1] = pTBinsFine;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">//trackAxisTitle[1]  = trackAxisTitle[1];</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  iTrackBin[2] = kNSpeciesBins;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  trackBins[2] = speciesBins;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  trackAxisTitle[2] = <span class="stringliteral">&quot;particle species&quot;</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  iTrackBin[4] = nVertexBinsEff;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  trackBins[4] = vertexBinsEff;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  trackAxisTitle[4] = vertexTitle;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a> = <span class="keyword">new</span> <a class="code" href="../../d6/d87/StepTHn_8h.html#a5b03e5318fac40e9424ccfe5385ac321">StepTHnD</a>(<span class="stringliteral">&quot;mTrackHistEfficiency&quot;</span>, <span class="stringliteral">&quot;Tracking efficiency&quot;</span>, 6, 5, iTrackBin, trackBins, trackAxisTitle);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">delete</span>[] deltaEtaBins;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">delete</span>[] pTBinsFine;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keyword">delete</span>[] leadingpTBins;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keyword">delete</span>[] leadingpTBins2;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">delete</span>[] leadingPhiBins;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">delete</span>[] vertexBins;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">delete</span>[] vertexBinsEff;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a5fea81517e85f2bb49dde88297e9e487">  315</a></span>&#160;TString <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5fea81517e85f2bb49dde88297e9e487">CorrelationContainer::combineBinning</a>(TString defaultBinning, TString customBinning)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// combine default binning with custom binning</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// replaces binnings in default binning if it is defined in custom binning</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  TString binningStr;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  TObjArray* lines = defaultBinning.Tokenize(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; lines-&gt;GetEntriesFast(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    TString line(lines-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetName());</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    TString tag = line(0, line.Index(<span class="stringliteral">&quot;:&quot;</span>) + 1);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (!customBinning.BeginsWith(tag) &amp;&amp; !customBinning.Contains(TString(<span class="stringliteral">&quot;\n&quot;</span>) + tag))</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      binningStr += line + <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Using custom binning for %s&quot;</span>, tag.Data());</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keyword">delete</span> lines;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  binningStr += customBinning;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">return</span> binningStr;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">  337</a></span>&#160;Double_t* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">CorrelationContainer::getBinning</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* configuration, <span class="keyword">const</span> <span class="keywordtype">char</span>* tag, Int_t&amp; nBins)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// takes the binning from &lt;configuration&gt; identified by &lt;tag&gt;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// configuration syntax example:</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// eta: 2.4, -2.3, -2.2, -2.1, -2.0, -1.9, -1.8, -1.7, -1.6, -1.5, -1.4, -1.3, -1.2, -1.1, -1.0, -0.9, -0.8, -0.7, -0.6, -0.5, -0.4, -0.3, -0.2, -0.1, 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// phi: .....</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// returns bin edges which have to be deleted by the caller</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  TString config(configuration);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  TObjArray* lines = config.Tokenize(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; lines-&gt;GetEntriesFast(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    TString line(lines-&gt;At(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetName());</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (line.BeginsWith(TString(tag) + <span class="stringliteral">&quot;:&quot;</span>)) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      line.Remove(0, strlen(tag) + 1);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      line.ReplaceAll(<span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      TObjArray* binning = line.Tokenize(<span class="stringliteral">&quot;,&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      Double_t* <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a> = <span class="keyword">new</span> Double_t[binning-&gt;GetEntriesFast()];</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">for</span> (Int_t j = 0; j &lt; binning-&gt;GetEntriesFast(); j++)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        bins[j] = TString(binning-&gt;At(j)-&gt;GetName()).Atof();</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      nBins = binning-&gt;GetEntriesFast() - 1;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keyword">delete</span> binning;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keyword">delete</span> lines;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keyword">delete</span> lines;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Tag %s not found in %s&quot;</span>, tag, configuration);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#af3436b8730165e6fa002aded7778ece4">  372</a></span>&#160;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7caaeb1e665f2dd47a6f3b4c8102ff00">CorrelationContainer::CorrelationContainer</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp; c) : TNamed(c),</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>(0),</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>(0),</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>(0),</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>(0),</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>(-1),</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a>(0),</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a>(0),</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>(0),</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>(0),</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a>(0),</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a>(0),</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">mTrackEtaCut</a>(0),</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aed17fc54f029f0ce3c08f417af7439d9">mWeightPerEvent</a>(0),</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a>(kFALSE),</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aa050e29f2be6dfeef203982d04f0ceeb">mCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6c6dbdc2f7f32032b8adc4d0073703b6">mGetMultCacheOn</a>(kFALSE),</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab0dbabb6b43e7ccba1e9c0d5b9895672">mGetMultCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                                            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">mHistogramType</a>()</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// CorrelationContainer copy constructor</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  ((<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp;)c).Copy(*<span class="keyword">this</span>);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a724736343a0da3028edfd99e9717ea56">  403</a></span>&#160;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a724736343a0da3028edfd99e9717ea56">CorrelationContainer::~CorrelationContainer</a>()</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// Destructor</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>) {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aa050e29f2be6dfeef203982d04f0ceeb">mCache</a>) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aa050e29f2be6dfeef203982d04f0ceeb">mCache</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aa050e29f2be6dfeef203982d04f0ceeb">mCache</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ad4a7254f4ef4389fb2dfd39aa647b85c">  429</a></span>&#160;<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad4a7254f4ef4389fb2dfd39aa647b85c">CorrelationContainer::operator=</a>(<span class="keyword">const</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp; c)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// assigment operator</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;c)</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    ((<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp;)c).<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0f4769a945bd934e3c92027f31177bdc">Copy</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a0f4769a945bd934e3c92027f31177bdc">  440</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0f4769a945bd934e3c92027f31177bdc">CorrelationContainer::Copy</a>(<a class="code" href="../../d5/d0f/classTObject.html">TObject</a>&amp; c)<span class="keyword"> const</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// copy function</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = (<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>&amp;)c;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;Clone());</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;Clone());</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;Clone());</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">mTrackEtaCut</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">mTrackEtaCut</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aed17fc54f029f0ce3c08f417af7439d9">mWeightPerEvent</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#aed17fc54f029f0ce3c08f417af7439d9">mWeightPerEvent</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  target.<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">mHistogramType</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">mHistogramType</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a7d57b078df6f175e32f7f1e648bb4fff">  473</a></span>&#160;Long64_t <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7d57b078df6f175e32f7f1e648bb4fff">CorrelationContainer::Merge</a>(TCollection* list)</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// Merge a list of CorrelationContainer objects with this (needed for</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// PROOF).</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Returns the number of merged objects (including this).</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (!list)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (list-&gt;IsEmpty())</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  TIterator* iter = list-&gt;MakeIterator();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="../../d5/d0f/classTObject.html">TObject</a>* obj = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">// collections of objects</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keyword">const</span> UInt_t kMaxLists = 3;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  TList** <a class="code" href="../../dc/da3/glcorearb_8h.html#aee5b17e8845a1f0784f0e26faf993605">lists</a> = <span class="keyword">new</span> TList*[kMaxLists];</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">for</span> (UInt_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; kMaxLists; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    lists[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> TList;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">while</span> ((obj = iter-&gt;Next())) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>*<span class="keyword">&gt;</span>(obj);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (entry == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      lists[0]-&gt;Add(entry-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>);</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    lists[1]-&gt;Add(entry-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    lists[2]-&gt;Add(entry-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    count++;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>)</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#af27266396ee4edda286a168f60ce5e2c">Merge</a>(lists[0]);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#af27266396ee4edda286a168f60ce5e2c">Merge</a>(lists[1]);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#af27266396ee4edda286a168f60ce5e2c">Merge</a>(lists[2]);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">for</span> (UInt_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; kMaxLists; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">delete</span> lists[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../dc/da3/glcorearb_8h.html#aee5b17e8845a1f0784f0e26faf993605">lists</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">return</span> count + 1;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">  525</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">CorrelationContainer::setBinLimits</a>(THnBase* grid)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// sets the bin limits in eta and pT defined by mEtaMin/Max, mPtMin/Max</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>)</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    grid-&gt;GetAxis(0)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    grid-&gt;GetAxis(1)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a> &gt; 0 &amp;&amp; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a> &gt; 0)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    grid-&gt;GetAxis(6)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a> &gt; 0)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    grid-&gt;GetAxis(6)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a>, grid-&gt;GetAxis(6)-&gt;GetXmax() - 0.01);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">  540</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">CorrelationContainer::resetBinLimits</a>(THnBase* grid)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// resets all bin limits</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; grid-&gt;GetNdimensions(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (grid-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;TestBit(TAxis::kAxisRange))</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      grid-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;SetRangeUser(0, -1);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a95477e5f50612281d87baad69ee90622">  550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a95477e5f50612281d87baad69ee90622">CorrelationContainer::countEmptyBins</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CorrelationContainer::CFStep</a> step, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMax)</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// prints the number of empty bins in the track end event histograms in the given step</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  Int_t binBegin[4];</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  Int_t binEnd[4];</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    binBegin[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 1;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    binEnd[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetNbins();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    binBegin[0] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    binEnd[0] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    binBegin[1] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(1)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    binEnd[1] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(1)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (ptLeadMax &gt; ptLeadMin) {</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    binBegin[2] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(2)-&gt;FindBin(ptLeadMin);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    binEnd[2] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(2)-&gt;FindBin(ptLeadMax);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// start from multiplicity 1</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  binBegin[3] = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(3)-&gt;FindBin(1);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  Int_t total = 0;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  Int_t vars[4];</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    vars[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = binBegin[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  THnBase* grid = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (grid-&gt;GetBin(vars) == 0) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(warning, <span class="stringliteral">&quot;Empty bin at eta=%.2f pt=%.2f pt_lead=%.2f mult=%.1f&quot;</span>,</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;           grid-&gt;GetAxis(0)-&gt;GetBinCenter(vars[0]),</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;           grid-&gt;GetAxis(1)-&gt;GetBinCenter(vars[1]),</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;           grid-&gt;GetAxis(2)-&gt;GetBinCenter(vars[2]),</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;           grid-&gt;GetAxis(3)-&gt;GetBinCenter(vars[3]));</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      count++;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    vars[3]++;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">if</span> (vars[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == binEnd[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        vars[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = binBegin[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        vars[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1]++;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (vars[0] == binEnd[0] + 1)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    total++;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Has %d empty bins (out of %d bins)&quot;</span>, count, total);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">  615</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">CorrelationContainer::getHistsZVtxMult</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CorrelationContainer::CFStep</a> step, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMax, THnBase** trackHist, TH2** eventHist)</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// Calculates a 4d histogram with deltaphi, deltaeta, zvtx, multiplicity on track level and</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// a 2d histogram on event level (as fct of zvtx, multiplicity)</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">// Histograms has to be deleted by the caller of the function</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  THnBase* sparse = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6c6dbdc2f7f32032b8adc4d0073703b6">mGetMultCacheOn</a>) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab0dbabb6b43e7ccba1e9c0d5b9895672">mGetMultCache</a>) {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab0dbabb6b43e7ccba1e9c0d5b9895672">mGetMultCache</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0e5b9872efa656182c8ecfba3d5d30f9">changeToThn</a>(sparse);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="comment">// should work but causes SEGV in ProjectionND below</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    sparse = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab0dbabb6b43e7ccba1e9c0d5b9895672">mGetMultCache</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// unzoom all axes</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sparse);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step));</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">setBinLimits</a>(sparse);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  Int_t firstBin = sparse-&gt;GetAxis(2)-&gt;FindBin(ptLeadMin);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  Int_t lastBin = sparse-&gt;GetAxis(2)-&gt;FindBin(ptLeadMax);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Using pT range %d --&gt; %d&quot;</span>, firstBin, lastBin);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  sparse-&gt;GetAxis(2)-&gt;SetRange(firstBin, lastBin);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;SetRange(firstBin, lastBin);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// cut on the second trigger particle if there is a minimum set</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a> &gt; 0) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    Int_t firstBinPt2 = sparse-&gt;GetAxis(6)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">mPt2Min</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    Int_t lastBinPt2 = sparse-&gt;GetAxis(6)-&gt;GetNbins();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a> &gt; 0)</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      lastBinPt2 = sparse-&gt;GetAxis(6)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">mPt2Max</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(3)-&gt;SetRange(firstBinPt2, lastBinPt2);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  Bool_t hasVertex = kTRUE;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(5))</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    hasVertex = kFALSE;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (hasVertex) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    Int_t dimensions[] = {4, 0, 5, 3};</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    THnBase* tmpTrackHist = sparse-&gt;ProjectionND(4, dimensions, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    *eventHist = (TH2*)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Projection(2, 1);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">// convert to THn</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    *trackHist = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0e5b9872efa656182c8ecfba3d5d30f9">changeToThn</a>(tmpTrackHist);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keyword">delete</span> tmpTrackHist;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    Int_t dimensions[] = {4, 0, 3};</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    THnBase* tmpTrackHist = sparse-&gt;ProjectionND(3, dimensions, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// add dummy vertex axis, so that the extraction code can work as usual</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    Int_t nBins[] = {tmpTrackHist-&gt;GetAxis(0)-&gt;GetNbins(), tmpTrackHist-&gt;GetAxis(1)-&gt;GetNbins(), 1, tmpTrackHist-&gt;GetAxis(2)-&gt;GetNbins()};</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    Double_t vtxAxis[] = {-100, 100};</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    *trackHist = <span class="keyword">new</span> THnF(Form(<span class="stringliteral">&quot;%s_thn&quot;</span>, tmpTrackHist-&gt;GetName()), tmpTrackHist-&gt;GetTitle(), 4, nBins, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordtype">int</span> j = <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> == 2)</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        j = 3;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      (*trackHist)-&gt;SetBinEdges(j, tmpTrackHist-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      (*trackHist)-&gt;GetAxis(j)-&gt;SetTitle(tmpTrackHist-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetTitle());</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    (*trackHist)-&gt;SetBinEdges(2, vtxAxis);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    (*trackHist)-&gt;GetAxis(2)-&gt;SetTitle(<span class="stringliteral">&quot;dummy z-vtx&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// bin by bin copy...</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    Int_t <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a>[4];</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span> (Int_t binIdx = 0; binIdx &lt; tmpTrackHist-&gt;GetNbins(); binIdx++) {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      Double_t <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">value</a> = tmpTrackHist-&gt;GetBinContent(binIdx, bins);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      Double_t error = tmpTrackHist-&gt;GetBinError(binIdx);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="comment">// move third to fourth axis</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      bins[3] = bins[2];</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      bins[2] = 1;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      (*trackHist)-&gt;SetBinContent(bins, value);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      (*trackHist)-&gt;SetBinError(bins, error);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">delete</span> tmpTrackHist;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    TH1* projEventHist = (TH1*)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Projection(1);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    *eventHist = <span class="keyword">new</span> TH2F(Form(<span class="stringliteral">&quot;%s_vtx&quot;</span>, projEventHist-&gt;GetName()), projEventHist-&gt;GetTitle(), 1, vtxAxis, projEventHist-&gt;GetNbinsX(), projEventHist-&gt;GetXaxis()-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">for</span> (Int_t binIdx = 1; binIdx &lt;= projEventHist-&gt;GetNbinsX(); binIdx++) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      (*eventHist)-&gt;SetBinContent(1, binIdx, projEventHist-&gt;GetBinContent(binIdx));</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      (*eventHist)-&gt;SetBinError(1, binIdx, projEventHist-&gt;GetBinError(binIdx));</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keyword">delete</span> projEventHist;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sparse);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step));</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a7c9b8a14cf21d93a0495cba044b1cb61">  716</a></span>&#160;TH2* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7c9b8a14cf21d93a0495cba044b1cb61">CorrelationContainer::getSumOfRatios</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>* mixed, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CorrelationContainer::CFStep</a> step, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMax, Int_t multBinBegin, Int_t multBinEnd, Bool_t normalizePerTrigger, Int_t stepForMixed, Int_t* trigger)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// Calls GetUEHist(...) for *each* vertex bin and multiplicity bin and performs a sum of ratios:</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// 1_N [ (same/mixed)_1 + (same/mixed)_2 + (same/mixed)_3 + ... ]</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// where N is the total number of events/trigger particles and the subscript is the vertex/multiplicity bin</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">// where mixed is normalized such that the information about the number of pairs in same is kept</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// returns a 2D histogram: deltaphi, deltaeta</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// Parameters:</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">//   mixed: CorrelationContainer containing mixed event corresponding to this object (the histograms are taken from step &lt;stepForMixed&gt; if defined otherwise from step &lt;step&gt;)</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">//   &lt;other parameters&gt; : check documentation of CorrelationContainer::GetUEHist</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="comment">//  normalizePerTrigger: divide through number of triggers</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// do not add this hists to the directory</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  Bool_t oldStatus = TH1::AddDirectoryStatus();</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  TH1::AddDirectory(kFALSE);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  TH2* totalTracks = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  THnBase* trackSameAll = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  THnBase* trackMixedAll = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  THnBase* trackMixedAllStep6 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  TH2* eventSameAll = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  TH2* eventMixedAll = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  TH2* eventMixedAllStep6 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  Long64_t totalEvents = 0;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  Int_t nCorrelationFunctions = 0;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">getHistsZVtxMult</a>(step, ptLeadMin, ptLeadMax, &amp;trackSameAll, &amp;eventSameAll);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  mixed-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">getHistsZVtxMult</a>((stepForMixed == -1) ? step : (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)stepForMixed, ptLeadMin, ptLeadMax, &amp;trackMixedAll, &amp;eventMixedAll);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// If we ask for histograms from step8 (TTR cut applied) there is a hole at 0,0; so this cannot be used for the</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// mixed-event normalization. If step6 is available, the normalization factor is read out from that one.</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// If step6 is not available we fallback to taking the normalization along all delta phi (WARNING requires a</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// flat delta phi distribution)</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (stepForMixed == -1 &amp;&amp; step == <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca955c90813afe4fdd7fa5f0b31191ae09">kCFStepBiasStudy</a> &amp;&amp; mixed-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca">kCFStepReconstructed</a>)-&gt;GetEntries() &gt; 0 &amp;&amp; !<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a>) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Using mixed-event normalization factors from step %d&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca">kCFStepReconstructed</a>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    mixed-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">getHistsZVtxMult</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca">kCFStepReconstructed</a>, ptLeadMin, ptLeadMax, &amp;trackMixedAllStep6, &amp;eventMixedAllStep6);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">//   Printf(&quot;%f %f %f %f&quot;, trackSameAll-&gt;GetEntries(), eventSameAll-&gt;GetEntries(), trackMixedAll-&gt;GetEntries(), eventMixedAll-&gt;GetEntries());</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">//   TH1* normParameters = new TH1F(&quot;normParameters&quot;, &quot;&quot;, 100, 0, 2);</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">//   trackSameAll-&gt;Dump();</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  TAxis* multAxis = trackSameAll-&gt;GetAxis(3);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">if</span> (multBinEnd &lt; multBinBegin) {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    multBinBegin = 1;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    multBinEnd = multAxis-&gt;GetNbins();</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">for</span> (Int_t multBin = TMath::Max(1, multBinBegin); multBin &lt;= TMath::Min(multAxis-&gt;GetNbins(), multBinEnd); multBin++) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    trackSameAll-&gt;GetAxis(3)-&gt;SetRange(multBin, multBin);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    trackMixedAll-&gt;GetAxis(3)-&gt;SetRange(multBin, multBin);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> (trackMixedAllStep6)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      trackMixedAllStep6-&gt;GetAxis(3)-&gt;SetRange(multBin, multBin);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    Double_t mixedNorm = 1;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    Double_t mixedNormError = 0;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a>) {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="comment">// get mixed normalization correction factor: is independent of vertex bin if scaled with number of triggers</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      TH2* tracksMixed = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">if</span> (trackMixedAllStep6) {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        trackMixedAllStep6-&gt;GetAxis(2)-&gt;SetRange(0, -1);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        tracksMixed = trackMixedAllStep6-&gt;Projection(1, 0, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        trackMixedAll-&gt;GetAxis(2)-&gt;SetRange(0, -1);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        tracksMixed = trackMixedAll-&gt;Projection(1, 0, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="comment">//     Printf(&quot;%f&quot;, tracksMixed-&gt;Integral());</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> binWidthEta = tracksMixed-&gt;GetYaxis()-&gt;GetBinWidth(1);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">if</span> (stepForMixed == -1 &amp;&amp; step == <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca955c90813afe4fdd7fa5f0b31191ae09">kCFStepBiasStudy</a> &amp;&amp; !trackMixedAllStep6) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="comment">// get mixed event normalization by assuming full acceptance at deta at 0 (integrate over dphi), excluding (0, 0)</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> phiExclude = 0.41;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        mixedNorm = tracksMixed-&gt;IntegralAndError(1, tracksMixed-&gt;GetXaxis()-&gt;FindBin(-phiExclude) - 1, tracksMixed-&gt;GetYaxis()-&gt;FindBin(-0.01), tracksMixed-&gt;GetYaxis()-&gt;FindBin(0.01), mixedNormError);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        Double_t mixedNormError2 = 0;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        Double_t mixedNorm2 = tracksMixed-&gt;IntegralAndError(tracksMixed-&gt;GetXaxis()-&gt;FindBin(phiExclude) + 1, tracksMixed-&gt;GetNbinsX(), tracksMixed-&gt;GetYaxis()-&gt;FindBin(-0.01), tracksMixed-&gt;GetYaxis()-&gt;FindBin(0.01), mixedNormError2);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">if</span> (mixedNormError == 0 || mixedNormError2 == 0) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: Skipping multiplicity %d because mixed event is empty %f %f %f %f&quot;</span>, multBin, mixedNorm, mixedNormError, mixedNorm2, mixedNormError2);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        Int_t nBinsMixedNorm = (tracksMixed-&gt;GetXaxis()-&gt;FindBin(-phiExclude) - 1 - 1 + 1) * (tracksMixed-&gt;GetYaxis()-&gt;FindBin(0.01) - tracksMixed-&gt;GetYaxis()-&gt;FindBin(-0.01) + 1);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        mixedNorm /= nBinsMixedNorm;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        mixedNormError /= nBinsMixedNorm;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        Int_t nBinsMixedNorm2 = (tracksMixed-&gt;GetNbinsX() - tracksMixed-&gt;GetXaxis()-&gt;FindBin(phiExclude) - 1 + 1) * (tracksMixed-&gt;GetYaxis()-&gt;FindBin(0.01) - tracksMixed-&gt;GetYaxis()-&gt;FindBin(-0.01) + 1);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        mixedNorm2 /= nBinsMixedNorm2;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        mixedNormError2 /= nBinsMixedNorm2;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        mixedNorm = mixedNorm / mixedNormError / mixedNormError + mixedNorm2 / mixedNormError2 / mixedNormError2;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        mixedNormError = TMath::Sqrt(1.0 / (1.0 / mixedNormError / mixedNormError + 1.0 / mixedNormError2 / mixedNormError2));</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        mixedNorm *= mixedNormError * mixedNormError;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="comment">// get mixed event normalization at (0,0)</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="comment">// NOTE if variable bin size is used around (0,0) to reduce two-track effect to limited bins, the normalization gets a bit tricky here (finite bin correction and normalization are made only for fixed size bins).</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="comment">// The normalization factor has to determined in a bin as large as the normal bin size, as a proxy the bin with index (1, 1) is used</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> binWidthPhi = tracksMixed-&gt;GetXaxis()-&gt;GetBinWidth(1);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        mixedNorm = tracksMixed-&gt;IntegralAndError(tracksMixed-&gt;GetXaxis()-&gt;FindBin(-binWidthPhi + 1<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4), tracksMixed-&gt;GetXaxis()-&gt;FindBin(binWidthPhi - 1<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4), tracksMixed-&gt;GetYaxis()-&gt;FindBin(-binWidthEta + 1<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4), tracksMixed-&gt;GetYaxis()-&gt;FindBin(binWidthEta - 1<a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>-4), mixedNormError);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        Int_t nBinsMixedNorm = 4; <span class="comment">// NOTE this is fixed on purpose, even if binning is made finer around (0,0), this corresponds to the equivalent of four &quot;large&quot; bins around (0,0)</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        mixedNorm /= nBinsMixedNorm;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        mixedNormError /= nBinsMixedNorm;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">if</span> (mixedNormError == 0) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: Skipping multiplicity %d because mixed event is empty %f %f&quot;</span>, multBin, mixedNorm, mixedNormError);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">// finite bin correction</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">mTrackEtaCut</a> &gt; 0) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        Double_t finiteBinCorrection = -1.0 / (2 * <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">mTrackEtaCut</a>) * binWidthEta / 2 + 1;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Finite bin correction: %f&quot;</span>, finiteBinCorrection);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        mixedNorm /= finiteBinCorrection;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        mixedNormError /= finiteBinCorrection;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: mTrackEtaCut not set. Finite bin correction cannot be applied. Continuing anyway...&quot;</span>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> triggers = eventMixedAll-&gt;Integral(1, eventMixedAll-&gt;GetNbinsX(), multBin, multBin);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="comment">//     Printf(&quot;%f +- %f | %f | %f&quot;, mixedNorm, mixedNormError, triggers, mixedNorm / triggers);</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> (triggers &lt;= 0) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: Skipping multiplicity %d because mixed event is empty&quot;</span>, multBin);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      mixedNorm /= triggers;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      mixedNormError /= triggers;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keyword">delete</span> tracksMixed;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(warning, <span class="stringliteral">&quot;WARNING: Skipping mixed-event scaling! mSkipScaleMixedEvent IS set!&quot;</span>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (mixedNorm &lt;= 0) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: Skipping multiplicity %d because mixed event is empty at (0,0)&quot;</span>, multBin);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">//     Printf(&quot;Norm: %f +- %f&quot;, mixedNorm, mixedNormError);</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">//     normParameters-&gt;Fill(mixedNorm);</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    TAxis* vertexAxis = trackSameAll-&gt;GetAxis(2);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    Int_t vertexBinBegin = 1;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    Int_t vertexBinEnd = vertexAxis-&gt;GetNbins();</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      vertexBinBegin = vertexAxis-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      vertexBinEnd = vertexAxis-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">for</span> (Int_t vertexBin = vertexBinBegin; vertexBin &lt;= vertexBinEnd; vertexBin++) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      trackSameAll-&gt;GetAxis(2)-&gt;SetRange(vertexBin, vertexBin);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      trackMixedAll-&gt;GetAxis(2)-&gt;SetRange(vertexBin, vertexBin);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      TH2* tracksSame = trackSameAll-&gt;Projection(1, 0, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      TH2* tracksMixed = trackMixedAll-&gt;Projection(1, 0, <span class="stringliteral">&quot;E&quot;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="comment">// asssume flat in dphi, gain in statistics</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="comment">//     TH1* histMixedproj = mixedTwoD-&gt;ProjectionY();</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="comment">//     histMixedproj-&gt;Scale(1.0 / mixedTwoD-&gt;GetNbinsX());</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="comment">//</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="comment">//     for (Int_t x=1; x&lt;=mixedTwoD-&gt;GetNbinsX(); x++)</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="comment">//       for (Int_t y=1; y&lt;=mixedTwoD-&gt;GetNbinsY(); y++)</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="comment">//  mixedTwoD-&gt;SetBinContent(x, y, histMixedproj-&gt;GetBinContent(y));</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="comment">//       delete histMixedproj;</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> triggers2 = eventMixedAll-&gt;Integral(vertexBin, vertexBin, multBin, multBin);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">if</span> (triggers2 &lt;= 0) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(error, <span class="stringliteral">&quot;ERROR: Skipping multiplicity %d vertex bin %d because mixed event is empty&quot;</span>, multBin, vertexBin);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">mSkipScaleMixedEvent</a>)</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          tracksMixed-&gt;Scale(1.0 / triggers2 / mixedNorm);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tracksMixed-&gt;Integral() &gt; 0)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;          tracksMixed-&gt;Scale(1.0 / tracksMixed-&gt;Integral());</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="comment">// tracksSame-&gt;Scale(tracksMixed-&gt;Integral() / tracksSame-&gt;Integral());</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="comment">//  new TCanvas; tracksSame-&gt;DrawClone(&quot;SURF1&quot;);</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">//  new TCanvas; tracksMixed-&gt;DrawClone(&quot;SURF1&quot;);</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="comment">// some code to judge the relative contribution of the different correlation functions to the overall uncertainty</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        Double_t sums[] = {0, 0, 0};</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        Double_t errors[] = {0, 0, 0};</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= tracksSame-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= tracksSame-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            sums[0] += tracksSame-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            errors[0] += tracksSame-&gt;GetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            sums[1] += tracksMixed-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            errors[1] += tracksMixed-&gt;GetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          }</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        tracksSame-&gt;Divide(tracksMixed);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= tracksSame-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= tracksSame-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            sums[2] += tracksSame-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            errors[2] += tracksSame-&gt;GetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;          }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 0; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt; 3; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;          <span class="keywordflow">if</span> (sums[<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>] &gt; 0)</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            errors[<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>] /= sums[<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>];</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;The correlation function %d %d has uncertainties %f %f %f (Ratio S/M %f)&quot;</span>, multBin, vertexBin, errors[0], errors[1], errors[2], (errors[1] &gt; 0) ? errors[0] / errors[1] : -1);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">// code to draw contributions</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">  TH1* proj = tracksSame-&gt;ProjectionX(&quot;projx&quot;, tracksSame-&gt;GetYaxis()-&gt;FindBin(-1.59), tracksSame-&gt;GetYaxis()-&gt;FindBin(1.59));</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">  proj-&gt;SetTitle(Form(&quot;Bin %d&quot;, vertexBin));</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">  proj-&gt;SetLineColor(vertexBin);</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">  proj-&gt;DrawCopy((vertexBin &gt; 1) ? &quot;SAME&quot; : &quot;&quot;);</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (!totalTracks)</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          totalTracks = (TH2*)tracksSame-&gt;Clone(<span class="stringliteral">&quot;totalTracks&quot;</span>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          totalTracks-&gt;Add(tracksSame);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        totalEvents += eventSameAll-&gt;GetBinContent(vertexBin, multBin);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="comment">//  new TCanvas; tracksMixed-&gt;DrawCopy(&quot;SURF1&quot;);</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <span class="keyword">delete</span> tracksSame;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="keyword">delete</span> tracksMixed;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      nCorrelationFunctions++;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  }</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">if</span> (totalTracks) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    Double_t sums[] = {0, 0, 0};</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    Double_t errors[] = {0, 0, 0};</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= totalTracks-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= totalTracks-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        sums[0] += totalTracks-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        errors[0] += totalTracks-&gt;GetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (sums[0] &gt; 0)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      errors[0] /= sums[0];</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (normalizePerTrigger) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Dividing %f tracks by %lld events (%d correlation function(s)) (error %f)&quot;</span>, totalTracks-&gt;Integral(), totalEvents, nCorrelationFunctions, errors[0]);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">if</span> (totalEvents &gt; 0)</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        totalTracks-&gt;Scale(1.0 / totalEvents);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">if</span> (trigger != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      *trigger = (Int_t)totalEvents;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// normalizate to dphi width</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> normalization = totalTracks-&gt;GetXaxis()-&gt;GetBinWidth(1);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    totalTracks-&gt;Scale(1.0 / normalization);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keyword">delete</span> trackSameAll;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keyword">delete</span> trackMixedAll;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keyword">delete</span> trackMixedAllStep6;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keyword">delete</span> eventSameAll;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keyword">delete</span> eventMixedAll;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keyword">delete</span> eventMixedAllStep6;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">//   new TCanvas; normParameters-&gt;Draw();</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  TH1::AddDirectory(oldStatus);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordflow">return</span> totalTracks;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a394ebcedd294ed7b48c5c9c7b7e93b9c">  995</a></span>&#160;TH1* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a394ebcedd294ed7b48c5c9c7b7e93b9c">CorrelationContainer::getTriggersAsFunctionOfMultiplicity</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CorrelationContainer::CFStep</a> step, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMax)</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// returns the distribution of triggers as function of centrality/multiplicity</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step));</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  Int_t firstBin = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;FindBin(ptLeadMin);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  Int_t lastBin = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;FindBin(ptLeadMax);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Using pT range %d --&gt; %d&quot;</span>, firstBin, lastBin);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(0)-&gt;SetRange(firstBin, lastBin);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;GetAxis(2)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricting z-vtx: %f-%f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  TH1* eventHist = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Projection(1);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step));</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">return</span> eventHist;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;}</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a9331182010dbc314ad275599d4afb0f0"> 1018</a></span>&#160;THnBase* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a9331182010dbc314ad275599d4afb0f0">CorrelationContainer::getTrackEfficiencyND</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a5f753a25cabc298224bd14d327123f7b">step1</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a16a2a37bb5a010d18adb61b966d7cd81">step2</a>)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;{</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// creates a track-level efficiency by dividing step2 by step1</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// in all dimensions but the particle species one</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>* sourceContainer = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// step offset because we start with kCFStepAnaTopology</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  step1 = (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)((Int_t)step1 - (Int_t)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  step2 = (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)((Int_t)step2 - (Int_t)kCFStepAnaTopology);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted eta-range to %f %f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(0)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(0)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  Int_t dimensions[] = {0, 1, 3, 4};</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  THnBase* generated = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;ProjectionND(4, dimensions);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  THnBase* measured = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;ProjectionND(4, dimensions);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">//   Printf(&quot;%d %d %f %f&quot;, step1, step2, generated-&gt;GetEntries(), measured-&gt;GetEntries());</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  THnBase* clone = (THnBase*)measured-&gt;Clone();</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  clone-&gt;Divide(measured, generated, 1, 1, <span class="stringliteral">&quot;B&quot;</span>);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keyword">delete</span> generated;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keyword">delete</span> measured;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">return</span> clone;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540"> 1057</a></span>&#160;TH1* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">CorrelationContainer::getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a5f753a25cabc298224bd14d327123f7b">step1</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a16a2a37bb5a010d18adb61b966d7cd81">step2</a>, Int_t axis1, Int_t axis2, Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a>, Int_t axis3)</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;{</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">// creates a track-level efficiency by dividing step2 by step1</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// projected to axis1 and axis2 (optional if &gt;= 0)</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="comment">// source: 0 = mTrackHist; 1 = mTrackHistEfficiency; 2 = mTrackHistEfficiency rebinned for pT,T / pT,lead binning</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="comment">// cache it for efficiency (usually more than one efficiency is requested)</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>* sourceContainer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">if</span> (source == 0) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source == 1 || source == 2) {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    sourceContainer = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="comment">// step offset because we start with kCFStepAnaTopology</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    step1 = (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)((Int_t)step1 - (Int_t)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    step2 = (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)((Int_t)step2 - (Int_t)kCFStepAnaTopology);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  } <span class="keywordflow">else</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// reset all limits and set the right ones except those in axis1, axis2 and axis3</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a> &amp;&amp; axis1 != 0 &amp;&amp; axis2 != 0 &amp;&amp; axis3 != 0) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted eta-range to %f %f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(0)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(0)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a> &amp;&amp; axis1 != 1 &amp;&amp; axis2 != 1 &amp;&amp; axis3 != 1) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted pt-range to %f %f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(1)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(1)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a> != -1 &amp;&amp; axis1 != 2 &amp;&amp; axis2 != 2 &amp;&amp; axis3 != 2) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted to particle species %d&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(2)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(2)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">mPartSpecies</a>);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a> &amp;&amp; axis1 != 3 &amp;&amp; axis2 != 3 &amp;&amp; axis3 != 3) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted centrality range to %f %f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(3)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(3)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">mCentralityMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">mCentralityMax</a>);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a> &amp;&amp; axis1 != 4 &amp;&amp; axis2 != 4 &amp;&amp; axis3 != 4) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Restricted z-vtx range to %f %f&quot;</span>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(4)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(4)-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">mZVtxMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">mZVtxMax</a>);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  TH1* measured = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  TH1* generated = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">if</span> (axis3 &gt;= 0) {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    generated = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(axis1, axis2, axis3);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    measured = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(axis1, axis2, axis3);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis2 &gt;= 0) {</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    generated = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(axis1, axis2);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    measured = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(axis1, axis2);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    generated = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(axis1);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    measured = sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(axis1);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// check for bins with less than 50 entries, print warning</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  Int_t binBegin[3];</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  Int_t binEnd[3];</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  binBegin[0] = 1;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  binBegin[1] = 1;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  binBegin[2] = 1;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  binEnd[0] = generated-&gt;GetNbinsX();</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  binEnd[1] = generated-&gt;GetNbinsY();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  binEnd[2] = generated-&gt;GetNbinsZ();</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (axis1 == 0) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      binBegin[0] = generated-&gt;GetXaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      binEnd[0] = generated-&gt;GetXaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (axis2 == 0) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      binBegin[1] = generated-&gt;GetYaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      binEnd[1] = generated-&gt;GetYaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> (axis3 == 0) {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      binBegin[2] = generated-&gt;GetZaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      binEnd[2] = generated-&gt;GetZaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="comment">// TODO this is just checking up to 15 for now</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptMax = TMath::Min((<a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>)15., <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">mPtMax</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (axis1 == 1) {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      binBegin[0] = generated-&gt;GetXaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      binEnd[0] = generated-&gt;GetXaxis()-&gt;FindBin(ptMax);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (axis2 == 1) {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      binBegin[1] = generated-&gt;GetYaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      binEnd[1] = generated-&gt;GetYaxis()-&gt;FindBin(ptMax);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordflow">if</span> (axis3 == 1) {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      binBegin[2] = generated-&gt;GetZaxis()-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">mPtMin</a>);</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      binEnd[2] = generated-&gt;GetZaxis()-&gt;FindBin(ptMax);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  Int_t total = 0;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  Int_t vars[3];</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    vars[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = binBegin[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keyword">const</span> Int_t limit = 50;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (generated-&gt;GetDimension() == 1 &amp;&amp; generated-&gt;GetBinContent(vars[0]) &lt; limit) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Empty bin at %s=%.2f (%.2f entries)&quot;</span>, generated-&gt;GetXaxis()-&gt;GetTitle(), generated-&gt;GetXaxis()-&gt;GetBinCenter(vars[0]), generated-&gt;GetBinContent(vars[0]));</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      count++;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (generated-&gt;GetDimension() == 2 &amp;&amp; generated-&gt;GetBinContent(vars[0], vars[1]) &lt; limit) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Empty bin at %s=%.2f %s=%.2f (%.2f entries)&quot;</span>,</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;           generated-&gt;GetXaxis()-&gt;GetTitle(), generated-&gt;GetXaxis()-&gt;GetBinCenter(vars[0]),</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;           generated-&gt;GetYaxis()-&gt;GetTitle(), generated-&gt;GetYaxis()-&gt;GetBinCenter(vars[1]),</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;           generated-&gt;GetBinContent(vars[0], vars[1]));</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      count++;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (generated-&gt;GetDimension() == 3 &amp;&amp; generated-&gt;GetBinContent(vars[0], vars[1], vars[2]) &lt; limit) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Empty bin at %s=%.2f %s=%.2f %s=%.2f (%.2f entries)&quot;</span>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;           generated-&gt;GetXaxis()-&gt;GetTitle(), generated-&gt;GetXaxis()-&gt;GetBinCenter(vars[0]),</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;           generated-&gt;GetYaxis()-&gt;GetTitle(), generated-&gt;GetYaxis()-&gt;GetBinCenter(vars[1]),</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;           generated-&gt;GetZaxis()-&gt;GetTitle(), generated-&gt;GetZaxis()-&gt;GetBinCenter(vars[2]),</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;           generated-&gt;GetBinContent(vars[0], vars[1], vars[2]));</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      count++;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    vars[2]++;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">if</span> (vars[2] == binEnd[2] + 1) {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      vars[2] = binBegin[2];</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      vars[1]++;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (vars[1] == binEnd[1] + 1) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      vars[1] = binBegin[1];</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      vars[0]++;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (vars[0] == binEnd[0] + 1)</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    total++;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Correction has %d empty bins (out of %d bins)&quot;</span>, count, total);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// rebin if required</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">if</span> (source == 2) {</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    TAxis* axis = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(0);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (axis-&gt;GetNbins() &lt; measured-&gt;GetNbinsX()) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keywordflow">if</span> (axis2 != -1) {</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">// 2d rebin with variable axis does not exist in root</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        TH1* tmp = measured;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        measured = <span class="keyword">new</span> TH2D(Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), tmp-&gt;GetTitle(), axis-&gt;GetNbins(), axis-&gt;GetXbins()-&gt;GetArray(), tmp-&gt;GetNbinsY(), tmp-&gt;GetYaxis()-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= tmp-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= tmp-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            ((TH2*)measured)-&gt;Fill(tmp-&gt;GetXaxis()-&gt;GetBinCenter(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>), tmp-&gt;GetYaxis()-&gt;GetBinCenter(<a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>), tmp-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>));</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            measured-&gt;SetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, 0); <span class="comment">// cannot trust bin error, set to 0</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;          }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        tmp = generated;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        generated = <span class="keyword">new</span> TH2D(Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), tmp-&gt;GetTitle(), axis-&gt;GetNbins(), axis-&gt;GetXbins()-&gt;GetArray(), tmp-&gt;GetNbinsY(), tmp-&gt;GetYaxis()-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= tmp-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;          <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= tmp-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            ((TH2*)generated)-&gt;Fill(tmp-&gt;GetXaxis()-&gt;GetBinCenter(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>), tmp-&gt;GetYaxis()-&gt;GetBinCenter(<a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>), tmp-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>));</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            generated-&gt;SetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, 0); <span class="comment">// cannot trust bin error, set to 0</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;          }</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        TH1* tmp = measured;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        measured = tmp-&gt;Rebin(axis-&gt;GetNbins(), Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), axis-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        tmp = generated;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        generated = tmp-&gt;Rebin(axis-&gt;GetNbins(), Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), axis-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      }</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis-&gt;GetNbins() &gt; measured-&gt;GetNbinsX()) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">if</span> (axis2 != -1)</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Rebinning only works for 1d at present&quot;</span>);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="comment">// this is an unfortunate case where the number of bins has to be increased in principle</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="comment">// there is a region where the binning is finner in one histogram and a region where it is the other way round</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="comment">// this cannot be resolved in principle, but as we only calculate the ratio the bin in the second region get the same entries</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="comment">// only a certain binning is supported here</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="keywordflow">if</span> (axis-&gt;GetNbins() != 100 || measured-&gt;GetNbinsX() != 39)</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Invalid binning --&gt; %d %d&quot;</span>, axis-&gt;GetNbins(), measured-&gt;GetNbinsX());</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      Double_t newBins[] = {0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 12.0, 14.0, 16.0, 18.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 100.0};</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="comment">// reduce binning below 5 GeV/c</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      TH1* tmp = measured;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      measured = tmp-&gt;Rebin(27, Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), newBins);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="comment">// increase binning above 5 GeV/c</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      tmp = measured;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      measured = <span class="keyword">new</span> TH1F(Form(<span class="stringliteral">&quot;%s_rebinned2&quot;</span>, tmp-&gt;GetName()), tmp-&gt;GetTitle(), axis-&gt;GetNbins(), axis-&gt;GetBinLowEdge(1), axis-&gt;GetBinUpEdge(axis-&gt;GetNbins()));</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="keywordflow">for</span> (Int_t bin = 1; bin &lt;= measured-&gt;GetNbinsX(); bin++) {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        measured-&gt;SetBinContent(bin, tmp-&gt;GetBinContent(tmp-&gt;FindBin(measured-&gt;GetBinCenter(bin))));</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        measured-&gt;SetBinError(bin, tmp-&gt;GetBinError(tmp-&gt;FindBin(measured-&gt;GetBinCenter(bin))));</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="comment">// reduce binning below 5 GeV/c</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      tmp = generated;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      generated = tmp-&gt;Rebin(27, Form(<span class="stringliteral">&quot;%s_rebinned&quot;</span>, tmp-&gt;GetName()), newBins);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="comment">// increase binning above 5 GeV/c</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      tmp = generated;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      generated = <span class="keyword">new</span> TH1F(Form(<span class="stringliteral">&quot;%s_rebinned2&quot;</span>, tmp-&gt;GetName()), tmp-&gt;GetTitle(), axis-&gt;GetNbins(), axis-&gt;GetBinLowEdge(1), axis-&gt;GetBinUpEdge(axis-&gt;GetNbins()));</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <span class="keywordflow">for</span> (Int_t bin = 1; bin &lt;= generated-&gt;GetNbinsX(); bin++) {</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        generated-&gt;SetBinContent(bin, tmp-&gt;GetBinContent(tmp-&gt;FindBin(generated-&gt;GetBinCenter(bin))));</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        generated-&gt;SetBinError(bin, tmp-&gt;GetBinError(tmp-&gt;FindBin(generated-&gt;GetBinCenter(bin))));</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      }</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keyword">delete</span> tmp;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  measured-&gt;Divide(measured, generated, 1, 1, <span class="stringliteral">&quot;B&quot;</span>);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keyword">delete</span> generated;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(sourceContainer-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">return</span> measured;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;}</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01298"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a0ebf2c35e6254514f98aa71398adf7ce"> 1298</a></span>&#160;TH1* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0ebf2c35e6254514f98aa71398adf7ce">CorrelationContainer::getEventEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a5f753a25cabc298224bd14d327123f7b">step1</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a16a2a37bb5a010d18adb61b966d7cd81">step2</a>, Int_t axis1, Int_t axis2, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> ptLeadMax)</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;{</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// creates a event-level efficiency by dividing step2 by step1</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="comment">// projected to axis1 and axis2 (optional if &gt;= 0)</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (ptLeadMax &gt; ptLeadMin) {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(0)-&gt;SetRangeUser(ptLeadMin, ptLeadMax);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(0)-&gt;SetRangeUser(ptLeadMin, ptLeadMax);</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  }</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  TH1* measured = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  TH1* generated = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (axis2 &gt;= 0) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    generated = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(axis1, axis2);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    measured = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(axis1, axis2);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    generated = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(axis1);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    measured = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(axis1);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  measured-&gt;Divide(measured, generated, 1, 1, <span class="stringliteral">&quot;B&quot;</span>);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keyword">delete</span> generated;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">if</span> (ptLeadMax &gt; ptLeadMin) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;GetAxis(0)-&gt;SetRangeUser(0, -1);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;GetAxis(0)-&gt;SetRangeUser(0, -1);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">return</span> measured;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01332"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#af9c0109e136fcb0270adecf1ad827f6a"> 1332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af9c0109e136fcb0270adecf1ad827f6a">CorrelationContainer::weightHistogram</a>(TH3* hist1, TH1* hist2)</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;{</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="comment">// weights each entry of the 3d histogram hist1 with the 1d histogram hist2</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">// where the matching is done of the z axis of hist1 with the x axis of hist2</span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">if</span> (hist1-&gt;GetNbinsZ() != hist2-&gt;GetNbinsX())</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Inconsistent binning %d %d&quot;</span>, hist1-&gt;GetNbinsZ(), hist2-&gt;GetNbinsX());</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= hist1-&gt;GetNbinsX(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++) {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= hist1-&gt;GetNbinsY(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> &lt;= hist1-&gt;GetNbinsZ(); <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>++) {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">if</span> (hist2-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>) &gt; 0) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;          hist1-&gt;SetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, hist1-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>) / hist2-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>));</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;          hist1-&gt;SetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, hist1-&gt;GetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>) / hist2-&gt;GetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>));</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;          hist1-&gt;SetBinContent(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, 0);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;          hist1-&gt;SetBinError(<a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, 0);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    }</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a2fca7faf16df1f33e2d55e8184f601c3"> 1356</a></span>&#160;TH1* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a2fca7faf16df1f33e2d55e8184f601c3">CorrelationContainer::getBias</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a5f753a25cabc298224bd14d327123f7b">step1</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> <a class="code" href="../../d4/d54/GPUReconstructionKernels_8h.html#a16a2a37bb5a010d18adb61b966d7cd81">step2</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* axis, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> leadPtMin, <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> leadPtMax, Int_t weighting)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// extracts the track-level bias (integrating out the multiplicity) between two steps (dividing step2 by step1)</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="comment">// done by weighting the track-level distribution with the number of events as function of leading pT</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// and then calculating the ratio between the distributions</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// projected to axis which is a TH3::Project3D string, e.g. &quot;x&quot;, or &quot;yx&quot;</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="comment">//   no projection is done if axis == 0</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="comment">// weighting: 0 = tracks weighted with events (as discussed above)</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">//            1 = only track bias is returned</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">//            2 = only event bias is returned</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>* tmp = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">setBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">setBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  TH1D* events1 = (TH1D*)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(0);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  TH3D* hist1 = (TH3D*)tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1)-&gt;Projection(0, tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#aca72a1e32b6e1b520fe11919463861d2">getNVar</a>() - 1, 2);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keywordflow">if</span> (weighting == 0)</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af9c0109e136fcb0270adecf1ad827f6a">weightHistogram</a>(hist1, events1);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  TH1D* events2 = (TH1D*)<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(0);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  TH3D* hist2 = (TH3D*)tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2)-&gt;Projection(0, tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#aca72a1e32b6e1b520fe11919463861d2">getNVar</a>() - 1, 2);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keywordflow">if</span> (weighting == 0)</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af9c0109e136fcb0270adecf1ad827f6a">weightHistogram</a>(hist2, events2);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  TH1* generated = hist1;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  TH1* measured = hist2;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">if</span> (weighting == 0 || weighting == 1) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (axis) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="keywordflow">if</span> (leadPtMax &gt; leadPtMin) {</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        hist1-&gt;GetZaxis()-&gt;SetRangeUser(leadPtMin, leadPtMax);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        hist2-&gt;GetZaxis()-&gt;SetRangeUser(leadPtMin, leadPtMax);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a> &gt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a> &amp;&amp; !TString(axis).Contains(<span class="stringliteral">&quot;x&quot;</span>)) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        hist1-&gt;GetXaxis()-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        hist2-&gt;GetXaxis()-&gt;SetRangeUser(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      generated = hist1-&gt;Project3D(axis);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      measured = hist2-&gt;Project3D(axis);</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="comment">// delete hists here if projection has been done</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keyword">delete</span> hist1;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="keyword">delete</span> hist2;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keyword">delete</span> events1;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keyword">delete</span> events2;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (weighting == 2) {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keyword">delete</span> hist1;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keyword">delete</span> hist2;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    generated = events1;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    measured = events2;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  measured-&gt;Divide(generated);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keyword">delete</span> generated;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step1));</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">resetBinLimits</a>(tmp-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step2));</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">return</span> measured;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01429"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d"> 1429</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d">CorrelationContainer::getTrackingEfficiency</a>()</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;{</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="comment">// extracts the tracking efficiency by calculating the efficiency from step kCFStepAnaTopology to kCFStepTrackedOnlyPrim</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and eta to increase the statistics</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, 0, 1));</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01440"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a1d6c35dc9b3ce439f215e70f59399e24"> 1440</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1d6c35dc9b3ce439f215e70f59399e24">CorrelationContainer::getFakeRate</a>()</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;{</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a> + 3), 0, 1));</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ac16bee41801ea33f0f14f17825c3cc3d"> 1446</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac16bee41801ea33f0f14f17825c3cc3d">CorrelationContainer::getTrackingEfficiencyCentrality</a>()</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;{</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// extracts the tracking efficiency by calculating the efficiency from step kCFStepAnaTopology to kCFStepTrackedOnlyPrim</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT, centrality to increase the statistics</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, 1, 3));</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;}</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a8ad2572e099b5fca0df7327492759230"> 1457</a></span>&#160;TH1D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d">CorrelationContainer::getTrackingEfficiency</a>(Int_t axis)</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// extracts the tracking efficiency by calculating the efficiency from step kCFStepAnaTopology to kCFStepTrackedOnlyPrim</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT (axis == 0) and eta (axis == 1) to increase the statistics</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, axis));</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a5e1b8c80735a711d9ecbd38eca5c615e"> 1466</a></span>&#160;TH1D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a1d6c35dc9b3ce439f215e70f59399e24">CorrelationContainer::getFakeRate</a>(Int_t axis)</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;{</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a>)(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a> + 3), axis));</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ae9424bc0257d92436aada1935f7675ed"> 1471</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae9424bc0257d92436aada1935f7675ed">CorrelationContainer::getTrackingCorrection</a>()</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="comment">// extracts the tracking correction by calculating the efficiency from step kCFStepAnaTopology to kCFStepTracked</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and eta to increase the statistics</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, 0, 1));</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a3afcd150d5212afcc1eefbb8a3d7238c"> 1482</a></span>&#160;TH1D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ae9424bc0257d92436aada1935f7675ed">CorrelationContainer::getTrackingCorrection</a>(Int_t axis)</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// extracts the tracking correction by calculating the efficiency from step kCFStepAnaTopology to kCFStepTracked</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT (axis == 0) and eta (axis == 1) to increase the statistics</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, axis));</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a7046124ae3aeaf01675f09ee5a39c112"> 1491</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7046124ae3aeaf01675f09ee5a39c112">CorrelationContainer::getTrackingEfficiencyCorrection</a>()</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;{</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="comment">// extracts the tracking correction by calculating the efficiency from step kCFStepAnaTopology to kCFStepTracked</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and eta to increase the statistics</span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, 0, 1));</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a52bd5fefd490c6c45e7e0efa99eee4be"> 1502</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a52bd5fefd490c6c45e7e0efa99eee4be">CorrelationContainer::getTrackingEfficiencyCorrectionCentrality</a>()</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;{</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// extracts the tracking correction by calculating the efficiency from step kCFStepAnaTopology to kCFStepTracked</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and centrality to increase the statistics</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, 1, 3));</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a99cdef6ebff0428860250b06f9b9731d"> 1513</a></span>&#160;TH1D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a7046124ae3aeaf01675f09ee5a39c112">CorrelationContainer::getTrackingEfficiencyCorrection</a>(Int_t axis)</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;{</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// extracts the tracking correction by calculating the efficiency from step kCFStepAnaTopology to kCFStepTracked</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT (axis == 0) and eta (axis == 1) to increase the statistics</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>, axis));</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01522"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08"> 1522</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08">CorrelationContainer::getTrackingContamination</a>()</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;{</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// extracts the tracking contamination by secondaries by calculating the efficiency from step kCFStepTrackedOnlyPrim to kCFStepTracked</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and eta to increase the statistics</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, 0, 1));</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01533"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#af88e674e9439943856799e6d994bca52"> 1533</a></span>&#160;TH2D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#af88e674e9439943856799e6d994bca52">CorrelationContainer::getTrackingContaminationCentrality</a>()</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;{</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="comment">// extracts the tracking contamination by secondaries by calculating the efficiency from step kCFStepTrackedOnlyPrim to kCFStepTracked</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT and centrality to increase the statistics</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// returned histogram has to be deleted by the user</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH2D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, 1, 3));</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ac10f6f9a4c8cd08481383685fd3a2553"> 1544</a></span>&#160;TH1D* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08">CorrelationContainer::getTrackingContamination</a>(Int_t axis)</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="comment">// extracts the tracking contamination by secondaries by calculating the efficiency from step kCFStepTrackedOnlyPrim to kCFStepTracked</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="comment">// integrates over the regions and all other variables than pT (axis == 0) and eta (axis == 1) to increase the statistics</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TH1D*<span class="keyword">&gt;</span>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">getTrackEfficiency</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>, axis));</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;}</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01553"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ac45a87df255577d68f65fe72300ffa0a"> 1553</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ac45a87df255577d68f65fe72300ffa0a">CorrelationContainer::getStepTitle</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CFStep</a> step)</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;{</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="comment">// returns the name of the given step</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">switch</span> (step) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca0938490ab157399284a9a67b030c04fd">kCFStepAll</a>:</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;All events&quot;</span>;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caac631b01b526c6225c687470f7a83e40">kCFStepTriggered</a>:</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Triggered&quot;</span>;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca2bfd36e23efe0389fd29992707d4401b">kCFStepVertex</a>:</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Primary Vertex&quot;</span>;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">kCFStepAnaTopology</a>:</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Required analysis topology&quot;</span>;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">kCFStepTrackedOnlyPrim</a>:</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Tracked (matched MC, only primaries)&quot;</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">kCFStepTracked</a>:</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Tracked (matched MC, all)&quot;</span>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca">kCFStepReconstructed</a>:</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Reconstructed&quot;</span>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca09bf8d52d21dc6b45040b82311c681a9">kCFStepRealLeading</a>:</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Correct leading particle identified&quot;</span>;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca955c90813afe4fdd7fa5f0b31191ae09">kCFStepBiasStudy</a>:</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bias study applying tracking efficiency&quot;</span>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caacf4e2fd1c1aca94c1ddd5dc6b63882f">kCFStepBiasStudy2</a>:</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Bias study applying tracking efficiency in two steps&quot;</span>;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca0b7a41b3a55be310786beed2efefff90">kCFStepCorrected</a>:</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Corrected for efficiency on-the-fly&quot;</span>;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;}</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div><div class="line"><a name="l01585"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a188fcbd59a1838e8d54fbec369b0801e"> 1585</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a188fcbd59a1838e8d54fbec369b0801e">CorrelationContainer::deepCopy</a>(<a class="code" href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a>* from)</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;{</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="comment">// copies the entries of this object&#39;s members from the object &lt;from&gt; to this object</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="comment">// fills using the fill function and thus allows that the objects have different binning</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++) {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Copying step %d&quot;</span>, step);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a> = from-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    target-&gt;Reset();</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    target-&gt;RebinnedAdd(source);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++) {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Ev: Copying step %d&quot;</span>, step);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a> = from-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    target-&gt;Reset();</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    target-&gt;RebinnedAdd(source);</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; TMath::Min(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(), from-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>()); step++) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">if</span> (!from-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step))</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Eff: Copying step %d&quot;</span>, step);</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a> = from-&gt;<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    target-&gt;Reset();</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    target-&gt;RebinnedAdd(source);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;}</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a24146069602d1ef802a4b9129bcd276a"> 1621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a24146069602d1ef802a4b9129bcd276a">CorrelationContainer::symmetrizepTBins</a>()</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;{</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// copy pt,a &lt; pt,t bins to pt,a &gt; pt,t (inverting deltaphi and delta eta as it should be) including symmetric bins</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++) {</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Copying step %d&quot;</span>, step);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> (target-&gt;GetEntries() == 0)</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="comment">// for symmetric bins</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a> = (THnBase*)target-&gt;Clone();</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    Int_t zVtxBins = 1;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (target-&gt;GetNdimensions() &gt; 5)</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      zVtxBins = target-&gt;GetAxis(5)-&gt;GetNbins();</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="comment">// axes: 0 delta eta; 1 pT,a; 2 pT,t; 3 centrality; 4 delta phi; 5 vtx-z</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">for</span> (Int_t i3 = 1; i3 &lt;= target-&gt;GetAxis(3)-&gt;GetNbins(); i3++)</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">for</span> (Int_t i5 = 1; i5 &lt;= zVtxBins; i5++) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keywordflow">for</span> (Int_t i1 = 1; i1 &lt;= target-&gt;GetAxis(1)-&gt;GetNbins(); i1++)</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;          <span class="keywordflow">for</span> (Int_t i2 = 1; i2 &lt;= target-&gt;GetAxis(2)-&gt;GetNbins(); i2++) {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="comment">// find source bin</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            Int_t binA = target-&gt;GetAxis(1)-&gt;FindBin(target-&gt;GetAxis(2)-&gt;GetBinCenter(i2));</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            Int_t binT = target-&gt;GetAxis(2)-&gt;FindBin(target-&gt;GetAxis(1)-&gt;GetBinCenter(i1));</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;(%d %d) Copying from %d %d to %d %d&quot;</span>, i3, i5, binA, binT, i1, i2);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="keywordflow">for</span> (Int_t i0 = 1; i0 &lt;= target-&gt;GetAxis(0)-&gt;GetNbins(); i0++)</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;              <span class="keywordflow">for</span> (Int_t i4 = 1; i4 &lt;= target-&gt;GetAxis(4)-&gt;GetNbins(); i4++) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                Int_t binEta = target-&gt;GetAxis(0)-&gt;FindBin(-target-&gt;GetAxis(0)-&gt;GetBinCenter(i0));</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                Double_t phi = -target-&gt;GetAxis(4)-&gt;GetBinCenter(i4);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                <span class="keywordflow">if</span> (phi &lt; -<a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>() / 2)</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                  phi += <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">TMath::TwoPi</a>();</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                Int_t binPhi = target-&gt;GetAxis(4)-&gt;FindBin(phi);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                Int_t binSource[] = {binEta, binA, binT, i3, binPhi, i5};</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                Int_t binTarget[] = {i0, i1, i2, i3, i4, i5};</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                Double_t <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">value</a> = source-&gt;GetBinContent(binSource);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                Double_t error = source-&gt;GetBinError(binSource);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                <span class="keywordflow">if</span> (error == 0)</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                Double_t value2 = target-&gt;GetBinContent(binTarget);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                Double_t error2 = target-&gt;GetBinError(binTarget);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                Double_t sum = <a class="code" href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">value</a>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                Double_t err = error;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                <span class="keywordflow">if</span> (error2 &gt; 0) {</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                  sum = value + value2;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                  err = TMath::Sqrt(error * error + error2 * error2);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                }</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                <span class="comment">// Printf(&quot;  Values: %f +- %f; %f +- %f --&gt; %f +- %f&quot;, value, error, value2, error2, sum, err);</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                target-&gt;SetBinContent(binTarget, sum);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                target-&gt;SetBinError(binTarget, err);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;              }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;          }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;}</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a46d8949332f537fbae1b491f8b10b322"> 1690</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a46d8949332f537fbae1b491f8b10b322">CorrelationContainer::extendTrackingEfficiency</a>(Bool_t verbose)</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;{</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="comment">// fits the tracking efficiency at high pT with a constant and fills all bins with this tracking efficiency</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> fitRangeBegin = 5.01;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> fitRangeEnd = 14.99;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> extendRangeBegin = 10.01;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#aca72a1e32b6e1b520fe11919463861d2">getNVar</a>() == 3) {</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    TH1* obj = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d">getTrackingEfficiency</a>(1);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> (verbose) {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keyword">new</span> TCanvas;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      obj-&gt;Draw();</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    obj-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>, (verbose) ? <span class="stringliteral">&quot;+&quot;</span> : <span class="stringliteral">&quot;0+&quot;</span>, <span class="stringliteral">&quot;SAME&quot;</span>, fitRangeBegin, fitRangeEnd);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> trackingEff = obj-&gt;GetFunction(<span class="stringliteral">&quot;pol0&quot;</span>)-&gt;GetParameter(0);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    obj = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08">getTrackingContamination</a>(1);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">if</span> (verbose) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      <span class="keyword">new</span> TCanvas;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      obj-&gt;Draw();</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    }</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    obj-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>, (verbose) ? <span class="stringliteral">&quot;+&quot;</span> : <span class="stringliteral">&quot;0+&quot;</span>, <span class="stringliteral">&quot;SAME&quot;</span>, fitRangeBegin, fitRangeEnd);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> trackingCont = obj-&gt;GetFunction(<span class="stringliteral">&quot;pol0&quot;</span>)-&gt;GetParameter(0);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;CorrelationContainer::extendTrackingEfficiency: Fitted efficiency between %f and %f and got %f tracking efficiency and %f tracking contamination correction. Extending from %f onwards (within %f &lt; eta &lt; %f)&quot;</span>, fitRangeBegin, fitRangeEnd, trackingEff, trackingCont, extendRangeBegin, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">// extend for full pT range</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(1)-&gt;FindBin(extendRangeBegin); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(1)-&gt;GetNbins(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++)</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(2)-&gt;GetNbins(); <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>++) <span class="comment">// particle type axis</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        {</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          Int_t <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a>[3];</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          bins[0] = <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          bins[1] = <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;          bins[2] = <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;          <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;SetBinContent(bins, 100);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;          <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(1)-&gt;SetBinContent(bins, 100.0 * trackingEff);</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;          <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(2)-&gt;SetBinContent(bins, 100.0 * trackingEff / trackingCont);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        }</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#aca72a1e32b6e1b520fe11919463861d2">getNVar</a>() == 4) {</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">// fit in centrality intervals of 20% for efficiency, one bin for contamination</span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>* trackingEff = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>* trackingCont = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> centralityBins[] = {0, 10, 20, 40, 60, 100};</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    Int_t nCentralityBins = 5;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;CorrelationContainer::extendTrackingEfficiency: Fitting efficiencies between %f and %f. Extending from %f onwards (within %f &lt; eta &lt; %f)&quot;</span>, fitRangeBegin, fitRangeEnd, extendRangeBegin, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>, <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="comment">// 0 = eff; 1 = cont</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">for</span> (Int_t caseNo = 0; caseNo &lt; 2; caseNo++) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      Int_t centralityBinsLocal = nCentralityBins;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <span class="keywordflow">if</span> (caseNo == 0) {</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        trackingEff = <span class="keyword">new</span> <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>[centralityBinsLocal];</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        target = trackingEff;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        centralityBinsLocal = 1;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        trackingCont = <span class="keyword">new</span> <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a>[centralityBinsLocal];</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        target = trackingCont;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      }</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; centralityBinsLocal; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <span class="keywordflow">if</span> (centralityBinsLocal == 1)</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;          <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a042a1773fcee158f7b773426141c9c98">setCentralityRange</a>(centralityBins[0] + 0.1, centralityBins[nCentralityBins] - 0.1);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;          <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a042a1773fcee158f7b773426141c9c98">setCentralityRange</a>(centralityBins[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 0.1, centralityBins[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1] - 0.1);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        TH1* proj = (caseNo == 0) ? <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d">getTrackingEfficiency</a>(1) : <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08">getTrackingContamination</a>(1);</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span> (verbose) {</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          <span class="keyword">new</span> TCanvas;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;          proj-&gt;DrawCopy();</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="keywordflow">if</span> ((Int_t)proj-&gt;Fit(<span class="stringliteral">&quot;pol0&quot;</span>, (verbose) ? <span class="stringliteral">&quot;+&quot;</span> : <span class="stringliteral">&quot;Q0+&quot;</span>, <span class="stringliteral">&quot;SAME&quot;</span>, fitRangeBegin, fitRangeEnd) == 0)</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;          target[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = proj-&gt;GetFunction(<span class="stringliteral">&quot;pol0&quot;</span>)-&gt;GetParameter(0);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;          target[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;CorrelationContainer::extendTrackingEfficiency: case %d, centrality %d, eff %f&quot;</span>, caseNo, <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, target[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;      }</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    }</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// extend for full pT range</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">mEtaMin</a>); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(0)-&gt;FindBin(<a class="code" href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">mEtaMax</a>); <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>++)</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> = <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(1)-&gt;FindBin(extendRangeBegin); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(1)-&gt;GetNbins(); <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>++)</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> = 1; <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(2)-&gt;GetNbins(); <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>++) <span class="comment">// particle type axis</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        {</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;          <span class="keywordflow">for</span> (Int_t <a class="code" href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">z2</a> = 1; <a class="code" href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">z2</a> &lt;= <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(3)-&gt;GetNbins(); <a class="code" href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">z2</a>++) <span class="comment">// centrality axis</span></div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;          {</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            Int_t <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a>[4];</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            bins[0] = <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            bins[1] = <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            bins[2] = <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            bins[3] = <a class="code" href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">z2</a>;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            Int_t z2Bin = 0;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            <span class="keywordflow">while</span> (centralityBins[z2Bin + 1] &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;GetAxis(3)-&gt;GetBinCenter(<a class="code" href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">z2</a>))</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;              z2Bin++;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="comment">//Printf(&quot;%d %d&quot;, z2, z2Bin);</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(0)-&gt;SetBinContent(bins, 100);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(1)-&gt;SetBinContent(bins, 100.0 * trackingEff[z2Bin]);</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            <span class="keywordflow">if</span> (trackingCont[0] &gt; 0)</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;              <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(2)-&gt;SetBinContent(bins, 100.0 * trackingEff[z2Bin] / trackingCont[0]);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;              <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(2)-&gt;SetBinContent(bins, 0);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;          }</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        }</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keyword">delete</span>[] trackingEff;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keyword">delete</span>[] trackingCont;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  }</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a042a1773fcee158f7b773426141c9c98">setCentralityRange</a>(0, 0);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">void CorrelationContainer::Scale(Double_t factor)</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">  // scales all contained histograms by the given factor</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">  for (Int_t i=0; i&lt;4; i++)</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">    if (mTrackHist[i])</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">      mTrackHist[i]-&gt;Scale(factor);</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">  mEventHist-&gt;Scale(factor);</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">  mTrackHistEfficiency-&gt;Scale(factor);</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#ad14b12ce9e9a9a7250ad3a1232e8b8c5"> 1828</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d8f/classCorrelationContainer.html#ad14b12ce9e9a9a7250ad3a1232e8b8c5">CorrelationContainer::Reset</a>()</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;{</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// resets all contained histograms</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++)</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">mTrackHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Reset();</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++)</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">mEventHist</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Reset();</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="keywordflow">for</span> (Int_t step = 0; step &lt; <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">getNSteps</a>(); step++)</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">mTrackHistEfficiency</a>-&gt;<a class="code" href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">getTHn</a>(step)-&gt;Reset();</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;}</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"><a class="line" href="../../d8/d8f/classCorrelationContainer.html#a0e5b9872efa656182c8ecfba3d5d30f9"> 1842</a></span>&#160;THnBase* <a class="code" href="../../d8/d8f/classCorrelationContainer.html#a0e5b9872efa656182c8ecfba3d5d30f9">CorrelationContainer::changeToThn</a>(THnBase* sparse)</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">// change the object to THn for faster processing</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// convert to THn (SEGV&#39;s for some strange reason...)</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// x = THn::CreateHn(&quot;a&quot;, &quot;a&quot;, sparse);</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="comment">// own implementation</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  Int_t nBins[10];</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; sparse-&gt;GetNdimensions(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    nBins[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sparse-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetNbins();</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  THn* tmpTHn = <span class="keyword">new</span> THnF(Form(<span class="stringliteral">&quot;%s_thn&quot;</span>, sparse-&gt;GetName()), sparse-&gt;GetTitle(), sparse-&gt;GetNdimensions(), nBins, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; sparse-&gt;GetNdimensions(); <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    tmpTHn-&gt;SetBinEdges(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, sparse-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetXbins()-&gt;GetArray());</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    tmpTHn-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;SetTitle(sparse-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetTitle());</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  tmpTHn-&gt;RebinnedAdd(sparse);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">return</span> tmpTHn;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;}</div><div class="ttc" id="classCorrelationContainer_html_af88e674e9439943856799e6d994bca52"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#af88e674e9439943856799e6d994bca52">CorrelationContainer::getTrackingContaminationCentrality</a></div><div class="ttdeci">TH2D * getTrackingContaminationCentrality()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01533">CorrelationContainer.cxx:1533</a></div></div>
<div class="ttc" id="GPUReconstructionKernels_8h_html_a5f753a25cabc298224bd14d327123f7b"><div class="ttname"><a href="../../d4/d54/GPUReconstructionKernels_8h.html#a5f753a25cabc298224bd14d327123f7b">step1</a></div><div class="ttdeci">unsigned long size int mode int iSlice int iSlice char nOutput int int char useOrigTrackParam step1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/GPUReconstructionKernels_8h_source.html#l00044">GPUReconstructionKernels.h:44</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a2fca7faf16df1f33e2d55e8184f601c3"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a2fca7faf16df1f33e2d55e8184f601c3">CorrelationContainer::getBias</a></div><div class="ttdeci">TH1 * getBias(CFStep step1, CFStep step2, const char *axis, Float_t leadPtMin=0, Float_t leadPtMax=-1, Int_t weighting=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01356">CorrelationContainer.cxx:1356</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_afc2604e99b8d29df3ed0d894010e22cd"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#afc2604e99b8d29df3ed0d894010e22cd">CorrelationContainer::mZVtxMax</a></div><div class="ttdeci">Float_t mZVtxMax</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00159">CorrelationContainer.h:159</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca0938490ab157399284a9a67b030c04fd"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca0938490ab157399284a9a67b030c04fd">CorrelationContainer::kCFStepAll</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00039">CorrelationContainer.h:39</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a9331182010dbc314ad275599d4afb0f0"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a9331182010dbc314ad275599d4afb0f0">CorrelationContainer::getTrackEfficiencyND</a></div><div class="ttdeci">THnBase * getTrackEfficiencyND(CFStep step1, CFStep step2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01018">CorrelationContainer.cxx:1018</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a8440f8592d4c91cb8000f6e2cf6081ba"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a8440f8592d4c91cb8000f6e2cf6081ba">CorrelationContainer::mTrackEtaCut</a></div><div class="ttdeci">Float_t mTrackEtaCut</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00163">CorrelationContainer.h:163</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ab7b3c1a0fe2488c37201feb317b7654b"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ab7b3c1a0fe2488c37201feb317b7654b">CorrelationContainer::mPt2Max</a></div><div class="ttdeci">Float_t mPt2Max</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00161">CorrelationContainer.h:161</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ad87cdeb8f0342d90dcacff29631c6e08"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ad87cdeb8f0342d90dcacff29631c6e08">CorrelationContainer::getTrackingContamination</a></div><div class="ttdeci">TH2D * getTrackingContamination()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01522">CorrelationContainer.cxx:1522</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a247da7d75433e1289e090055b68ebd6d"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a247da7d75433e1289e090055b68ebd6d">CorrelationContainer::mTrackHistEfficiency</a></div><div class="ttdeci">StepTHnBase * mTrackHistEfficiency</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00149">CorrelationContainer.h:149</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca0b7a41b3a55be310786beed2efefff90"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca0b7a41b3a55be310786beed2efefff90">CorrelationContainer::kCFStepCorrected</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00049">CorrelationContainer.h:49</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aee38b51639b577753f6a92029fb92000"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a></div><div class="ttdeci">GLdouble GLdouble GLdouble z</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00843">glcorearb.h:843</a></div></div>
<div class="ttc" id="TrackSelection_8cxx_html_a5a66018d9eeaa28e3f63c5ca8c36c21d"><div class="ttname"><a href="../../d7/d72/TrackSelection_8cxx.html#a5a66018d9eeaa28e3f63c5ca8c36c21d">ClassImp</a></div><div class="ttdeci">ClassImp(TrackSelection) TrackSelection</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d72/TrackSelection_8cxx_source.html#l00018">TrackSelection.cxx:18</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a88416518d58027edb38823b67671c387"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a88416518d58027edb38823b67671c387">CorrelationContainer::mPartSpecies</a></div><div class="ttdeci">Int_t mPartSpecies</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00155">CorrelationContainer.h:155</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_aed17fc54f029f0ce3c08f417af7439d9"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#aed17fc54f029f0ce3c08f417af7439d9">CorrelationContainer::mWeightPerEvent</a></div><div class="ttdeci">Bool_t mWeightPerEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00164">CorrelationContainer.h:164</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a188fcbd59a1838e8d54fbec369b0801e"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a188fcbd59a1838e8d54fbec369b0801e">CorrelationContainer::deepCopy</a></div><div class="ttdeci">void deepCopy(CorrelationContainer *from)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01585">CorrelationContainer.cxx:1585</a></div></div>
<div class="ttc" id="classCorrelationContainer_html"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html">CorrelationContainer</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00031">CorrelationContainer.h:31</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca2bfd36e23efe0389fd29992707d4401b"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca2bfd36e23efe0389fd29992707d4401b">CorrelationContainer::kCFStepVertex</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00041">CorrelationContainer.h:41</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a52bd5fefd490c6c45e7e0efa99eee4be"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a52bd5fefd490c6c45e7e0efa99eee4be">CorrelationContainer::getTrackingEfficiencyCorrectionCentrality</a></div><div class="ttdeci">TH2D * getTrackingEfficiencyCorrectionCentrality()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01502">CorrelationContainer.cxx:1502</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca955c90813afe4fdd7fa5f0b31191ae09"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca955c90813afe4fdd7fa5f0b31191ae09">CorrelationContainer::kCFStepBiasStudy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00047">CorrelationContainer.h:47</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caaf60d480101338e7f409c1c7eb2f3c49">CorrelationContainer::kCFStepTracked</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00044">CorrelationContainer.h:44</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a394ebcedd294ed7b48c5c9c7b7e93b9c"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a394ebcedd294ed7b48c5c9c7b7e93b9c">CorrelationContainer::getTriggersAsFunctionOfMultiplicity</a></div><div class="ttdeci">TH1 * getTriggersAsFunctionOfMultiplicity(CorrelationContainer::CFStep step, Float_t ptLeadMin, Float_t ptLeadMax)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00995">CorrelationContainer.cxx:995</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1math__utils_html_a1e60213b0a0658ac2a9ee86f18ef0f95"><div class="ttname"><a href="../../d2/dc1/namespaceo2_1_1its_1_1math__utils.html#a1e60213b0a0658ac2a9ee86f18ef0f95">o2::its::math_utils::z2</a></div><div class="ttdeci">float float float float float z2</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3e/MathUtils_8h_source.html#l00043">MathUtils.h:43</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a5c9726338ef7eefa9b9dc1216d1625fa"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a5c9726338ef7eefa9b9dc1216d1625fa">CorrelationContainer::resetBinLimits</a></div><div class="ttdeci">void resetBinLimits(THnBase *grid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00540">CorrelationContainer.cxx:540</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1constants_1_1math_html_ab8ae067bdc328b3dede71d13994af907"><div class="ttname"><a href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#ab8ae067bdc328b3dede71d13994af907">o2::its::constants::math::TwoPi</a></div><div class="ttdeci">constexpr float TwoPi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/Detectors_2ITSMFT_2ITS_2tracking_2include_2ITStracking_2Constants_8h_source.html#l00038">Constants.h:38</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_af9c0109e136fcb0270adecf1ad827f6a"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#af9c0109e136fcb0270adecf1ad827f6a">CorrelationContainer::weightHistogram</a></div><div class="ttdeci">void weightHistogram(TH3 *hist1, TH1 *hist2)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01332">CorrelationContainer.cxx:1332</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a36862d7c6208bc30723fd06f2a0f9bfd"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a></div><div class="ttdeci">GLuint entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05735">glcorearb.h:5735</a></div></div>
<div class="ttc" id="CorrelationContainer_8h_html"><div class="ttname"><a href="../../d3/d31/CorrelationContainer_8h.html">CorrelationContainer.h</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a5c4947d4516dd7cfa3505ce3a648a4ef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a></div><div class="ttdeci">GLuint const GLchar * name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00781">glcorearb.h:781</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a7046124ae3aeaf01675f09ee5a39c112"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a7046124ae3aeaf01675f09ee5a39c112">CorrelationContainer::getTrackingEfficiencyCorrection</a></div><div class="ttdeci">TH2D * getTrackingEfficiencyCorrection()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01491">CorrelationContainer.cxx:1491</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a1d6c35dc9b3ce439f215e70f59399e24"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a1d6c35dc9b3ce439f215e70f59399e24">CorrelationContainer::getFakeRate</a></div><div class="ttdeci">TH2D * getFakeRate()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01440">CorrelationContainer.cxx:1440</a></div></div>
<div class="ttc" id="classStepTHnBase_html_a5a1732bcda2c1d682a6dd8c53c5f0c91"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html#a5a1732bcda2c1d682a6dd8c53c5f0c91">StepTHnBase::getTHn</a></div><div class="ttdeci">virtual THnBase * getTHn(Int_t step, Bool_t sparse=kFALSE)=0</div></div>
<div class="ttc" id="classCorrelationContainer_html_a1e68dadf01458efc9c3a92ec601ddbf0"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a1e68dadf01458efc9c3a92ec601ddbf0">CorrelationContainer::mCentralityMin</a></div><div class="ttdeci">Float_t mCentralityMin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00156">CorrelationContainer.h:156</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a5fea81517e85f2bb49dde88297e9e487"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a5fea81517e85f2bb49dde88297e9e487">CorrelationContainer::combineBinning</a></div><div class="ttdeci">static TString combineBinning(TString defaultBinning, TString customBinning)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00315">CorrelationContainer.cxx:315</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a0e5b9872efa656182c8ecfba3d5d30f9"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a0e5b9872efa656182c8ecfba3d5d30f9">CorrelationContainer::changeToThn</a></div><div class="ttdeci">THnBase * changeToThn(THnBase *sparse)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01842">CorrelationContainer.cxx:1842</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a46d8949332f537fbae1b491f8b10b322"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a46d8949332f537fbae1b491f8b10b322">CorrelationContainer::extendTrackingEfficiency</a></div><div class="ttdeci">void extendTrackingEfficiency(Bool_t verbose=kFALSE)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01690">CorrelationContainer.cxx:1690</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca8111f1411c6a3468a0fa76d064ca5ba9">CorrelationContainer::kCFStepAnaTopology</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00042">CorrelationContainer.h:42</a></div></div>
<div class="ttc" id="classStepTHnBase_html_aca72a1e32b6e1b520fe11919463861d2"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html#aca72a1e32b6e1b520fe11919463861d2">StepTHnBase::getNVar</a></div><div class="ttdeci">virtual Int_t getNVar()=0</div></div>
<div class="ttc" id="GPUReconstructionKernels_8h_html_a16a2a37bb5a010d18adb61b966d7cd81"><div class="ttname"><a href="../../d4/d54/GPUReconstructionKernels_8h.html#a16a2a37bb5a010d18adb61b966d7cd81">step2</a></div><div class="ttdeci">unsigned long size int mode int iSlice int iSlice step2</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/GPUReconstructionKernels_8h_source.html#l00038">GPUReconstructionKernels.h:38</a></div></div>
<div class="ttc" id="classStepTHnBase_html_af27266396ee4edda286a168f60ce5e2c"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html#af27266396ee4edda286a168f60ce5e2c">StepTHnBase::Merge</a></div><div class="ttdeci">virtual Long64_t Merge(TCollection *list)=0</div></div>
<div class="ttc" id="classCorrelationContainer_html_a7caaeb1e665f2dd47a6f3b4c8102ff00"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a7caaeb1e665f2dd47a6f3b4c8102ff00">CorrelationContainer::CorrelationContainer</a></div><div class="ttdeci">CorrelationContainer()</div></div>
<div class="ttc" id="classCorrelationContainer_html_ac924a0735a6bfef872b34cd680b312b9"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ac924a0735a6bfef872b34cd680b312b9">CorrelationContainer::mPtMin</a></div><div class="ttdeci">Float_t mPtMin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00153">CorrelationContainer.h:153</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a0ebf2c35e6254514f98aa71398adf7ce"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a0ebf2c35e6254514f98aa71398adf7ce">CorrelationContainer::getEventEfficiency</a></div><div class="ttdeci">TH1 * getEventEfficiency(CFStep step1, CFStep step2, Int_t axis1, Int_t axis2=-1, Float_t ptLeadMin=-1, Float_t ptLeadMax=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01298">CorrelationContainer.cxx:1298</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ad39985921414efc41c8be4429c37d024"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ad39985921414efc41c8be4429c37d024">CorrelationContainer::mHistogramType</a></div><div class="ttdeci">TString mHistogramType</div><div class="ttdoc">cache for getHistsZVtxMult function </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00172">CorrelationContainer.h:172</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_a914560a78f061cb6b0424348c3917017"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a></div><div class="ttdeci">#define LOGF(type, string,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00029">GPUCommonLogger.h:29</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a0f4769a945bd934e3c92027f31177bdc"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a0f4769a945bd934e3c92027f31177bdc">CorrelationContainer::Copy</a></div><div class="ttdeci">virtual void Copy(TObject &amp;c) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00440">CorrelationContainer.cxx:440</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6ff8504cf2c665cd7b34a5b6e991b9a1"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6ff8504cf2c665cd7b34a5b6e991b9a1">CorrelationContainer::mTrackHist</a></div><div class="ttdeci">StepTHnBase * mTrackHist</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00147">CorrelationContainer.h:147</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727c"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727c">CorrelationContainer::CFStep</a></div><div class="ttdeci">CFStep</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00039">CorrelationContainer.h:39</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ac16bee41801ea33f0f14f17825c3cc3d"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ac16bee41801ea33f0f14f17825c3cc3d">CorrelationContainer::getTrackingEfficiencyCentrality</a></div><div class="ttdeci">TH2D * getTrackingEfficiencyCentrality()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01446">CorrelationContainer.cxx:1446</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a8349913397c7978e731bd5c438bddd87"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a8349913397c7978e731bd5c438bddd87">CorrelationContainer::setBinLimits</a></div><div class="ttdeci">void setBinLimits(THnBase *grid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00525">CorrelationContainer.cxx:525</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ae9424bc0257d92436aada1935f7675ed"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ae9424bc0257d92436aada1935f7675ed">CorrelationContainer::getTrackingCorrection</a></div><div class="ttdeci">TH2D * getTrackingCorrection()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01471">CorrelationContainer.cxx:1471</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a6ffd2192cbc75d017665e95207ee36a7"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a></div><div class="ttdeci">GLsizei GLsizei GLchar * source</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00798">glcorearb.h:798</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a7d57b078df6f175e32f7f1e648bb4fff"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a7d57b078df6f175e32f7f1e648bb4fff">CorrelationContainer::Merge</a></div><div class="ttdeci">virtual Long64_t Merge(TCollection *list)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00473">CorrelationContainer.cxx:473</a></div></div>
<div class="ttc" id="StepTHn_8h_html_a5b03e5318fac40e9424ccfe5385ac321"><div class="ttname"><a href="../../d6/d87/StepTHn_8h.html#a5b03e5318fac40e9424ccfe5385ac321">StepTHnD</a></div><div class="ttdeci">StepTHn&lt; TArrayD, Double_t &gt; StepTHnD</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00103">StepTHn.h:103</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a8496b9733648fb7e9e8d8cb6570cc660"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a8496b9733648fb7e9e8d8cb6570cc660">CorrelationContainer::fgkCFSteps</a></div><div class="ttdeci">static const Int_t fgkCFSteps</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00038">CorrelationContainer.h:38</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_af6d8367f1dc555e490abed56644b7420"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#af6d8367f1dc555e490abed56644b7420">CorrelationContainer::mPtMax</a></div><div class="ttdeci">Float_t mPtMax</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00154">CorrelationContainer.h:154</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_aabc749d4814798868930eef0b648b7b3"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#aabc749d4814798868930eef0b648b7b3">CorrelationContainer::mPt2Min</a></div><div class="ttdeci">Float_t mPt2Min</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00160">CorrelationContainer.h:160</a></div></div>
<div class="ttc" id="classFloat__t_html"><div class="ttname"><a href="../../d9/d7d/classFloat__t.html">Float_t</a></div></div>
<div class="ttc" id="glcorearb_8h_html_af9d0cbbbeb7414e786c41899e5a856d7"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a></div><div class="ttdeci">GLenum target</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01641">glcorearb.h:1641</a></div></div>
<div class="ttc" id="StepTHn_8h_html"><div class="ttname"><a href="../../d6/d87/StepTHn_8h.html">StepTHn.h</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a5ae24e17964a6c860e35a900eb88d466"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a5ae24e17964a6c860e35a900eb88d466">CorrelationContainer::getHistsZVtxMult</a></div><div class="ttdeci">void getHistsZVtxMult(CorrelationContainer::CFStep step, Float_t ptLeadMin, Float_t ptLeadMax, THnBase **trackHist, TH2 **eventHist)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00615">CorrelationContainer.cxx:615</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a8b5aae41d076cbdfe15029155b5d8636"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a8b5aae41d076cbdfe15029155b5d8636">CorrelationContainer::mEventHist</a></div><div class="ttdeci">StepTHnBase * mEventHist</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00148">CorrelationContainer.h:148</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caca6c64152f4039ec005ec73b5bd79f11">CorrelationContainer::kCFStepTrackedOnlyPrim</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00043">CorrelationContainer.h:43</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_aa050e29f2be6dfeef203982d04f0ceeb"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#aa050e29f2be6dfeef203982d04f0ceeb">CorrelationContainer::mCache</a></div><div class="ttdeci">StepTHnBase * mCache</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00167">CorrelationContainer.h:167</a></div></div>
<div class="ttc" id="StepTHn_8h_html_a71dc7cc44b4b14d6fb502d6003ebb35b"><div class="ttname"><a href="../../d6/d87/StepTHn_8h.html#a71dc7cc44b4b14d6fb502d6003ebb35b">StepTHnF</a></div><div class="ttdeci">StepTHn&lt; TArrayF, Float_t &gt; StepTHnF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00102">StepTHn.h:102</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ad4a7254f4ef4389fb2dfd39aa647b85c"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ad4a7254f4ef4389fb2dfd39aa647b85c">CorrelationContainer::operator=</a></div><div class="ttdeci">CorrelationContainer &amp; operator=(const CorrelationContainer &amp;corr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00429">CorrelationContainer.cxx:429</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ac45a87df255577d68f65fe72300ffa0a"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ac45a87df255577d68f65fe72300ffa0a">CorrelationContainer::getStepTitle</a></div><div class="ttdeci">const char * getStepTitle(CFStep step)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01553">CorrelationContainer.cxx:1553</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727caac631b01b526c6225c687470f7a83e40"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caac631b01b526c6225c687470f7a83e40">CorrelationContainer::kCFStepTriggered</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00040">CorrelationContainer.h:40</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_acc2760558000045ec0803d60d4d01c98"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char e</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00140">qconfigoptions.h:140</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a042a1773fcee158f7b773426141c9c98"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a042a1773fcee158f7b773426141c9c98">CorrelationContainer::setCentralityRange</a></div><div class="ttdeci">void setCentralityRange(Float_t min, Float_t max)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00103">CorrelationContainer.h:103</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caadbff54a7da0e35686828d11cfff5bca">CorrelationContainer::kCFStepReconstructed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00045">CorrelationContainer.h:45</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a60189c4b3e8da1d39cc750ddc9f9ad3c"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a60189c4b3e8da1d39cc750ddc9f9ad3c">CorrelationContainer::mEtaMax</a></div><div class="ttdeci">Float_t mEtaMax</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00152">CorrelationContainer.h:152</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1constants_1_1math_html_a790aa0015b1208f2a67ff3eaee25392b"><div class="ttname"><a href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">o2::its::constants::math::Pi</a></div><div class="ttdeci">constexpr float Pi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/Detectors_2ITSMFT_2ITS_2tracking_2include_2ITStracking_2Constants_8h_source.html#l00037">Constants.h:37</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0cdec8e97a75ee9458b23d152bf962d4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00403">glcorearb.h:403</a></div></div>
<div class="ttc" id="classTObject_html"><div class="ttname"><a href="../../d5/d0f/classTObject.html">TObject</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a74d80fd479c0f6d0153c709949a089ef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a></div><div class="ttdeci">GLint y</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00270">glcorearb.h:270</a></div></div>
<div class="ttc" id="glcorearb_8h_html_af5ef68ee1b33850ea6254115a25d0a85"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#af5ef68ee1b33850ea6254115a25d0a85">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00819">glcorearb.h:819</a></div></div>
<div class="ttc" id="AnalysisTask_8h_html"><div class="ttname"><a href="../../d6/d57/AnalysisTask_8h.html">AnalysisTask.h</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a724736343a0da3028edfd99e9717ea56"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a724736343a0da3028edfd99e9717ea56">CorrelationContainer::~CorrelationContainer</a></div><div class="ttdeci">virtual ~CorrelationContainer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00403">CorrelationContainer.cxx:403</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a624450f0c9dc770764480789231ed540"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a624450f0c9dc770764480789231ed540">CorrelationContainer::getTrackEfficiency</a></div><div class="ttdeci">TH1 * getTrackEfficiency(CFStep step1, CFStep step2, Int_t axis1, Int_t axis2=-1, Int_t source=1, Int_t axis3=-1)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01057">CorrelationContainer.cxx:1057</a></div></div>
<div class="ttc" id="test__Algorithm_8cxx_html_acd183315357753acf4b1f6376951a3ae"><div class="ttname"><a href="../../d2/d0e/test__Algorithm_8cxx.html#acd183315357753acf4b1f6376951a3ae">bins</a></div><div class="ttdeci">const size_t bins</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/test__Algorithm_8cxx_source.html#l00038">test_Algorithm.cxx:38</a></div></div>
<div class="ttc" id="classStepTHnBase_html"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00025">StepTHn.h:25</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ae987d60598fe6dde326839c5664cfeb2"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ae987d60598fe6dde326839c5664cfeb2">CorrelationContainer::mZVtxMin</a></div><div class="ttdeci">Float_t mZVtxMin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00158">CorrelationContainer.h:158</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ad14b12ce9e9a9a7250ad3a1232e8b8c5"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ad14b12ce9e9a9a7250ad3a1232e8b8c5">CorrelationContainer::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01828">CorrelationContainer.cxx:1828</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aee5b17e8845a1f0784f0e26faf993605"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aee5b17e8845a1f0784f0e26faf993605">lists</a></div><div class="ttdeci">GLuint * lists</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l04942">glcorearb.h:4942</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_acfd1887afe12f996d69a56c661988e07"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#acfd1887afe12f996d69a56c661988e07">CorrelationContainer::mEtaMin</a></div><div class="ttdeci">Float_t mEtaMin</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00151">CorrelationContainer.h:151</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a24146069602d1ef802a4b9129bcd276a"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a24146069602d1ef802a4b9129bcd276a">CorrelationContainer::symmetrizepTBins</a></div><div class="ttdeci">void symmetrizepTBins()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01621">CorrelationContainer.cxx:1621</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727ca09bf8d52d21dc6b45040b82311c681a9"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727ca09bf8d52d21dc6b45040b82311c681a9">CorrelationContainer::kCFStepRealLeading</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00046">CorrelationContainer.h:46</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a891db0fbc9f44f9e862c20d41fc463da"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a891db0fbc9f44f9e862c20d41fc463da">CorrelationContainer::mSkipScaleMixedEvent</a></div><div class="ttdeci">Bool_t mSkipScaleMixedEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00165">CorrelationContainer.h:165</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a8325ae1927c7b78e5f716ed4711afde2"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a8325ae1927c7b78e5f716ed4711afde2">CorrelationContainer::getBinning</a></div><div class="ttdeci">Double_t * getBinning(const char *configuration, const char *tag, Int_t &amp;nBins)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00337">CorrelationContainer.cxx:337</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ac13953f2595de971f84cc44408aa5d81"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ac13953f2595de971f84cc44408aa5d81">CorrelationContainer::mCentralityMax</a></div><div class="ttdeci">Float_t mCentralityMax</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00157">CorrelationContainer.h:157</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6605a01f30230a158a38322d3d9a727caacf4e2fd1c1aca94c1ddd5dc6b63882f"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6605a01f30230a158a38322d3d9a727caacf4e2fd1c1aca94c1ddd5dc6b63882f">CorrelationContainer::kCFStepBiasStudy2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00048">CorrelationContainer.h:48</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a31eafbeac9256b106b6acfd78f305200"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a></div><div class="ttdeci">GLint GLsizei count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="classStepTHnBase_html_ae5dd430ea12eb71f9d0467dc09fe8d51"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html#ae5dd430ea12eb71f9d0467dc09fe8d51">StepTHnBase::getNSteps</a></div><div class="ttdeci">virtual Int_t getNSteps()=0</div></div>
<div class="ttc" id="classCorrelationContainer_html_a9fd12a5e163bd6516cedfcc3cb84830d"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a9fd12a5e163bd6516cedfcc3cb84830d">CorrelationContainer::getTrackingEfficiency</a></div><div class="ttdeci">TH2D * getTrackingEfficiency()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l01429">CorrelationContainer.cxx:1429</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a7c9b8a14cf21d93a0495cba044b1cb61"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a7c9b8a14cf21d93a0495cba044b1cb61">CorrelationContainer::getSumOfRatios</a></div><div class="ttdeci">TH2 * getSumOfRatios(CorrelationContainer *mixed, CorrelationContainer::CFStep step, Float_t ptLeadMin, Float_t ptLeadMax, Int_t multBinBegin, Int_t multBinEnd, Bool_t normalizePerTrigger=kTRUE, Int_t stepForMixed=-1, Int_t *trigger=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00716">CorrelationContainer.cxx:716</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a6c6dbdc2f7f32032b8adc4d0073703b6"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a6c6dbdc2f7f32032b8adc4d0073703b6">CorrelationContainer::mGetMultCacheOn</a></div><div class="ttdeci">Bool_t mGetMultCacheOn</div><div class="ttdoc">cache variable for getTrackEfficiency </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00169">CorrelationContainer.h:169</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_ab0dbabb6b43e7ccba1e9c0d5b9895672"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#ab0dbabb6b43e7ccba1e9c0d5b9895672">CorrelationContainer::mGetMultCache</a></div><div class="ttdeci">THnBase * mGetMultCache</div><div class="ttdoc">cache for getHistsZVtxMult function active </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d31/CorrelationContainer_8h_source.html#l00170">CorrelationContainer.h:170</a></div></div>
<div class="ttc" id="classCorrelationContainer_html_a95477e5f50612281d87baad69ee90622"><div class="ttname"><a href="../../d8/d8f/classCorrelationContainer.html#a95477e5f50612281d87baad69ee90622">CorrelationContainer::countEmptyBins</a></div><div class="ttdeci">void countEmptyBins(CorrelationContainer::CFStep step, Float_t ptLeadMin, Float_t ptLeadMax)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/def/CorrelationContainer_8cxx_source.html#l00550">CorrelationContainer.cxx:550</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_19b17cb436010079e3d017a29cb7858f.html">Analysis</a></li><li class="navelem"><a class="el" href="../../dir_8d04f135a1eb0fdc4d561ef87bbea216.html">Core</a></li><li class="navelem"><a class="el" href="../../dir_dbf3aa2601e44e8ec594b73561989030.html">src</a></li><li class="navelem"><a class="el" href="../../dc/def/CorrelationContainer_8cxx.html">CorrelationContainer.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:20 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
