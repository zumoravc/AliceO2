<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/ITSMFT/MFT/base/src/HeatExchanger.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d02/HeatExchanger_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HeatExchanger.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d02/HeatExchanger_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;TMath.h&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;TGeoManager.h&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;TGeoCompositeShape.h&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;TGeoTube.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;TGeoTorus.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;TGeoCone.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;TGeoBoolNode.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;TGeoBBox.h&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;TGeoVolume.h&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;FairLogger.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/de5/Detectors_2ITSMFT_2MFT_2base_2include_2MFTBase_2Constants_8h.html">MFTBase/Constants.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dd3/HeatExchanger_8h.html">MFTBase/HeatExchanger.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h.html">MFTBase/Geometry.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d4/d8c/namespaceo2_1_1mft.html">o2::mft</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<a class="code" href="../../de/d02/HeatExchanger_8cxx.html#aa16aaf72cae56d91fe44fa5d7da9205b">ClassImp</a>(<a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html">o2::mft::HeatExchanger</a>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a040e4801b659de23b93e1bef2c69be6d">   34</a></span>&#160;<a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a040e4801b659de23b93e1bef2c69be6d">HeatExchanger::HeatExchanger</a>()</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  : mHalfDisk(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    mHalfDiskRotation(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    mHalfDiskTransformation(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    mRWater(0.),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    mDRPipe(0.),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    mHeatExchangerThickness(0.),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    mCarbonThickness(0.),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    mHalfDiskGap(0.),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    mRohacellThickness(0.),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    mNPart(),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    mRMin(),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    mZPlan(),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    mSupportXDimensions(),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    mSupportYDimensions(),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    mLWater0(),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    mXPosition0(),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    mAngle0(),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    mRadius0(),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    mLpartial0(),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    mLWater1(),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    mXPosition1(),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    mAngle1(),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    mRadius1(),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    mLpartial1(),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    mLWater2(),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    mXPosition2(),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    mAngle2(),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    mRadius2(),</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    mLpartial2(),</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    mLWater3(),</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    mXPosition3(),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    mAngle3(),</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    mRadius3(),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    mLpartial3(),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    mRadius3fourth(),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    mAngle3fourth(),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    mBeta3fourth(),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    mLWater4(),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    mXPosition4(),</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    mAngle4(),</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    mRadius4(),</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    mLpartial4(),</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    mAngle4fifth(),</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    mRadius4fifth()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  mRWater = 0.1 / 2.; <span class="comment">// water pipe diameter 1 mm</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  mDRPipe = 0.0025;   <span class="comment">// water pipe thickness 25 microns</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// mHeatExchangerThickness = 1.398; // to get a 13.4 mm thickness for the rohacell... but the water pipes are not</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// inside it, then its density must be increased</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  mHeatExchangerThickness =</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">//1.4 + 2 * Geometry::sRohacell;  // sRohacell is used to link the rohacell thickness and the ladder positionning</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    1.398;                          <span class="comment">// sRohacell is used to link the rohacell thickness and the ladder positionning</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  mCarbonThickness = (0.0290) / 2.; <span class="comment">// half thickness of the carbon plate</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  initParameters();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a4dfa77d06183fe92ba05a669ff892b94">   94</a></span>&#160;<a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a040e4801b659de23b93e1bef2c69be6d">HeatExchanger::HeatExchanger</a>(Double_t rWater, Double_t dRPipe, Double_t heatExchangerThickness,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                             Double_t carbonThickness)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  : mHalfDisk(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    mHalfDiskRotation(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    mHalfDiskTransformation(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    mRWater(rWater),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    mDRPipe(dRPipe),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    mHeatExchangerThickness(heatExchangerThickness),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    mCarbonThickness(carbonThickness),</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    mHalfDiskGap(0.),</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    mRohacellThickness(0.),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    mNPart(),</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    mRMin(),</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    mZPlan(),</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    mSupportXDimensions(),</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    mSupportYDimensions(),</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    mXPosition0(),</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    mAngle0(),</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    mRadius0(),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    mLpartial0(),</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    mLWater1(),</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    mXPosition1(),</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    mAngle1(),</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    mRadius1(),</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    mLpartial1(),</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    mLWater2(),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    mXPosition2(),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    mAngle2(),</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    mRadius2(),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    mLpartial2(),</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    mLWater3(),</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    mXPosition3(),</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    mAngle3(),</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    mRadius3(),</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    mLpartial3(),</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    mRadius3fourth(),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    mAngle3fourth(),</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    mBeta3fourth(),</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    mLWater4(),</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    mXPosition4(),</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    mAngle4(),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    mRadius4(),</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    mLpartial4(),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    mAngle4fifth(),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    mRadius4fifth()</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  initParameters();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ade35869545ed319aa59f2edf1f64970b">  145</a></span>&#160;TGeoVolumeAssembly* <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ade35869545ed319aa59f2edf1f64970b">HeatExchanger::create</a>(Int_t half, Int_t disk)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  Info(<span class="stringliteral">&quot;Create&quot;</span>, Form(<span class="stringliteral">&quot;Creating HeatExchanger_%d_%d&quot;</span>, disk, half), 0, 0);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  mHalfDisk = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;HeatExchanger_%d_%d&quot;</span>, disk, half));</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">switch</span> (disk) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a6441c3ce84527f505e9a269c4a18a235">createHalfDisk0</a>(half);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a8a793144a61f8831e8b4354c4a1e6ba9">createHalfDisk1</a>(half);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">case</span> 2:</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a0f0f6a92546d5bcce67fe1ee937121ec">createHalfDisk2</a>(half);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">case</span> 3:</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a03933a5448c0ffb9fbc7f2c5f3295984">createHalfDisk3</a>(half);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">case</span> 4:</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#aef21f44735ff1c1ad41533757111d977">createHalfDisk4</a>(half);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  Info(<span class="stringliteral">&quot;Create&quot;</span>, Form(<span class="stringliteral">&quot;... done HeatExchanger_%d_%d&quot;</span>, disk, half), 0, 0);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> mHalfDisk;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">  175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">HeatExchanger::createManifold</a>(Int_t disk)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// Manifold1</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  Double_t cornerRadiusTop[5];</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  cornerRadiusTop[0] = 0.2;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  cornerRadiusTop[1] = 0.2;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  cornerRadiusTop[2] = 0.2;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  cornerRadiusTop[3] = 0.2;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  cornerRadiusTop[4] = 0.2;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  Double_t thicknessTop[5];</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  thicknessTop[0] = 0.2;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  thicknessTop[1] = 0.2;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  thicknessTop[2] = 0.2;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  thicknessTop[3] = 0.2;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  thicknessTop[4] = 0.2;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  Double_t thicknessMiddle[5];</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  thicknessMiddle[0] = 0.2;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  thicknessMiddle[1] = 0.2;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  thicknessMiddle[2] = 0.2;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  thicknessMiddle[3] = 0.2;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  thicknessMiddle[4] = 0.2;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  Double_t thicknessBottom[5];</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  thicknessBottom[0] = 0.6;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  thicknessBottom[1] = 0.6;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  thicknessBottom[2] = 0.6;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  thicknessBottom[3] = 0.6;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  thicknessBottom[4] = 0.6;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  Double_t widthTop1[5];</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  widthTop1[0] = 1.8;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  widthTop1[1] = 1.8;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  widthTop1[2] = 1.8;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  widthTop1[3] = 1.8;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  widthTop1[4] = 1.8;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  Double_t widthTop2;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  widthTop2 = widthTop1[disk] - 2 * cornerRadiusTop[disk];</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  Double_t widthMiddle1[5];</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  widthMiddle1[0] = 2.2;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  widthMiddle1[1] = 2.2;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  widthMiddle1[2] = 2.2;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  widthMiddle1[3] = 2.2;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  widthMiddle1[4] = 2.2;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  Double_t widthBottom1[5];</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  widthBottom1[0] = 1.32;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  widthBottom1[1] = 1.32;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  widthBottom1[2] = 1.32;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  widthBottom1[3] = 1.32;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  widthBottom1[4] = 1.32;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  Double_t lengthTop1[5];</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  lengthTop1[0] = 5.91;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  lengthTop1[1] = 5.91;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  lengthTop1[2] = 5.91;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">//lengthTop1[3] = 8.40;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">//lengthTop1[4] = 8.40;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  lengthTop1[3] = 5.91;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  lengthTop1[4] = 5.91;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  Double_t lengthTop2;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  lengthTop2 = cornerRadiusTop[disk];</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  Double_t lengthMiddle1[5];</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  lengthMiddle1[0] = 6.71;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  lengthMiddle1[1] = 6.71;</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  lengthMiddle1[2] = 6.71;</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">  //lengthMiddle1[3] = 9.20;</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  //lengthMiddle1[4] = 9.20;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  lengthMiddle1[3] = 6.71;</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  lengthMiddle1[4] = 6.71;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  lengthMiddle1[0] = mSupportYDimensions[0][0];</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  lengthMiddle1[1] = mSupportYDimensions[1][0];</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  lengthMiddle1[2] = mSupportYDimensions[2][0];</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  lengthMiddle1[3] = mSupportYDimensions[3][0];</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  lengthMiddle1[4] = mSupportYDimensions[4][0];</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  Double_t lengthBottom1;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  lengthBottom1 = lengthMiddle1[disk];</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keyword">auto</span>* dummy = <span class="keyword">new</span> TGeoBBox(<span class="stringliteral">&quot;dummy&quot;</span>, 0, 0, 0);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">auto</span>* Top1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;Top1MF%d&quot;</span>, disk), lengthTop1[disk] / 2, widthTop1[disk] / 2, thicknessTop[disk] / 2);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keyword">auto</span>* Top2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;Top2MF%d&quot;</span>, disk), lengthTop2 / 2, widthTop2 / 2, thicknessTop[disk] / 2);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">auto</span>* Top3 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;Top3MF%d&quot;</span>, disk), 0, cornerRadiusTop[disk], thicknessTop[disk] / 2);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keyword">auto</span>* Middle1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;Middle1MF%d&quot;</span>, disk), lengthMiddle1[disk] / 2, widthMiddle1[disk] / 2, thicknessMiddle[disk] / 2);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keyword">auto</span>* Bottom1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;Bottom1MF%d&quot;</span>, disk), lengthBottom1 / 2, widthBottom1[disk] / 2, thicknessBottom[disk] / 2);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  TGeoTranslation* tTop[7];</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  tTop[0] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop1MF%d&quot;</span>, disk), 0., 0., thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  tTop[1] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop2MF%d&quot;</span>, disk), lengthTop1[disk] / 2 + lengthTop2 / 2, 0., thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  tTop[2] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop3MF%d&quot;</span>, disk), lengthTop1[disk] / 2, widthTop1[disk] / 2 - cornerRadiusTop[disk], thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  tTop[3] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop4MF%d&quot;</span>, disk), lengthTop1[disk] / 2, -(widthTop1[disk] / 2 - cornerRadiusTop[disk]), thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  tTop[4] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop5MF%d&quot;</span>, disk), -(lengthTop1[disk] / 2 + lengthTop2 / 2), 0., thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  tTop[5] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop6MF%d&quot;</span>, disk), -lengthTop1[disk] / 2, widthTop1[disk] / 2 - cornerRadiusTop[disk], thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  tTop[6] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tTop7MF%d&quot;</span>, disk), -lengthTop1[disk] / 2, -(widthTop1[disk] / 2 - cornerRadiusTop[disk]), thicknessMiddle[disk] / 2 + thicknessTop[disk] / 2);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    tTop[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  TGeoTranslation* tMiddle1 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tMiddle1MF%d&quot;</span>, disk), 0, 0, 0);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  TGeoTranslation* tBottom1 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tBottom1MF%d&quot;</span>, disk), 0, 0, -(thicknessMiddle[disk] / 2 + thicknessBottom[disk] / 2));</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  tMiddle1-&gt;RegisterYourself();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  tBottom1-&gt;RegisterYourself();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  Double_t radiusPipeHole1[5];</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  radiusPipeHole1[0] = 0.192 / 2;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  radiusPipeHole1[1] = 0.192 / 2;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  radiusPipeHole1[2] = 0.192 / 2;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  radiusPipeHole1[3] = 0.192 / 2;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  radiusPipeHole1[4] = 0.192 / 2;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  Double_t radiusPipeHole2[5];</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  radiusPipeHole2[0] = 0.300 / 2;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  radiusPipeHole2[1] = 0.300 / 2;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  radiusPipeHole2[2] = 0.300 / 2;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  radiusPipeHole2[3] = 0.300 / 2;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  radiusPipeHole2[4] = 0.300 / 2;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  Double_t lengthPipeHole1[5];</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  lengthPipeHole1[0] = 0.95;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  lengthPipeHole1[1] = 0.95;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  lengthPipeHole1[2] = 0.95;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  lengthPipeHole1[3] = 0.95;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  lengthPipeHole1[4] = 0.95;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  Double_t lengthPipeHole2 = (thicknessTop[disk] + thicknessMiddle[disk] + thicknessBottom[disk]) - lengthPipeHole1[disk];</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  TGeoTube* Pipe1 = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;Pipe1&quot;</span>, 0, radiusPipeHole1[disk], lengthPipeHole1[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  TGeoCone* Pipe2 = <span class="keyword">new</span> TGeoCone(<span class="stringliteral">&quot;Pipe2&quot;</span>, lengthPipeHole2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, 0, radiusPipeHole1[disk], 0, radiusPipeHole2[disk]);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  TGeoTranslation* tPipePart1 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPipePart1MF%d&quot;</span>, disk), 0, 0, 0);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  TGeoTranslation* tPipePart2 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPipePart2MF%d&quot;</span>, disk), 0, 0, lengthPipeHole1[disk] / 2 + lengthPipeHole2 / 2);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  tPipePart1-&gt;RegisterYourself();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  tPipePart2-&gt;RegisterYourself();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  TGeoCompositeShape* shapePipe = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapePipeMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;Pipe1:tPipePart1MF%d + Pipe2:tPipePart2MF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  Int_t nPipeRow[5];</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  nPipeRow[0] = 3;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  nPipeRow[1] = 3;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  nPipeRow[2] = 3;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  nPipeRow[3] = 4;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  nPipeRow[4] = 5;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  TGeoTranslation* tPipe;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// The lengthBulge is a parameter for manifold2. This is required to tune the water pipe position.</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  Double_t lengthBulge[5];</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  lengthBulge[0] = 0.395;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  lengthBulge[1] = 0.395;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  lengthBulge[2] = 0.395;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">//lengthBulge[3] = 0.400;</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">//lengthBulge[4] = 0.400;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  lengthBulge[3] = 0.395;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  lengthBulge[4] = 0.395;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  Double_t offsetPipeRow[5][5] = {};</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  offsetPipeRow[0][0] = mXPosition0[0] - lengthBulge[0] / 2;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  offsetPipeRow[0][1] = mXPosition0[1] - lengthBulge[0] / 2;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  offsetPipeRow[0][2] = mXPosition0[2] - lengthBulge[0] / 2;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  offsetPipeRow[1][0] = mXPosition1[0] - lengthBulge[1] / 2;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  offsetPipeRow[1][1] = mXPosition1[1] - lengthBulge[1] / 2;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  offsetPipeRow[1][2] = mXPosition1[2] - lengthBulge[1] / 2;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  offsetPipeRow[2][0] = mXPosition2[0] - lengthBulge[2] / 2;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  offsetPipeRow[2][1] = mXPosition2[1] - lengthBulge[2] / 2;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  offsetPipeRow[2][2] = mXPosition2[2] - lengthBulge[2] / 2;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  offsetPipeRow[3][0] = mXPosition3[0] - lengthBulge[3] / 2;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  offsetPipeRow[3][1] = mXPosition3[1] - lengthBulge[3] / 2;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  offsetPipeRow[3][2] = mXPosition3[2] - lengthBulge[3] / 2;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  offsetPipeRow[3][3] = mXPosition3[3] - lengthBulge[3] / 2;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  offsetPipeRow[4][0] = mXPosition4[0] - lengthBulge[4] / 2;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  offsetPipeRow[4][1] = mXPosition4[1] - lengthBulge[4] / 2;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  offsetPipeRow[4][2] = mXPosition4[2] - lengthBulge[4] / 2;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  offsetPipeRow[4][3] = mXPosition4[3] - lengthBulge[4] / 2;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  offsetPipeRow[4][4] = mXPosition4[4] - lengthBulge[4] / 2;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">//for(Int_t ip=0; ip&lt;nPipeRow[disk]; ++ip) printf(&quot;Disk%d: %f \n&quot;,disk,offsetPipeRow[disk][ip]);</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  Double_t lengthTwoPipeCol[5];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  lengthTwoPipeCol[0] = mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  lengthTwoPipeCol[1] = mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  lengthTwoPipeCol[2] = mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  lengthTwoPipeCol[3] = mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  lengthTwoPipeCol[4] = mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  TString namePipe = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">for</span> (Int_t iPipeRow = 0; iPipeRow &lt; nPipeRow[disk]; iPipeRow++) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    tPipe = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPipe%dMF%d&quot;</span>, iPipeRow + 1, disk), lengthMiddle1[disk] / 2 - offsetPipeRow[disk][iPipeRow], 0, 0);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    tPipe-&gt;RegisterYourself();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (iPipeRow == nPipeRow[disk] - 1)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      namePipe += Form(<span class="stringliteral">&quot;shapePipeMF%d:tPipe%dMF%d&quot;</span>, disk, iPipeRow + 1, disk);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      namePipe += Form(<span class="stringliteral">&quot;shapePipeMF%d:tPipe%dMF%d +&quot;</span>, disk, iPipeRow + 1, disk);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  TGeoCompositeShape* posiPipeOneCol = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;posiPipeOneColMF%d&quot;</span>, disk), namePipe);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  tPipe = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPipeLeftMF%d&quot;</span>, disk), 0, -lengthTwoPipeCol[disk], 0);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  tPipe-&gt;RegisterYourself();</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  tPipe = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPipeRightMF%d&quot;</span>, disk), 0, lengthTwoPipeCol[disk], 0);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  tPipe-&gt;RegisterYourself();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  TGeoCompositeShape* shapePipes = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapePipesMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;posiPipeOneColMF%d:tPipeLeftMF%d + posiPipeOneColMF%d:tPipeRightMF%d&quot;</span>, disk, disk, disk, disk));</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  TGeoCompositeShape* shapeBase = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeBaseMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;Top1MF%d:tTop1MF%d + Top2MF%d:tTop2MF%d + Top3MF%d:tTop3MF%d + Top3MF%d:tTop4MF%d + Top2MF%d:tTop5MF%d + Top3MF%d:tTop6MF%d + Top3MF%d:tTop7MF%d + Middle1MF%d:tMiddle1MF%d + Bottom1MF%d:tBottom1MF%d&quot;</span>, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk));</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  TGeoTranslation* tBase = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tBaseMF%d&quot;</span>, disk), 0, 0, -((thicknessTop[disk] + thicknessMiddle[disk] + thicknessBottom[disk]) / 2 - (thicknessBottom[disk] + thicknessMiddle[disk] / 2)));</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  tBase-&gt;RegisterYourself();</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  TGeoTranslation* tPipes = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPiesMF%d&quot;</span>, disk), 0, 0, -((lengthPipeHole1[disk] + lengthPipeHole2) / 2 - lengthPipeHole1[disk] / 2));</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  tPipes-&gt;RegisterYourself();</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  TGeoCompositeShape* shapeManifold1 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeManifold1MF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;shapeBaseMF%d:tBaseMF%d - shapePipesMF%d:tPiesMF%d&quot;</span>, disk, disk, disk, disk));</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// Manifold2</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  Double_t lengthBody;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  lengthBody = lengthMiddle1[disk];</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  Double_t widthBody;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  widthBody = widthMiddle1[disk];</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  Double_t thicknessBody[5];</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  thicknessBody[0] = 0.8;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  thicknessBody[1] = 0.8;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  thicknessBody[2] = 0.8;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  thicknessBody[3] = 0.8;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  thicknessBody[4] = 0.8;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  Double_t cornerRadiusBodyBathtub1[5];</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  cornerRadiusBodyBathtub1[0] = cornerRadiusTop[disk];</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  cornerRadiusBodyBathtub1[1] = cornerRadiusTop[disk];</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  cornerRadiusBodyBathtub1[2] = cornerRadiusTop[disk];</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  cornerRadiusBodyBathtub1[3] = cornerRadiusTop[disk];</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  cornerRadiusBodyBathtub1[4] = cornerRadiusTop[disk];</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  Double_t lengthBodyBathtub1;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  lengthBodyBathtub1 = lengthTop1[disk];</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  Double_t widthBodyBathtub1;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  widthBodyBathtub1 = widthTop1[disk];</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  Double_t thicknessBodyBathtub1[5];</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  thicknessBodyBathtub1[0] = 0.4;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  thicknessBodyBathtub1[1] = 0.4;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  thicknessBodyBathtub1[2] = 0.4;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  thicknessBodyBathtub1[3] = 0.4;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  thicknessBodyBathtub1[4] = 0.4;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  Double_t lengthBodyBathtub2;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  lengthBodyBathtub2 = cornerRadiusBodyBathtub1[disk];</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  Double_t widthBodyBathtub2;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  widthBodyBathtub2 = widthTop1[disk] - 2 * cornerRadiusBodyBathtub1[disk];</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  Double_t thicknessBodyBathtub2[5];</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  thicknessBodyBathtub2[0] = 0.4;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  thicknessBodyBathtub2[1] = 0.4;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  thicknessBodyBathtub2[2] = 0.4;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  thicknessBodyBathtub2[3] = 0.4;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  thicknessBodyBathtub2[4] = 0.4;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keyword">auto</span>* coverBody1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBody1MF%d&quot;</span>, disk), lengthBody / 2, widthBody / 2, thicknessBody[disk] / 2);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keyword">auto</span>* coverBodyBathtub1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyBathtub1MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, widthBodyBathtub1 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                         thicknessBodyBathtub1[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keyword">auto</span>* coverBodyBathtub2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyBathtub2MF%d&quot;</span>, disk), lengthBodyBathtub2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, widthBodyBathtub2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                         thicknessBodyBathtub2[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keyword">auto</span>* coverBodyBathtub3 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;coverBodyBathtub3MF%d&quot;</span>, disk), 0, cornerRadiusBodyBathtub1[disk] + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                         thicknessBodyBathtub2[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  TGeoTranslation* tcoverBodyBathtub[7];</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  tcoverBodyBathtub[0] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub1MF%d&quot;</span>, disk), 0., 0., 0);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  tcoverBodyBathtub[1] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub2MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2 + lengthBodyBathtub2 / 2, 0., 0.);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  tcoverBodyBathtub[2] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub3MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2, widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk], 0.);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  tcoverBodyBathtub[3] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub4MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2, -(widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk]), 0.);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  tcoverBodyBathtub[4] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub5MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2 + lengthBodyBathtub2 / 2), 0., 0.);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  tcoverBodyBathtub[5] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub6MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2), widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk], 0.);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  tcoverBodyBathtub[6] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBathtub7MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2), -(widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk]), 0.);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    tcoverBodyBathtub[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  TGeoCompositeShape* shapeCoverBathtub = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeCoverBathtubMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;coverBodyBathtub1MF%d + coverBodyBathtub2MF%d:tcoverBodyBathtub2MF%d + coverBodyBathtub3MF%d:tcoverBodyBathtub3MF%d + coverBodyBathtub3MF%d:tcoverBodyBathtub4MF%d + coverBodyBathtub2MF%d:tcoverBodyBathtub5MF%d + coverBodyBathtub3MF%d:tcoverBodyBathtub6MF%d + coverBodyBathtub3MF%d:tcoverBodyBathtub7MF%d&quot;</span>, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk));</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  TGeoTranslation* tcoverBathtub = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBathtubMF%d&quot;</span>, disk), 0, 0, thicknessBody[disk] / 2 - thicknessBodyBathtub1[disk] / 2);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  tcoverBathtub-&gt;RegisterYourself();</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  Double_t cornerRadiusStep1[5];</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  cornerRadiusStep1[0] = 0.2;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  cornerRadiusStep1[1] = 0.2;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  cornerRadiusStep1[2] = 0.2;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  cornerRadiusStep1[3] = 0.2;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  cornerRadiusStep1[4] = 0.2;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  Double_t lengthStep1[5];</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  lengthStep1[0] = 5.61;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  lengthStep1[1] = 5.61;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  lengthStep1[2] = 5.61;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">//lengthStep1[3] = 7.90;</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">//lengthStep1[4] = 7.90;</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  lengthStep1[3] = 5.61;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  lengthStep1[4] = 5.61;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  Double_t widthStep1[5];</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  widthStep1[0] = 1.40;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  widthStep1[1] = 1.40;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  widthStep1[2] = 1.40;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  widthStep1[3] = 1.40;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  widthStep1[4] = 1.40;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  Double_t thicknessStep1[5];</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  thicknessStep1[0] = 0.2;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  thicknessStep1[1] = 0.2;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  thicknessStep1[2] = 0.2;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  thicknessStep1[3] = 0.2;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  thicknessStep1[4] = 0.2;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  Double_t lengthStep2;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  lengthStep2 = cornerRadiusStep1[disk];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  Double_t widthStep2;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  widthStep2 = widthStep1[disk] - cornerRadiusStep1[disk];</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  Double_t thicknessStep2;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  thicknessStep2 = thicknessStep1[disk];</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  Double_t angleStep3 = 45. / 180. * <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>();</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  Double_t lengthStep3[5];</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  lengthStep3[0] = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  lengthStep3[1] = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  lengthStep3[2] = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  lengthStep3[3] = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  lengthStep3[4] = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  Double_t widthStep3;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  widthStep3 = 0.3 / TMath::Cos(angleStep3);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  Double_t thicknessStep3;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  thicknessStep3 = thicknessStep1[disk];</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keyword">auto</span>* coverBodyStep1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyStep1MF%d&quot;</span>, disk), (lengthStep1[disk] - cornerRadiusStep1[disk]) / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, widthStep1[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                      thicknessStep1[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">auto</span>* coverBodyStep2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyStep2MF%d&quot;</span>, disk), lengthStep2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, widthStep2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                      thicknessStep2 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keyword">auto</span>* coverBodyStep3 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;coverBodyStep3MF%d&quot;</span>, disk), 0, cornerRadiusStep1[disk] + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                      thicknessStep1[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">auto</span>* coverBodyStep4 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyStep4MF%d&quot;</span>, disk), lengthStep3[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>, widthStep3 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                      thicknessStep3 / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  TGeoTranslation* tcoverBodyStep[4];</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  tcoverBodyStep[0] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyStep1MF%d&quot;</span>, disk), 0., 0., 0);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  tcoverBodyStep[1] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyStep2MF%d&quot;</span>, disk), (lengthStep1[disk] - cornerRadiusStep1[disk]) / 2 + lengthStep2 / 2, cornerRadiusStep1[disk] / 2, 0.);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  tcoverBodyStep[2] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyStep3MF%d&quot;</span>, disk), (lengthStep1[disk] - cornerRadiusStep1[disk]) / 2, -(widthStep1[disk] / 2 - cornerRadiusStep1[disk]), 0.);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  tcoverBodyStep[3] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyStep4MF%d&quot;</span>, disk), -(lengthStep1[disk] - lengthStep2) / 2, -widthStep1[disk] / 2, 0.);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  TGeoRotation* rcoverBodyStep = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rcoverBodyStep4MF%d&quot;</span>, disk), 45, 0, 0);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  rcoverBodyStep-&gt;RegisterYourself();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  TGeoCompositeShape* coverBodyStep4rotated = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;coverBodyStep4rotatedMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;dummy + coverBodyStep4MF%d:rcoverBodyStep4MF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    tcoverBodyStep[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  TGeoCompositeShape* shapeStep = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeStepMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;coverBodyStep1MF%d:tcoverBodyStep1MF%d + coverBodyStep2MF%d:tcoverBodyStep2MF%d + coverBodyStep3MF%d:tcoverBodyStep3MF%d + coverBodyStep4rotatedMF%d:tcoverBodyStep4MF%d&quot;</span>, disk, disk, disk, disk, disk, disk, disk, disk));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  TGeoTranslation* tcoverStep = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverStepMF%d&quot;</span>, disk), -(lengthMiddle1[disk] / 2 - (lengthStep1[disk] / 2 - lengthStep2 / 2)),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                                    (widthBody / 2 - widthStep1[disk] / 2), -(thicknessBody[disk] / 2 - thicknessStep1[disk] / 2));</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  tcoverStep-&gt;RegisterYourself();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  Double_t widthBulge[5];</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  widthBulge[0] = 0.50;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  widthBulge[1] = 0.50;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  widthBulge[2] = 0.50;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  widthBulge[3] = 0.50;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  widthBulge[4] = 0.50;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  Double_t thicknessBulge;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  thicknessBulge = thicknessBody[disk];</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  Double_t lengthBulgeSub[5];</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  lengthBulgeSub[0] = 0.2;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  lengthBulgeSub[1] = 0.2;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  lengthBulgeSub[2] = 0.2;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  lengthBulgeSub[3] = 0.2;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  lengthBulgeSub[4] = 0.2;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  Double_t widthBulgeSub;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  widthBulgeSub = lengthBulgeSub[disk];</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  Double_t thicknessBulgeSub[5];</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  thicknessBulgeSub[0] = 0.5;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  thicknessBulgeSub[1] = 0.5;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  thicknessBulgeSub[2] = 0.5;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  thicknessBulgeSub[3] = 0.5;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  thicknessBulgeSub[4] = 0.5;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keyword">auto</span>* coverBodyBulge = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyBulgeMF%d&quot;</span>, disk), lengthBulge[disk] / 2, widthBulge[disk] / 2, thicknessBulge / 2);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keyword">auto</span>* coverBodyBulgeSub = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;coverBodyBulgeSubMF%d&quot;</span>, disk), lengthBulgeSub[disk] / 2, widthBulgeSub / 2, thicknessBulgeSub[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  TGeoRotation* rcoverBodyBulgeSub = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rcoverBodyBulgeSubMF%d&quot;</span>, disk), 0, 90, 45);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  rcoverBodyBulgeSub-&gt;RegisterYourself();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  TGeoCompositeShape* coverBodyBulgeSubrotated = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;coverBodyBulgeSubrotatedMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;dummy + coverBodyBulgeSubMF%d:rcoverBodyBulgeSubMF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  TGeoTranslation* tcoverBodyBulgeSub = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyBulgeSubMF%d&quot;</span>, disk), -lengthBulge[disk] / 2, 0, 0);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  tcoverBodyBulgeSub-&gt;RegisterYourself();</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  TGeoCompositeShape* shapeBulge = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeBulgeMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;coverBodyBulgeMF%d - coverBodyBulgeSubrotatedMF%d:tcoverBodyBulgeSubMF%d&quot;</span>, disk, disk, disk));</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  TGeoTranslation* tcoverBulge = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBulgeMF%d&quot;</span>, disk), -(lengthMiddle1[disk] / 2 + lengthBulge[disk] / 2), -(widthBody / 2 - widthBulge[disk] / 2), 0);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  tcoverBulge-&gt;RegisterYourself();</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  Double_t holeRadius[5];</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  holeRadius[0] = 0.25; <span class="comment">//0.207;    overlap issue of thread, increase up to 0.25, fm</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  holeRadius[1] = 0.25; <span class="comment">//0.207;</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  holeRadius[2] = 0.25; <span class="comment">//0.207;</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  holeRadius[3] = 0.25; <span class="comment">//0.207;</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  holeRadius[4] = 0.25; <span class="comment">//0.207;</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  Double_t holeOffset[5];</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  holeOffset[0] = 0.65;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  holeOffset[1] = 0.65;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  holeOffset[2] = 0.65;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  holeOffset[3] = 0.65;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  holeOffset[4] = 0.65;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keyword">auto</span>* coverBodyHole = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;coverBodyHoleMF%d&quot;</span>, disk), 0, holeRadius[disk], thicknessBody[disk] / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  TGeoTranslation* tcoverBodyHole = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tcoverBodyHoleMF%d&quot;</span>, disk), lengthBody / 2 - holeOffset[disk], 0, 0);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  tcoverBodyHole-&gt;RegisterYourself();</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  TGeoCompositeShape* shapeManifold2 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeManifold2MF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;coverBody1MF%d - coverBodyHoleMF%d:tcoverBodyHoleMF%d - shapeCoverBathtubMF%d:tcoverBathtubMF%d - shapeStepMF%d:tcoverStepMF%d + shapeBulgeMF%d:tcoverBulgeMF%d&quot;</span>, disk, disk, disk, disk, disk, disk, disk, disk, disk));</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  TGeoRotation* rshapeManifold2 = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rshapeManifold2MF%d&quot;</span>, disk), 0, 180, 0);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  rshapeManifold2-&gt;RegisterYourself();</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  TGeoCompositeShape* shapeManifold2rotated = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeManifold2rotatedMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;dummy + shapeManifold2MF%d:rshapeManifold2MF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  TGeoTranslation* tshapeManifold1 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tshapeManifold1MF%d&quot;</span>, disk), 0, 0,</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                                         -((thicknessBody[disk] + thicknessMiddle[disk] + thicknessBottom[disk]) / 2 - (thicknessTop[disk] + thicknessMiddle[disk] + thicknessBottom[disk]) / 2));</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  tshapeManifold1-&gt;RegisterYourself();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  TGeoTranslation* tshapeManifold2 = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tshapeManifold2MF%d&quot;</span>, disk), 0, 0, (thicknessBody[disk] + thicknessMiddle[disk] + thicknessBottom[disk]) / 2 - thicknessBody[disk] / 2);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  tshapeManifold2-&gt;RegisterYourself();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  TGeoCompositeShape* shapeManifold = <span class="keyword">new</span> TGeoCompositeShape(<span class="stringliteral">&quot;shapeManifold&quot;</span>, Form(<span class="stringliteral">&quot;shapeManifold1MF%d:tshapeManifold1MF%d + shapeManifold2rotatedMF%d:tshapeManifold2MF%d&quot;</span>, disk, disk, disk, disk));</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// Manifold3</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  Double_t innerRadiusPlug1 = 0.600 / 2;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  Double_t outerRadiusPlug1 = 0.99 / 2;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  Double_t thicknessPlug1 = 0.105;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keyword">auto</span>* plug1 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug1MF%d&quot;</span>, disk), innerRadiusPlug1, outerRadiusPlug1, thicknessPlug1 / 2);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  Double_t innerRadiusPlug2 = innerRadiusPlug1;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  Double_t outerMinRadiusPlug2 = 0.94 / 2;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  Double_t outerMaxRadiusPlug2 = outerRadiusPlug1;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  Double_t thicknessPlug2 = 0.025;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keyword">auto</span>* plug2 = <span class="keyword">new</span> TGeoCone(Form(<span class="stringliteral">&quot;plug2MF%d&quot;</span>, disk), thicknessPlug2 / 2, innerRadiusPlug2, outerMaxRadiusPlug2, innerRadiusPlug2, outerMinRadiusPlug2);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  Double_t innerRadiusPlug3 = innerRadiusPlug1;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  Double_t outerRadiusPlug3 = 0.720 / 2;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  Double_t thicknessPlug3 = 0.086;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keyword">auto</span>* plug3 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug3MF%d&quot;</span>, disk), innerRadiusPlug3, outerRadiusPlug3, thicknessPlug3 / 2);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  Double_t innerRadiusPlug4 = innerRadiusPlug1;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  Double_t outerRadiusPlug4 = 1.100 / 2;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  Double_t thicknessPlug4 = 0.534;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keyword">auto</span>* plug4 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug4MF%d&quot;</span>, disk), innerRadiusPlug4, outerRadiusPlug4, thicknessPlug4 / 2);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  Double_t innerRadiusPlug5 = innerRadiusPlug1;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  Double_t outerRadiusPlug5 = 1.270 / 2;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  Double_t thicknessPlug5 = 0.700;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keyword">auto</span>* plug5main = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug5mainMF%d&quot;</span>, disk), innerRadiusPlug5, outerRadiusPlug5, thicknessPlug5 / 2);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">const</span> Int_t nSidePlug5 = 6;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  Double_t anglesubPlug5 = 360. / nSidePlug5 / 2. * <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>() / 180.;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  Double_t lengthPlug5sub = outerRadiusPlug5 * TMath::Cos(anglesubPlug5) * 2;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  Double_t widthPlug5sub = outerRadiusPlug5 * (1 - TMath::Cos(anglesubPlug5));</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  Double_t thicknessPlug5sub = thicknessPlug5 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">Geometry::sEpsilon</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keyword">auto</span>* plug5sub = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;plug5subMF%d&quot;</span>, disk), lengthPlug5sub / 2, widthPlug5sub / 2, thicknessPlug5sub / 2);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  TGeoTranslation* tPlug5sub = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug5subMF%d&quot;</span>, disk), 0, outerRadiusPlug5 * TMath::Cos(anglesubPlug5) + outerRadiusPlug5 * (1 - TMath::Cos(anglesubPlug5)) / 2, 0.);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  tPlug5sub-&gt;RegisterYourself();</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  TGeoCompositeShape* disPlug5sub = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;disPlug5subMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;dummy + plug5subMF%d:tPlug5subMF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  TGeoRotation* rPlug5sub[nSidePlug5];</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  TString namePlug5 = Form(<span class="stringliteral">&quot;plug5mainMF%d&quot;</span>, disk);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> = 0; <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> &lt; nSidePlug5; ++<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    rPlug5sub[<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>] = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rPlug5sub%dMF%d&quot;</span>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>, disk), <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> * 60, 0, 0);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    rPlug5sub[<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    namePlug5 += Form(<span class="stringliteral">&quot; - disPlug5subMF%d:rPlug5sub%dMF%d&quot;</span>, disk, <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>, disk);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  TGeoCompositeShape* plug5 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;plug5MF%d&quot;</span>, disk), namePlug5);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  Double_t innerRadiusPlug6 = 0;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  Double_t outerRadiusPlug6 = 0.780 / 2;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  Double_t thicknessPlug6 = 0.150;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keyword">auto</span>* plug6 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug6MF%d&quot;</span>, disk), innerRadiusPlug6, outerRadiusPlug6, thicknessPlug6 / 2);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  Double_t innerRadiusPlug7 = innerRadiusPlug6;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  Double_t outerMinRadiusPlug7 = 0.520 / 2;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  Double_t outerMaxRadiusPlug7 = 0.638 / 2;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  Double_t thicknessPlug7 = 0.050;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keyword">auto</span>* plug7 = <span class="keyword">new</span> TGeoCone(Form(<span class="stringliteral">&quot;plug7MF%d&quot;</span>, disk), thicknessPlug7 / 2, innerRadiusPlug7, outerMaxRadiusPlug7, innerRadiusPlug7, outerMinRadiusPlug7);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  Double_t innerRadiusPlug8 = innerRadiusPlug6;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  Double_t outerRadiusPlug8 = 0.413 / 2;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  Double_t thicknessPlug8 = 0.042;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keyword">auto</span>* plug8 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug8MF%d&quot;</span>, disk), innerRadiusPlug8, outerRadiusPlug8, thicknessPlug8 / 2);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  Double_t innerRadiusPlug9 = innerRadiusPlug6;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  Double_t outerMinRadiusPlug9 = outerRadiusPlug8;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  Double_t outerMaxRadiusPlug9 = 0.500 / 2;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  Double_t thicknessPlug9 = 0.040;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">auto</span>* plug9 = <span class="keyword">new</span> TGeoCone(Form(<span class="stringliteral">&quot;plug9MF%d&quot;</span>, disk), thicknessPlug9 / 2, innerRadiusPlug9, outerMinRadiusPlug9, innerRadiusPlug9, outerMaxRadiusPlug9);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  Double_t innerRadiusPlug10 = innerRadiusPlug6;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  Double_t outerRadiusPlug10 = outerMaxRadiusPlug9;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  Double_t thicknessPlug10 = 0.125;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keyword">auto</span>* plug10 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug10MF%d&quot;</span>, disk), innerRadiusPlug10, outerRadiusPlug10, thicknessPlug10 / 2);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  Double_t innerRadiusPlug11 = innerRadiusPlug6;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  Double_t outerMinRadiusPlug11 = outerRadiusPlug8;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  Double_t outerMaxRadiusPlug11 = 0.500 / 2;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  Double_t thicknessPlug11 = 0.043;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keyword">auto</span>* plug11 = <span class="keyword">new</span> TGeoCone(Form(<span class="stringliteral">&quot;plug11MF%d&quot;</span>, disk), thicknessPlug11 / 2, innerRadiusPlug11, outerMaxRadiusPlug11, innerRadiusPlug11, outerMinRadiusPlug11);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  Double_t innerRadiusPlug12 = 0;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  Double_t outerRadiusPlug12 = 0.289 / 2;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  Double_t thicknessPlug12 = thicknessPlug6 + thicknessPlug7 + thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keyword">auto</span>* plug12main = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;plug12mainMF%d&quot;</span>, disk), innerRadiusPlug12, outerRadiusPlug12, thicknessPlug12 / 2 + Geometry::sEpsilon);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keyword">const</span> Int_t nSidePlug12 = 6;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  Double_t anglesubPlug12 = 360. / nSidePlug12 / 2. * <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>() / 180.;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  Double_t lengthPlug12sub = outerRadiusPlug12 * TMath::Cos(anglesubPlug12) * 2;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  Double_t widthPlug12sub = outerRadiusPlug12 * (1 - TMath::Cos(anglesubPlug12));</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  Double_t thicknessPlug12sub = thicknessPlug12;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keyword">auto</span>* plug12sub = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;plug12subMF%d&quot;</span>, disk), lengthPlug12sub / 2, widthPlug12sub / 2, thicknessPlug12sub / 2 + Geometry::sEpsilon);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  TGeoTranslation* tPlug12sub = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug12subMF%d&quot;</span>, disk), 0, outerRadiusPlug12 * TMath::Cos(anglesubPlug12) + outerRadiusPlug12 * (1 - TMath::Cos(anglesubPlug12)) / 2, 0.);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  tPlug12sub-&gt;RegisterYourself();</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  TGeoCompositeShape* disPlug12sub = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;disPlug12subMF%d&quot;</span>, disk), Form(<span class="stringliteral">&quot;dummy + plug12subMF%d:tPlug12subMF%d&quot;</span>, disk, disk));</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  TGeoRotation* rPlug12sub[nSidePlug12];</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  TString namePlug12 = Form(<span class="stringliteral">&quot;plug12mainMF%d&quot;</span>, disk);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> = 0; <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> &lt; nSidePlug12; ++<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    rPlug12sub[<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>] = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rPlug12sub%dMF%d&quot;</span>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>, disk), <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a> * 60, 0, 0);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    rPlug12sub[<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    namePlug12 += Form(<span class="stringliteral">&quot; - disPlug12subMF%d:rPlug12sub%dMF%d&quot;</span>, disk, <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>, disk);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  TGeoCompositeShape* plug12 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;plug12MF%d&quot;</span>, disk), namePlug12);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  Double_t refposPlug = (thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 + thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11) / 2;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  TGeoTranslation* tPlug[12];</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  tPlug[0] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug1MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 / 2);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  tPlug[1] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug2MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 / 2);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  tPlug[2] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug3MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 / 2);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  tPlug[3] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug4MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 / 2);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  tPlug[4] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug5MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 / 2);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  tPlug[5] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug6MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 / 2);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  tPlug[6] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug7MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 / 2);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  tPlug[7] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug8MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 + thicknessPlug8 / 2);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  tPlug[8] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug9MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 + thicknessPlug8 + thicknessPlug9 / 2);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  tPlug[9] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug10MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 + thicknessPlug8 + thicknessPlug9 + thicknessPlug10 / 2);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  tPlug[10] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug11MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug6 + thicknessPlug7 + thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11 / 2);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  tPlug[11] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;tPlug12MF%d&quot;</span>, disk), 0, 0, -refposPlug + thicknessPlug1 + thicknessPlug2 + thicknessPlug3 + thicknessPlug4 + thicknessPlug5 + thicknessPlug12 / 2);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  TString namePlug = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 0; ipart &lt; 12; ++ipart) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    tPlug[ipart]-&gt;RegisterYourself();</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span> (ipart == 0)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      namePlug += Form(<span class="stringliteral">&quot;plug1MF%d:tPlug1MF%d&quot;</span>, disk, disk);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ipart == 11)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      namePlug += Form(<span class="stringliteral">&quot; - plug%dMF%d:tPlug%dMF%d&quot;</span>, ipart + 1, disk, ipart + 1, disk);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      namePlug += Form(<span class="stringliteral">&quot; + plug%dMF%d:tPlug%dMF%d&quot;</span>, ipart + 1, disk, ipart + 1, disk);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  TGeoCompositeShape* shapePlug = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapePlugMF%d&quot;</span>, disk), namePlug);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// Water</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  Double_t watherThickness[5];</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  watherThickness[0] = thicknessBodyBathtub2[0] - thicknessTop[0];</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  watherThickness[1] = thicknessBodyBathtub2[1] - thicknessTop[1];</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  watherThickness[2] = thicknessBodyBathtub2[2] - thicknessTop[2];</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  watherThickness[3] = thicknessBodyBathtub2[3] - thicknessTop[3];</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  watherThickness[4] = thicknessBodyBathtub2[4] - thicknessTop[4];</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keyword">auto</span>* water1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;water1MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2, widthBodyBathtub1 / 2, watherThickness[disk] / 2);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keyword">auto</span>* water2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;water2MF%d&quot;</span>, disk), lengthBodyBathtub2 / 2, widthBodyBathtub2 / 2, watherThickness[disk] / 2);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keyword">auto</span>* water3 = <span class="keyword">new</span> TGeoTube(Form(<span class="stringliteral">&quot;water3MF%d&quot;</span>, disk), 0, cornerRadiusBodyBathtub1[disk], watherThickness[disk] / 2);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  TGeoTranslation* twater[7];</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  twater[0] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater1MF%d&quot;</span>, disk), 0., 0., 0);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  twater[1] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater2MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2 + lengthBodyBathtub2 / 2, 0., 0.);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  twater[2] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater3MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2, widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk], 0.);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  twater[3] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater4MF%d&quot;</span>, disk), lengthBodyBathtub1 / 2, -(widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk]), 0.);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  twater[4] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater5MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2 + lengthBodyBathtub2 / 2), 0., 0.);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  twater[5] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater6MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2), widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk], 0.);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  twater[6] = <span class="keyword">new</span> TGeoTranslation(Form(<span class="stringliteral">&quot;twater7MF%d&quot;</span>, disk), -(lengthBodyBathtub1 / 2), -(widthBodyBathtub1 / 2 - cornerRadiusBodyBathtub1[disk]), 0.);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 7; ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    twater[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;RegisterYourself();</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  TGeoCompositeShape* shapeWater = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;shapeCoverBathtubMF%d&quot;</span>, disk),</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                                          Form(<span class="stringliteral">&quot;water1MF%d + water2MF%d:twater2MF%d + water3MF%d:twater3MF%d + water3MF%d:twater4MF%d + water2MF%d:twater5MF%d +&quot;</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                                                               <span class="stringliteral">&quot;water3MF%d:twater6MF%d + water3MF%d:twater7MF%d&quot;</span>,</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                                               disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk, disk));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  TGeoCombiTrans* transformation1 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  TGeoCombiTrans* transformation2 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  TGeoCombiTrans* transformationplug1 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  TGeoCombiTrans* transformationplug2 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  TGeoCombiTrans* transformationwater1 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  TGeoCombiTrans* transformationwater2 = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  TGeoMedium* kMedPeek = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_PEEK$&quot;</span>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  TGeoMedium* kMed_plug = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Alu$&quot;</span>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  TGeoMedium* kMed_Water = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  Double_t thicknessTotMF = (thicknessBody[disk] + thicknessMiddle[disk] + thicknessBottom[disk]);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  Double_t deltay = 0.2;     <span class="comment">// shift respect to the median plan of the MFT</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  Double_t mfX = 2.2;        <span class="comment">// width</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  Double_t mfY = 6.8 - 0.1;  <span class="comment">// height, decrease to avoid overlap with support, to be solved, fm</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  Double_t mfZ = 1.7 - 0.85; <span class="comment">// thickness, decrease to avoid overlap with support, to be solved, fm</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  Double_t fShift = 0;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (disk == 3 || disk == 4)</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    fShift = 0.015; <span class="comment">// to avoid overlap with the 2 curved water pipes on the 2 upstream chambers</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keyword">auto</span>* MF01 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MF%d1&quot;</span>, disk), shapeManifold, kMedPeek);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keyword">auto</span>* MFplug01 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MFplug%d1&quot;</span>, disk), shapePlug, kMed_plug);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keyword">auto</span>* MFwater01 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MFwater%d1&quot;</span>, disk), shapeWater, kMed_Water);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  TGeoRotation* rotation1 = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rotation1MF%d&quot;</span>, disk), 90, 90., 180.);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  transformation1 =</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift, mfY / 2 + deltay, mZPlan[disk], rotation1);</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                       mHalfDiskGap + mSupportYDimensions[disk][0] / 2, mZPlan[disk], rotation1);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  mHalfDisk-&gt;AddNode(MF01, 1, transformation1);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  TGeoRotation* rotationplug1 = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rotationplug1MF%d&quot;</span>, disk), -90, 90., 180.);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  transformationplug1 =</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift + thicknessTotMF/2 + refposPlug - (thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11),mfY / 2 + deltay - ((lengthBody)/2 - holeOffset[3]), mZPlan[disk], rotationplug1);</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2 + thicknessTotMF / 2 + refposPlug - (thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11),</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                       mHalfDiskGap + mSupportYDimensions[disk][0] / 2 - ((lengthBody) / 2 - holeOffset[3]), mZPlan[disk], rotationplug1);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  mHalfDisk-&gt;AddNode(MFplug01, 1, transformationplug1);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  transformationwater1 =</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift + (thicknessTotMF/2 - watherThickness[disk]/2) - (thicknessBody[disk] - thicknessTop[disk] - watherThickness[disk]),mfY / 2 + deltay, mZPlan[disk], rotation1);</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2 + (thicknessTotMF / 2 - watherThickness[disk] / 2) - (thicknessBody[disk] - thicknessTop[disk] - watherThickness[disk]),</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                       mHalfDiskGap + mSupportYDimensions[disk][0] / 2, mZPlan[disk], rotation1);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  mHalfDisk-&gt;AddNode(MFwater01, 1, transformationwater1);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">auto</span>* MF02 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MF%d2&quot;</span>, disk), shapeManifold, kMedPeek);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">auto</span>* MFplug02 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MFplug%d2&quot;</span>, disk), shapePlug, kMed_plug);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keyword">auto</span>* MFwater02 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;MFwater%d2&quot;</span>, disk), shapeWater, kMed_Water);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  TGeoRotation* rotation2 = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rotation2MF%d&quot;</span>, disk), 90, 90., 0.);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  transformation2 =</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift, -mfY / 2 - deltay, mZPlan[disk], rotation2);</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2,</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                       -mHalfDiskGap - mSupportYDimensions[disk][0] / 2, mZPlan[disk], rotation2);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  mHalfDisk-&gt;AddNode(MF02, 1, transformation2);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  TGeoRotation* rotationplug2 = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rotationplug1MF%d&quot;</span>, disk), -90, 90., 0.);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  transformationplug2 =</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift + thicknessTotMF/2 + refposPlug - (thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11),-mfY / 2 - deltay + ((lengthBody)/2 - holeOffset[3]), mZPlan[disk], rotationplug2);</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2 + thicknessTotMF / 2 + refposPlug - (thicknessPlug8 + thicknessPlug9 + thicknessPlug10 + thicknessPlug11),</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                       -mHalfDiskGap - mSupportYDimensions[disk][0] / 2 + ((lengthBody) / 2 - holeOffset[3]), mZPlan[disk], rotationplug2);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  mHalfDisk-&gt;AddNode(MFplug02, 1, transformationplug2);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  transformationwater2 =</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">//new TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + mfZ / 2 + fShift +  ((thicknessTotMF/2 - watherThickness[disk]/2) - (thicknessBody[disk] - thicknessTop[disk] - watherThickness[disk])),-mfY / 2 - deltay, mZPlan[disk], rotation2);</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2 + 0.1 + thicknessTotMF / 2 + ((thicknessTotMF / 2 - watherThickness[disk] / 2) - (thicknessBody[disk] - thicknessTop[disk] - watherThickness[disk])),</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                       -mHalfDiskGap - mSupportYDimensions[disk][0] / 2, mZPlan[disk], rotation2);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  mHalfDisk-&gt;AddNode(MFwater02, 1, transformationwater2);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a6441c3ce84527f505e9a269c4a18a235">  891</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a6441c3ce84527f505e9a269c4a18a235">HeatExchanger::createHalfDisk0</a>(Int_t half)</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  Int_t disk = 0;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">if</span> (half == Top)</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk0 top\n&quot;</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (half == Bottom)</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk0 bottom\n&quot;</span>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    printf(<span class="stringliteral">&quot;No valid option for MFT heat exchanger on disk0\n&quot;</span>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_CarbonFiber$&quot;</span>);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Rohacell&quot;</span>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Polyimide&quot;</span>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keyword">auto</span>* cooling = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;cooling_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  TGeoTranslation* translation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  TGeoCombiTrans* transformation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// **************************************** Water part ****************************************</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// ********************** Four parameters mLwater0, mRadius0, mAngle0, mLpartial0 *************</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  Double_t ivolume = 0; <span class="comment">// offset chamber 0</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  Double_t mRadiusCentralTore[4];</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  Double_t xPos0[4];</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  Double_t yPos0[4];</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    TGeoVolume* waterTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube1%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater0[itube] / 2.);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube] / 2.);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    cooling-&gt;AddNode(waterTube1, ivolume++, translation);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    TGeoVolume* waterTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus1%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius0[itube], 0., mRWater, 0., mAngle0[itube]);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius0[itube] + mXPosition0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube], rotation);</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    cooling-&gt;AddNode(waterTorus1, ivolume++, transformation);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    TGeoVolume* waterTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube2%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial0[itube] / 2.);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle0[itube], 0.);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    xPos0[itube] = mLWater0[itube] + mRadius0[itube] * TMath::Sin(mAngle0[itube] * TMath::DegToRad()) + mLpartial0[itube] / 2 * TMath::Cos(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    yPos0[itube] = mXPosition0[itube] + mRadius0[itube] * (1 - TMath::Cos(mAngle0[itube] * TMath::DegToRad())) + mLpartial0[itube] / 2 * TMath::Sin(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube], rotation);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    cooling-&gt;AddNode(waterTube2, ivolume++, transformation);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube] - mLpartial0[itube] / 2 * TMath::Cos(mAngle0[itube] * TMath::DegToRad())) / TMath::Sin(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    TGeoVolume* waterTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorusCentral%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadiusCentralTore[itube], 0., mRWater, -mAngle0[itube], 2. * mAngle0[itube]);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube] + mLpartial0[itube] / 2 * TMath::Sin(mAngle0[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle0[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    cooling-&gt;AddNode(waterTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    TGeoVolume* waterTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube3%d_D0_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial0[itube] / 2.);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle0[itube], 0.);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube]), rotation);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    cooling-&gt;AddNode(waterTube3, ivolume++, transformation);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    TGeoVolume* waterTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus2%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius0[itube], 0., mRWater, 0., mAngle0[itube]);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius0[itube] + mXPosition0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube]), rotation);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    cooling-&gt;AddNode(waterTorus2, ivolume++, transformation);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    TGeoVolume* waterTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube4%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater0[itube] / 2.);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube] / 2.));</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    cooling-&gt;AddNode(waterTube4, ivolume++, translation);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// **************************************************** Tube part ************************************************</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// ****************************** Four parameters mLwater0, mRadius0, mAngle0, mLpartial0 ************************</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    TGeoVolume* pipeTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube1%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater0[itube] / 2.);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube] / 2.);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    cooling-&gt;AddNode(pipeTube1, ivolume++, translation);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    TGeoVolume* pipeTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus1%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius0[itube], mRWater, mRWater + mDRPipe, 0., mAngle0[itube]);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius0[itube] + mXPosition0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube], rotation);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    cooling-&gt;AddNode(pipeTorus1, ivolume++, transformation);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    TGeoVolume* pipeTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube2%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial0[itube] / 2.);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle0[itube], 0.);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    xPos0[itube] = mLWater0[itube] + mRadius0[itube] * TMath::Sin(mAngle0[itube] * TMath::DegToRad()) + mLpartial0[itube] / 2 * TMath::Cos(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    yPos0[itube] = mXPosition0[itube] + mRadius0[itube] * (1 - TMath::Cos(mAngle0[itube] * TMath::DegToRad())) + mLpartial0[itube] / 2 * TMath::Sin(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube], 0., mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube], rotation);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    cooling-&gt;AddNode(pipeTube2, ivolume++, transformation);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube] - mLpartial0[itube] / 2 * TMath::Cos(mAngle0[itube] * TMath::DegToRad())) / TMath::Sin(mAngle0[itube] * TMath::DegToRad());</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    TGeoVolume* pipeTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorusCentral%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadiusCentralTore[itube], mRWater,</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                                                          mRWater + mDRPipe, -mAngle0[itube], 2. * mAngle0[itube]);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube] + mLpartial0[itube] / 2 * TMath::Sin(mAngle0[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle0[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    cooling-&gt;AddNode(pipeTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    TGeoVolume* pipeTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube3%d_D0_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial0[itube] / 2.);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle0[itube], 0.);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[itube]), rotation);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    cooling-&gt;AddNode(pipeTube3, ivolume++, transformation);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    TGeoVolume* pipeTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus2%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius0[itube], mRWater, mRWater + mDRPipe, 0., mAngle0[itube]);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius0[itube] + mXPosition0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube]), rotation);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    cooling-&gt;AddNode(pipeTorus2, ivolume++, transformation);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    TGeoVolume* pipeTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube4%d_D0_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater0[itube] / 2.);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition0[itube], 0., -(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[itube] / 2.));</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    cooling-&gt;AddNode(pipeTube4, ivolume++, translation);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// ***********************************************************************************************</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  transformation =</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 3, transformation);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  transformation =</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe + 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 4, transformation);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// **************************************** Carbon Plates ****************************************</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keyword">auto</span>* carbonPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;carbonPlate_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keyword">auto</span>* carbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;carbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0] / 2. + mMoreLength),</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                                   (mSupportYDimensions[disk][0]) / 2., mCarbonThickness);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keyword">auto</span>* t01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  t01-&gt;RegisterYourself();</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keyword">auto</span>* holeCarbon0 =</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], mCarbonThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keyword">auto</span>* t02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  t02-&gt;RegisterYourself();</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keyword">auto</span>* carbonhole0 = <span class="keyword">new</span> TGeoSubtraction(carbonBase0, holeCarbon0, t01, t02);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keyword">auto</span>* ch0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;Carbon0_D0_H%d&quot;</span>, half), carbonhole0);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keyword">auto</span>* carbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;carbonBaseWithHole_D0_H%d&quot;</span>, half), ch0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  carbonBaseWithHole0-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  carbonPlate-&gt;AddNode(carbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  Double_t ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    TGeoVolume* partCarbon =</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partCarbon_D0_H%d_%d&quot;</span>, half, ipart), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., mCarbonThickness);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    partCarbon-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    carbonPlate-&gt;AddNode(partCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2., rotation);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 3, transformation);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -deltaz / 2., rotation);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 4, transformation);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="comment">// **************************************** Glue Bwtween Carbon Plate and Rohacell Plate ****************************************</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  TGeoMedium* mGlueRohacellCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueRohacellCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueRohacellCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                               (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keyword">auto</span>* translation_gluRC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  translation_gluRC01-&gt;RegisterYourself();</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keyword">auto</span>* translation_gluRC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  translation_gluRC02-&gt;RegisterYourself();</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keyword">auto</span>* holeglueRohacellCarbon0 =</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueRohacellCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueRohacellCarbonBase0, holeglueRohacellCarbon0, translation_gluRC01, translation_gluRC02);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keyword">auto</span>* gRC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueRohacellCarbon0_D0_H%d&quot;</span>, half), glueRohacellCarbonhole0);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueRohacellCarbonWithHole_D0_H%d&quot;</span>, half), gRC0, mGlueRohacellCarbon);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  glueRohacellCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  glueRohacellCarbon-&gt;AddNode(glueRohacellCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  Double_t tyGRC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    TGeoVolume* partGlueRohacellCarbon =</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueRohacellCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueRohacellCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    partGlueRohacellCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGRC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    glueRohacellCarbon-&gt;AddNode(partGlueRohacellCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 3, transformation);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>), rotation);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 4, transformation);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <span class="comment">// **************************************** Kapton on Carbon Plate ****************************************</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  TGeoMedium* mKaptonOnCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Kapton$&quot;</span>);</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;kaptonOnCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0] / 2. + mMoreLength),</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                                           (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keyword">auto</span>* translation_KC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  translation_KC01-&gt;RegisterYourself();</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keyword">auto</span>* translation_KC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  translation_KC02-&gt;RegisterYourself();</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keyword">auto</span>* holekaptonOnCarbon0 =</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holekaptonOnCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(kaptonOnCarbonBase0, holekaptonOnCarbon0, translation_KC01, translation_KC02);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keyword">auto</span>* KC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half), kaptonOnCarbonhole0);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;kaptonOnCarbonWithHole_D0_H%d&quot;</span>, half), KC0, mKaptonOnCarbon);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  kaptonOnCarbonBaseWithHole0-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  kaptonOnCarbon-&gt;AddNode(kaptonOnCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  Double_t tyKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    TGeoVolume* partkaptonOnCarbonBase =</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partkaptonOnCarbon_D0_H%d_%d&quot;</span>, half, ipart), mKaptonOnCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    partkaptonOnCarbonBase-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    kaptonOnCarbon-&gt;AddNode(partkaptonOnCarbonBase, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  }</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2, rotation);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 3, transformation);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2), rotation);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 4, transformation);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// **************************************** Kapton glue on the carbon plate ****************************************</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  TGeoMedium* mGlueKaptonCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueKaptonCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueKaptonCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0] / 2. + mMoreLength),</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                             (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keyword">auto</span>* translation_gluKC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  translation_gluKC01-&gt;RegisterYourself();</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keyword">auto</span>* translation_gluKC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  translation_gluKC02-&gt;RegisterYourself();</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keyword">auto</span>* holeglueKaptonCarbon0 =</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueKaptonCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueKaptonCarbonBase0, holeglueKaptonCarbon0, translation_gluKC01, translation_gluKC02);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keyword">auto</span>* gKC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueKaptonCarbon0_D0_H%d&quot;</span>, half), glueKaptonCarbonhole0);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueKaptonCarbonWithHole_D0_H%d&quot;</span>, half), gKC0, mGlueKaptonCarbon);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  glueKaptonCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  glueKaptonCarbon-&gt;AddNode(glueKaptonCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  Double_t tyGKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    TGeoVolume* partGlueKaptonCarbon =</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueKaptonCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueKaptonCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    partGlueKaptonCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    glueKaptonCarbon-&gt;AddNode(partGlueKaptonCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>, rotation);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 3, transformation);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>), rotation);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 4, transformation);</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// **************************************** Rohacell Plate ****************************************</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keyword">auto</span>* rohacellPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;rohacellPlate_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keyword">auto</span>* rohacellBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2., (mSupportYDimensions[disk][0]) / 2.,</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                                     mRohacellThickness);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="keyword">auto</span>* holeRohacell0 = <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeRohacell0_D0_H%d&quot;</span>, half), 0., mRMin[disk], mRohacellThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// **************************************** GROOVES *************************************************</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">// Creating grooves or not according to sGrooves</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  Double_t diameter = 0.21; <span class="comment">// groove diameter</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  Double_t epsilon = 0.06;  <span class="comment">// outside shift of the goove</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  Int_t iCount = 0;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  Double_t mPosition[4];</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  TGeoCombiTrans* transfo[7][3];</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  TGeoTube* grooveTube[7][3];</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  TGeoTorus* grooveTorus[7][3];</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  TGeoSubtraction* rohacellBaseGroove[300];</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  TGeoCompositeShape* rohacellGroove[300];</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    grooveTube[0][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater0[igroove] / 2.);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    grooveTorus[1][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius0[igroove], 0., diameter, 0., mAngle0[igroove]);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    grooveTube[2][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial0[igroove] / 2.);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    grooveTorus[3][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;centralTorus&quot;</span>, mRadiusCentralTore[igroove], 0., diameter, -mAngle0[igroove], 2. * mAngle0[igroove]);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    grooveTube[4][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial0[igroove] / 2.);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    grooveTorus[5][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius0[igroove], 0., diameter, 0., mAngle0[igroove]);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    grooveTube[6][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater0[igroove] / 2.);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// Rotation matrix</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  TGeoRotation* rotationLinear = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  TGeoRotation* rotationSideTorusL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusLeft&quot;</span>, -90., 0., 0.);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  TGeoRotation* rotationSideTorusR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusRight&quot;</span>, 90., 180., 180.);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  TGeoRotation* rotationCentralTorus = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationCentralTorus&quot;</span>, 90., 0., 0.);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  TGeoRotation* rotationTiltedLinearR;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  TGeoRotation* rotationTiltedLinearL;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// Creating grooves</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        mPosition[igroove] = mXPosition0[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;          <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater0[igroove] / 2., mPosition[igroove],</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;              <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                rohacellBaseGroove[0] = <span class="keyword">new</span> TGeoSubtraction(rohacellBase0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                rohacellGroove[0] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell0Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[0]);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;              };</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater0[igroove], mRadius0[igroove] + mXPosition0[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;              rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle0[igroove], 90., 0.);</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos0[igroove], yPos0[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., yPos0[igroove] + mLpartial0[igroove] / 2 * TMath::Sin(mAngle0[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle0[igroove] * TMath::DegToRad()) - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;              rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle0[igroove], 90., 0.);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos0[igroove]), yPos0[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater0[igroove]), mRadius0[igroove] + mPosition[igroove],</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater0[igroove] / 2.), mPosition[igroove],</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;          }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell0Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;          iCount++;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        }</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="comment">// **************************************************************************************************</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// Passage du beam pipe</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  TGeoBoolNode* rohacellBase;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellBase0, holeRohacell0, t01, t02);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], holeRohacell0, t01, t02);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keyword">auto</span>* rh0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacellTore%d_D0_H%d&quot;</span>, 0, half), rohacellBase);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keyword">auto</span>* rohacellBaseWithHole = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;rohacellBaseWithHole_D0_H%d&quot;</span>, half), rh0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  TGeoVolume* partRohacell;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  rohacellBaseWithHole-&gt;SetLineColor(kGray);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  rohacellPlate-&gt;AddNode(rohacellBaseWithHole, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keyword">auto</span>* partRohacell0 =</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D0_H%d_%d&quot;</span>, half, ipart), mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                   mSupportYDimensions[disk][ipart] / 2., mRohacellThickness);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <span class="comment">// ************************ Creating grooves for the other parts of the rohacell plate **********************</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      Double_t mShift;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;          <span class="keywordflow">if</span> (ipart == 1) {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            mPosition[ipart] = mXPosition0[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;          };</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;          <span class="keywordflow">if</span> (ipart == 2) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            mPosition[ipart] = mXPosition0[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          };</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;          <span class="keywordflow">if</span> (ipart == 3) {</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            mPosition[ipart] = mXPosition0[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;          };</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;          <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;              <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[0][0] / 2. - mLWater0[igroove] / 2., mPosition[ipart], iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                  rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(partRohacell0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                  rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell0Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                };</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;              <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[igroove], mPosition[ipart] + mRadius0[igroove],</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;              <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle0[igroove], 90., 0.);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[igroove], yPos0[igroove] + mShift - mHalfDiskGap - mSupportYDimensions[disk][ipart] / 2., iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;              <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., mPosition[ipart] + yPos0[igroove] + mLpartial0[igroove] / 2 * TMath::Sin(mAngle0[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle0[igroove] * TMath::DegToRad()) - mXPosition0[igroove],</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;              <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle0[igroove], 90., 0.);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[0][0] / 2. + mMoreLength - xPos0[igroove]), yPos0[igroove] + mPosition[ipart] - mXPosition0[igroove],</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;              <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[igroove]), mRadius0[igroove] + mPosition[ipart],</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;              <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[0][0] / 2. + mMoreLength - mLWater0[igroove] / 2.), mPosition[ipart],</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;              <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;              }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;              rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell0Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            iCount++;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;          }</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D0_H%d_%d&quot;</span>, half, ipart), partRohacell0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D0_H%d_%d&quot;</span>, half, ipart), rohacellGroove[iCount - 1], <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    rohacellPlate-&gt;AddNode(partRohacell, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  }</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  mHalfDisk-&gt;AddNode(rohacellPlate, 1, transformation);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">createManifold</a>(disk);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a8a793144a61f8831e8b4354c4a1e6ba9"> 1385</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a8a793144a61f8831e8b4354c4a1e6ba9">HeatExchanger::createHalfDisk1</a>(Int_t half)</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;{</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  Int_t disk = 1;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordflow">if</span> (half == Top)</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk1 top\n&quot;</span>);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (half == Bottom)</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk1 bottom\n&quot;</span>);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    printf(<span class="stringliteral">&quot;No valid option for MFT heat exchanger on disk1\n&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="comment">// mCarbon   = gGeoManager-&gt;GetMedium(&quot;MFT_Carbon$&quot;);</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_CarbonFiber$&quot;</span>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Rohacell&quot;</span>);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Polyimide&quot;</span>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="keyword">auto</span>* cooling = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;cooling_D1_H%d&quot;</span>, half));</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="comment">//Float_t lMiddle = mSupportXDimensions[disk][0] - 2. * mLWater; // length of central part</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  TGeoTranslation* translation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  TGeoCombiTrans* transformation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">// **************************************** Water part ****************************************</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="comment">// ********************** Four parameters mLwater1, mRadius1, mAngle1, mLpartial1 *************</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  Double_t ivolume = 100; <span class="comment">// offset chamber 1</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  Double_t mRadiusCentralTore[4];</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  Double_t xPos1[4];</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  Double_t yPos1[4];</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    TGeoVolume* waterTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube1%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater1[itube] / 2.);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube] / 2.);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    cooling-&gt;AddNode(waterTube1, ivolume++, translation);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    TGeoVolume* waterTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus1%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius1[itube], 0., mRWater, 0., mAngle1[itube]);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius1[itube] + mXPosition1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube], rotation);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    cooling-&gt;AddNode(waterTorus1, ivolume++, transformation);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    TGeoVolume* waterTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube2%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial1[itube] / 2.);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle1[itube], 0.);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    xPos1[itube] = mLWater1[itube] + mRadius1[itube] * TMath::Sin(mAngle1[itube] * TMath::DegToRad()) + mLpartial1[itube] / 2 * TMath::Cos(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    yPos1[itube] = mXPosition1[itube] + mRadius1[itube] * (1 - TMath::Cos(mAngle1[itube] * TMath::DegToRad())) + mLpartial1[itube] / 2 * TMath::Sin(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube], rotation);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    cooling-&gt;AddNode(waterTube2, ivolume++, transformation);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube] - mLpartial1[itube] / 2 * TMath::Cos(mAngle1[itube] * TMath::DegToRad())) / TMath::Sin(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    TGeoVolume* waterTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorusCentral%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadiusCentralTore[itube], 0., mRWater,</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                                                           -mAngle1[itube], 2. * mAngle1[itube]);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube] + mLpartial1[itube] / 2 * TMath::Sin(mAngle1[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle1[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    cooling-&gt;AddNode(waterTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    TGeoVolume* waterTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube3%d_D1_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial1[itube] / 2.);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle1[itube], 0.);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube]), rotation);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    cooling-&gt;AddNode(waterTube3, ivolume++, transformation);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    TGeoVolume* waterTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus2%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius1[itube], 0., mRWater, 0., mAngle1[itube]);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius1[itube] + mXPosition1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube]), rotation);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    cooling-&gt;AddNode(waterTorus2, ivolume++, transformation);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    TGeoVolume* waterTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube4%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater1[itube] / 2.);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube] / 2.));</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    cooling-&gt;AddNode(waterTube4, ivolume++, translation);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="comment">// **************************************************** Tube part ************************************************</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// ****************************** Four parameters mLwater1, mRadius1, mAngle1, mLpartial1 ************************</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    TGeoVolume* pipeTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube1%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater1[itube] / 2.);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube] / 2.);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    cooling-&gt;AddNode(pipeTube1, ivolume++, translation);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    TGeoVolume* pipeTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus1%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius1[itube], mRWater, mRWater + mDRPipe, 0., mAngle1[itube]);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius1[itube] + mXPosition1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube], rotation);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    cooling-&gt;AddNode(pipeTorus1, ivolume++, transformation);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    TGeoVolume* pipeTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube2%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial1[itube] / 2.);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle1[itube], 0.);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    xPos1[itube] = mLWater1[itube] + mRadius1[itube] * TMath::Sin(mAngle1[itube] * TMath::DegToRad()) + mLpartial1[itube] / 2 * TMath::Cos(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    yPos1[itube] = mXPosition1[itube] + mRadius1[itube] * (1 - TMath::Cos(mAngle1[itube] * TMath::DegToRad())) + mLpartial1[itube] / 2 * TMath::Sin(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube], 0., mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube], rotation);</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    cooling-&gt;AddNode(pipeTube2, ivolume++, transformation);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube] - mLpartial1[itube] / 2 * TMath::Cos(mAngle1[itube] * TMath::DegToRad())) / TMath::Sin(mAngle1[itube] * TMath::DegToRad());</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    TGeoVolume* pipeTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorusCentral%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadiusCentralTore[itube], mRWater, mRWater + mDRPipe,</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                                          -mAngle1[itube], 2. * mAngle1[itube]);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube] + mLpartial1[itube] / 2 * TMath::Sin(mAngle1[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle1[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    cooling-&gt;AddNode(pipeTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    TGeoVolume* pipeTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube3%d_D1_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial1[itube] / 2.);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle1[itube], 0.);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[itube]), rotation);</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    cooling-&gt;AddNode(pipeTube3, ivolume++, transformation);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    TGeoVolume* pipeTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus2%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius1[itube], mRWater, mRWater + mDRPipe, 0., mAngle1[itube]);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius1[itube] + mXPosition1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube]), rotation);</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    cooling-&gt;AddNode(pipeTorus2, ivolume++, transformation);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    TGeoVolume* pipeTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube4%d_D1_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater1[itube] / 2.);</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition1[itube], 0., -(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[itube] / 2.));</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    cooling-&gt;AddNode(pipeTube4, ivolume++, translation);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  }</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// ***********************************************************************************************</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">//Double_t deltaz = mHeatExchangerThickness - mCarbonThickness * 2; // distance between pair of carbon plates</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="comment">//Double_t deltaz = mHeatExchangerThickness - Geometry::sKaptonOnCarbonThickness * 4 - 2 * mCarbonThickness;</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">//  if (half == Top) {</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">//    rotation = new TGeoRotation (&quot;rotation&quot;, 90., 90., 0.);</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">//    transformation = new TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz/2. - mCarbonThickness - mRWater - mDRPipe,</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">//    rotation);</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">//    mHalfDisk-&gt;AddNode(cooling, 1, transformation);</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">//    transformation = new TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz/2. + mCarbonThickness + mRWater + mDRPipe,</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">//    rotation);</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">//    mHalfDisk-&gt;AddNode(cooling, 2, transformation);</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="comment">//  else if (half == Bottom) {</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  transformation =</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">//new TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe, rotation);</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 0, transformation);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  transformation =</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">//new TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe, rotation);</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe + 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 1, transformation);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="comment">// **************************************** Carbon Plates ****************************************</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keyword">auto</span>* carbonPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;carbonPlate_D1_H%d&quot;</span>, half));</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keyword">auto</span>* carbonBase1 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;carbonBase1_D1_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                                   (mSupportYDimensions[disk][0]) / 2., mCarbonThickness);</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keyword">auto</span>* t11 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t11&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  t11-&gt;RegisterYourself();</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keyword">auto</span>* holeCarbon1 =</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeCarbon1_D1_H%d&quot;</span>, half), 0., mRMin[disk], mCarbonThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keyword">auto</span>* t12 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t12&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  t12-&gt;RegisterYourself();</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">// TGeoCompositeShape *cs1 = new TGeoCompositeShape(Form(&quot;Carbon1_D1_H%d&quot;,half),</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="comment">// Form(&quot;(carbonBase1_D1_H%d:t11)-(holeCarbon1_D1_H%d:t12)&quot;,half,half));</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keyword">auto</span>* carbonhole1 = <span class="keyword">new</span> TGeoSubtraction(carbonBase1, holeCarbon1, t11, t12);</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keyword">auto</span>* ch1 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;Carbon1_D1_H%d&quot;</span>, half), carbonhole1);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keyword">auto</span>* carbonBaseWithHole1 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;carbonBaseWithHole_D1_H%d&quot;</span>, half), ch1, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  carbonBaseWithHole1-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  carbonPlate-&gt;AddNode(carbonBaseWithHole1, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  Double_t ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    TGeoVolume* partCarbon =</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partCarbon_D1_H%d_%d&quot;</span>, half, ipart), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., mCarbonThickness);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    partCarbon-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    carbonPlate-&gt;AddNode(partCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  }</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">//  if (half == Top) {</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">//    rotation = new TGeoRotation (&quot;rotation&quot;, 0., 0., 0.);</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="comment">//    transformation = new TGeoCombiTrans(0., 0., deltaz/2., rotation);</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="comment">//    mHalfDisk-&gt;AddNode(carbonPlate, 1, transformation);</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="comment">//    transformation = new TGeoCombiTrans(0., 0., -deltaz/2., rotation);</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="comment">//    mHalfDisk-&gt;AddNode(carbonPlate, 2, transformation);</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">//  else if (half == Bottom) {</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2., rotation);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 0, transformation);</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -deltaz / 2., rotation);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 1, transformation);</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">//  }</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// **************************************** Glue Bwtween Carbon Plate and Rohacell Plate ****************************************</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  TGeoMedium* mGlueRohacellCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueRohacellCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueRohacellCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                                               (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keyword">auto</span>* translation_gluRC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  translation_gluRC01-&gt;RegisterYourself();</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keyword">auto</span>* translation_gluRC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  translation_gluRC02-&gt;RegisterYourself();</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="keyword">auto</span>* holeglueRohacellCarbon0 =</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueRohacellCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueRohacellCarbonBase0, holeglueRohacellCarbon0, translation_gluRC01, translation_gluRC02);</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keyword">auto</span>* gRC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueRohacellCarbon0_D0_H%d&quot;</span>, half), glueRohacellCarbonhole0);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueRohacellCarbonWithHole_D0_H%d&quot;</span>, half), gRC0, mGlueRohacellCarbon);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  glueRohacellCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  glueRohacellCarbon-&gt;AddNode(glueRohacellCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  Double_t tyGRC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    TGeoVolume* partGlueRohacellCarbon =</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueRohacellCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueRohacellCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    partGlueRohacellCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGRC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    glueRohacellCarbon-&gt;AddNode(partGlueRohacellCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  }</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 3, transformation);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>), rotation);</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 4, transformation);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="comment">// **************************************** Kapton on Carbon Plate ****************************************</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  TGeoMedium* mKaptonOnCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Kapton$&quot;</span>);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;kaptonOnCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                                           (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keyword">auto</span>* translation_KC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  translation_KC01-&gt;RegisterYourself();</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keyword">auto</span>* translation_KC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  translation_KC02-&gt;RegisterYourself();</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keyword">auto</span>* holekaptonOnCarbon0 =</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holekaptonOnCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(kaptonOnCarbonBase0, holekaptonOnCarbon0, translation_KC01, translation_KC02);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="keyword">auto</span>* KC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half), kaptonOnCarbonhole0);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;kaptonOnCarbonWithHole_D0_H%d&quot;</span>, half), KC0, mKaptonOnCarbon);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  kaptonOnCarbonBaseWithHole0-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  kaptonOnCarbon-&gt;AddNode(kaptonOnCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  Double_t tyKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    TGeoVolume* partkaptonOnCarbonBase =</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partkaptonOnCarbon_D0_H%d_%d&quot;</span>, half, ipart), mKaptonOnCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    partkaptonOnCarbonBase-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    kaptonOnCarbon-&gt;AddNode(partkaptonOnCarbonBase, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  }</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2, rotation);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 3, transformation);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2), rotation);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 4, transformation);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="comment">// **************************************** Kapton glue on the carbon plate ****************************************</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  TGeoMedium* mGlueKaptonCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueKaptonCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueKaptonCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                             (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keyword">auto</span>* translation_gluKC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  translation_gluKC01-&gt;RegisterYourself();</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keyword">auto</span>* translation_gluKC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  translation_gluKC02-&gt;RegisterYourself();</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="keyword">auto</span>* holeglueKaptonCarbon0 =</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueKaptonCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueKaptonCarbonBase0, holeglueKaptonCarbon0, translation_gluKC01, translation_gluKC02);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keyword">auto</span>* gKC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueKaptonCarbon0_D0_H%d&quot;</span>, half), glueKaptonCarbonhole0);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueKaptonCarbonWithHole_D0_H%d&quot;</span>, half), gKC0, mGlueKaptonCarbon);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  glueKaptonCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  glueKaptonCarbon-&gt;AddNode(glueKaptonCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  Double_t tyGKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    TGeoVolume* partGlueKaptonCarbon =</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueKaptonCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueKaptonCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    partGlueKaptonCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    glueKaptonCarbon-&gt;AddNode(partGlueKaptonCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  }</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>, rotation);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 3, transformation);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>), rotation);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 4, transformation);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="comment">// **************************************** Rohacell Plate ****************************************</span></div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="keyword">auto</span>* rohacellPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;rohacellPlate_D1_H%d&quot;</span>, half));</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keyword">auto</span>* rohacellBase1 = <span class="keyword">new</span> TGeoBBox(<span class="stringliteral">&quot;rohacellBase1&quot;</span>, (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                                     (mSupportYDimensions[disk][0]) / 2., mRohacellThickness);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <span class="keyword">auto</span>* holeRohacell1 = <span class="keyword">new</span> TGeoTubeSeg(<span class="stringliteral">&quot;holeRohacell1&quot;</span>, 0., mRMin[disk], mRohacellThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="comment">// **************************************** GROOVES *************************************************</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  Double_t diameter = 0.21; <span class="comment">// groove diameter</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  Double_t epsilon = 0.06;  <span class="comment">// outside shift of the goove</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  Int_t iCount = 0;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  Double_t mPosition[4];</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  TGeoCombiTrans* transfo[7][3];</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  TGeoTube* grooveTube[7][3];</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  TGeoTorus* grooveTorus[7][3];</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  TGeoSubtraction* rohacellBaseGroove[300];</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  TGeoCompositeShape* rohacellGroove[300];</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">//for (Int_t igroove = 0; igroove &lt; 3; igroove++) {</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    grooveTube[0][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater1[igroove] / 2.);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    grooveTorus[1][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius1[igroove], 0., diameter, 0., mAngle1[igroove]);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    grooveTube[2][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial1[igroove] / 2.);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    grooveTorus[3][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;centralTorus&quot;</span>, mRadiusCentralTore[igroove], 0., diameter, -mAngle1[igroove], 2. * mAngle1[igroove]);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    grooveTube[4][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial1[igroove] / 2.);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    grooveTorus[5][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius1[igroove], 0., diameter, 0., mAngle1[igroove]);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    grooveTube[6][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater1[igroove] / 2.);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  }</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="comment">// Rotation matrix</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  TGeoRotation* rotationLinear = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  TGeoRotation* rotationSideTorusL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusLeft&quot;</span>, -90., 0., 0.);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  TGeoRotation* rotationSideTorusR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusRight&quot;</span>, 90., 180., 180.);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  TGeoRotation* rotationCentralTorus = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationCentralTorus&quot;</span>, 90., 0., 0.);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  TGeoRotation* rotationTiltedLinearR;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  TGeoRotation* rotationTiltedLinearL;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="comment">// Creating grooves</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        mPosition[igroove] = mXPosition1[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;          <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[igroove] / 2., mPosition[igroove],</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;              <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                rohacellBaseGroove[0] = <span class="keyword">new</span> TGeoSubtraction(rohacellBase1, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                rohacellGroove[0] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell1Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[0]);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;              };</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[igroove], mRadius1[igroove] + mXPosition1[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;              rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle1[igroove], 90., 0.);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[igroove], yPos1[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., yPos1[igroove] + mLpartial1[igroove] / 2 * TMath::Sin(mAngle1[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle1[igroove] * TMath::DegToRad()) - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;              rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle1[igroove], 90., 0.);</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[1][0] / 2. + mMoreLength - xPos1[igroove]), yPos1[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[igroove]), mRadius1[igroove] + mPosition[igroove],</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[1][0] / 2. + mMoreLength - mLWater1[igroove] / 2.), mPosition[igroove],</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;          }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;          <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            }</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell1Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;          }</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          iCount++;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      }</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  }</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <span class="comment">// **************************************************************************************************</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <span class="comment">// Passage du beam pipe</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  TGeoBoolNode* rohacellBase;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellBase1, holeRohacell1, t11, t12);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], holeRohacell1, t11, t12);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keyword">auto</span>* rh1 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacellBase1_D1_H%d&quot;</span>, half), rohacellBase);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="keyword">auto</span>* rohacellBaseWithHole = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;rohacellBaseWithHole_D1_H%d&quot;</span>, half), rh1, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;  TGeoVolume* partRohacell;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  rohacellBaseWithHole-&gt;SetLineColor(kGray);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  rohacellPlate-&gt;AddNode(rohacellBaseWithHole, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keyword">auto</span>* partRohacell0 =</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D1_H%d_%d&quot;</span>, half, ipart), mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                   mSupportYDimensions[disk][ipart] / 2., mRohacellThickness);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="comment">// ***************** Creating grooves for the other parts of the rohacell plate **********************</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      Double_t mShift;</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;      <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;          <span class="keywordflow">if</span> (ipart == 1) {</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            mPosition[ipart] = mXPosition1[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;          };</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          <span class="keywordflow">if</span> (ipart == 2) {</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            mPosition[ipart] = mXPosition1[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;          };</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;          <span class="keywordflow">if</span> (ipart == 3) {</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            mPosition[ipart] = mXPosition1[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;          };</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;          <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;              <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater1[igroove] / 2., mPosition[ipart],</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                  rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(partRohacell0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                  rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell1Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                };</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;              <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater1[igroove], mPosition[ipart] + mRadius1[igroove],</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;              <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle1[igroove], 90., 0.);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos1[igroove], yPos1[igroove] + mShift - mHalfDiskGap - mSupportYDimensions[disk][ipart] / 2., iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;              <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., mPosition[ipart] + yPos1[igroove] + mLpartial1[igroove] / 2 * TMath::Sin(mAngle1[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle1[igroove] * TMath::DegToRad()) - mXPosition1[igroove],</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;              <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle1[igroove], 90., 0.);</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos1[igroove]), yPos1[igroove] + mPosition[ipart] - mXPosition1[igroove],</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;              <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater1[igroove]), mRadius1[igroove] + mPosition[ipart],</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;              <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater1[igroove] / 2.), mPosition[ipart],</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            }</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;              <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;              }</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;              rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell1Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            iCount++;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;          }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        }</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      }</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// **************************************************************************************************</span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D1_H%d_%d&quot;</span>, half, ipart), partRohacell0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D1_H%d_%d&quot;</span>, half, ipart), rohacellGroove[iCount - 1], <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    rohacellPlate-&gt;AddNode(partRohacell, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  }</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  mHalfDisk-&gt;AddNode(rohacellPlate, 2, transformation);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">createManifold</a>(disk);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l01920"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a0f0f6a92546d5bcce67fe1ee937121ec"> 1920</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a0f0f6a92546d5bcce67fe1ee937121ec">HeatExchanger::createHalfDisk2</a>(Int_t half)</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;{</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  Int_t disk = 2;</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordflow">if</span> (half == Top)</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk2 top\n&quot;</span>);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (half == Bottom)</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk2 bottom\n&quot;</span>);</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    printf(<span class="stringliteral">&quot;No valid option for MFT heat exchanger on disk2\n&quot;</span>);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_CarbonFiber$&quot;</span>);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Rohacell&quot;</span>);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Polyimide&quot;</span>);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keyword">auto</span>* cooling = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;cooling_D2_H%d&quot;</span>, half));</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  TGeoTranslation* translation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  TGeoCombiTrans* transformation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="comment">// **************************************** Water part ****************************************</span></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">// ********************** Four parameters mLwater2, mRadius2, mAngle2, mLpartial2 *************</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  Double_t ivolume = 200; <span class="comment">// offset chamber 2</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  Double_t mRadiusCentralTore[4];</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  Double_t xPos2[4];</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  Double_t yPos2[4];</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    TGeoVolume* waterTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube1%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater2[itube] / 2.);</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube] / 2.);</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    cooling-&gt;AddNode(waterTube1, ivolume++, translation);</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    TGeoVolume* waterTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus1%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius2[itube], 0., mRWater, 0., mAngle2[itube]);</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius2[itube] + mXPosition2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube], rotation);</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    cooling-&gt;AddNode(waterTorus1, ivolume++, transformation);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    TGeoVolume* waterTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube2%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial2[itube] / 2.);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle2[itube], 0.);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    xPos2[itube] = mLWater2[itube] + mRadius2[itube] * TMath::Sin(mAngle2[itube] * TMath::DegToRad()) + mLpartial2[itube] / 2 * TMath::Cos(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    yPos2[itube] = mXPosition2[itube] + mRadius2[itube] * (1 - TMath::Cos(mAngle2[itube] * TMath::DegToRad())) + mLpartial2[itube] / 2 * TMath::Sin(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube], rotation);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    cooling-&gt;AddNode(waterTube2, ivolume++, transformation);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube] - mLpartial2[itube] / 2 * TMath::Cos(mAngle2[itube] * TMath::DegToRad())) / TMath::Sin(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    TGeoVolume* waterTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorusCentral%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadiusCentralTore[itube], 0., mRWater, -mAngle2[itube], 2. * mAngle2[itube]);</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube] + mLpartial2[itube] / 2 * TMath::Sin(mAngle2[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle2[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    cooling-&gt;AddNode(waterTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    TGeoVolume* waterTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube3%d_D2_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial2[itube] / 2.);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle2[itube], 0.);</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube]), rotation);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    cooling-&gt;AddNode(waterTube3, ivolume++, transformation);</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    TGeoVolume* waterTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus2%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius2[itube], 0., mRWater, 0., mAngle2[itube]);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius2[itube] + mXPosition2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube]), rotation);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    cooling-&gt;AddNode(waterTorus2, ivolume++, transformation);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    TGeoVolume* waterTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube4%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater2[itube] / 2.);</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube] / 2.));</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    cooling-&gt;AddNode(waterTube4, ivolume++, translation);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  }</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <span class="comment">// **************************************************** Tube part ************************************************</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="comment">// ****************************** Four parameters mLwater2, mRadius2, mAngle2, mLpartial2 ************************</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 3; itube++) {</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    TGeoVolume* pipeTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube1%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater2[itube] / 2.);</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube] / 2.);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    cooling-&gt;AddNode(pipeTube1, ivolume++, translation);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    TGeoVolume* pipeTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus1%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius2[itube], mRWater, mRWater + mDRPipe, 0., mAngle2[itube]);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius2[itube] + mXPosition2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube], rotation);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    cooling-&gt;AddNode(pipeTorus1, ivolume++, transformation);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    TGeoVolume* pipeTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube2%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial2[itube] / 2.);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle2[itube], 0.);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    xPos2[itube] = mLWater2[itube] + mRadius2[itube] * TMath::Sin(mAngle2[itube] * TMath::DegToRad()) + mLpartial2[itube] / 2 * TMath::Cos(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    yPos2[itube] = mXPosition2[itube] + mRadius2[itube] * (1 - TMath::Cos(mAngle2[itube] * TMath::DegToRad())) + mLpartial2[itube] / 2 * TMath::Sin(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube], 0., mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube], rotation);</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    cooling-&gt;AddNode(pipeTube2, ivolume++, transformation);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube] - mLpartial2[itube] / 2 * TMath::Cos(mAngle2[itube] * TMath::DegToRad())) / TMath::Sin(mAngle2[itube] * TMath::DegToRad());</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    TGeoVolume* pipeTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorusCentral%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadiusCentralTore[itube], mRWater, mRWater + mDRPipe,</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                                                          -mAngle2[itube], 2. * mAngle2[itube]);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube] + mLpartial2[itube] / 2 * TMath::Sin(mAngle2[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle2[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    cooling-&gt;AddNode(pipeTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    TGeoVolume* pipeTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube3%d_D2_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial2[itube] / 2.);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle2[itube], 0.);</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - xPos2[itube]), rotation);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    cooling-&gt;AddNode(pipeTube3, ivolume++, transformation);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    TGeoVolume* pipeTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus2%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius2[itube], mRWater, mRWater + mDRPipe, 0., mAngle2[itube]);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius2[itube] + mXPosition2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube]), rotation);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    cooling-&gt;AddNode(pipeTorus2, ivolume++, transformation);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    TGeoVolume* pipeTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube4%d_D2_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater2[itube] / 2.);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition2[itube], 0., -(mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[itube] / 2.));</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    cooling-&gt;AddNode(pipeTube4, ivolume++, translation);</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  }</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// ***********************************************************************************************</span></div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  transformation =</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 3, transformation);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  transformation =</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe + 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 4, transformation);</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="comment">// **************************************** Carbon Plates ****************************************</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keyword">auto</span>* carbonPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;carbonPlate_D2_H%d&quot;</span>, half));</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keyword">auto</span>* carbonBase2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;carbonBase2_D2_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                                   (mSupportYDimensions[disk][0]) / 2., mCarbonThickness);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keyword">auto</span>* t21 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t21&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  t21-&gt;RegisterYourself();</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  <span class="keyword">auto</span>* holeCarbon2 =</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeCarbon2_D2_H%d&quot;</span>, half), 0., mRMin[disk], mCarbonThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keyword">auto</span>* t22 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t22&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  t22-&gt;RegisterYourself();</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="comment">// TGeoCompositeShape *cs2 = new</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="comment">// TGeoCompositeShape(Form(&quot;carbon2_D2_H%d&quot;,half),Form(&quot;(carbonBase2_D2_H%d:t21)-(holeCarbon2_D2_H%d:t22)&quot;,half,half));</span></div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <span class="keyword">auto</span>* carbonhole2 = <span class="keyword">new</span> TGeoSubtraction(carbonBase2, holeCarbon2, t21, t22);</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keyword">auto</span>* cs2 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;Carbon2_D2_H%d&quot;</span>, half), carbonhole2);</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keyword">auto</span>* carbonBaseWithHole2 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;carbonBaseWithHole_D2_H%d&quot;</span>, half), cs2, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  carbonBaseWithHole2-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  carbonPlate-&gt;AddNode(carbonBaseWithHole2, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  Double_t ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    TGeoVolume* partCarbon =</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partCarbon_D2_H%d_%d&quot;</span>, half, ipart), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., mCarbonThickness);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    partCarbon-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    carbonPlate-&gt;AddNode(partCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  }</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2., rotation);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 3, transformation);</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -deltaz / 2., rotation);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 4, transformation);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="comment">// **************************************** Glue Bwtween Carbon Plate and Rohacell Plate ****************************************</span></div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  TGeoMedium* mGlueRohacellCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueRohacellCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueRohacellCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                                               (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <span class="keyword">auto</span>* translation_gluRC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  translation_gluRC01-&gt;RegisterYourself();</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  <span class="keyword">auto</span>* translation_gluRC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  translation_gluRC02-&gt;RegisterYourself();</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="keyword">auto</span>* holeglueRohacellCarbon0 =</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueRohacellCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueRohacellCarbonBase0, holeglueRohacellCarbon0, translation_gluRC01, translation_gluRC02);</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="keyword">auto</span>* gRC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueRohacellCarbon0_D0_H%d&quot;</span>, half), glueRohacellCarbonhole0);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueRohacellCarbonWithHole_D0_H%d&quot;</span>, half), gRC0, mGlueRohacellCarbon);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  glueRohacellCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  glueRohacellCarbon-&gt;AddNode(glueRohacellCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  Double_t tyGRC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    TGeoVolume* partGlueRohacellCarbon =</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueRohacellCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueRohacellCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    partGlueRohacellCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGRC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    glueRohacellCarbon-&gt;AddNode(partGlueRohacellCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  }</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 3, transformation);</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>), rotation);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 4, transformation);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="comment">// **************************************** Kapton on Carbon Plate ****************************************</span></div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  TGeoMedium* mKaptonOnCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Kapton$&quot;</span>);</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;kaptonOnCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                                           (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="keyword">auto</span>* translation_KC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  translation_KC01-&gt;RegisterYourself();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keyword">auto</span>* translation_KC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  translation_KC02-&gt;RegisterYourself();</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keyword">auto</span>* holekaptonOnCarbon0 =</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holekaptonOnCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(kaptonOnCarbonBase0, holekaptonOnCarbon0, translation_KC01, translation_KC02);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keyword">auto</span>* KC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half), kaptonOnCarbonhole0);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;kaptonOnCarbonWithHole_D0_H%d&quot;</span>, half), KC0, mKaptonOnCarbon);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  kaptonOnCarbonBaseWithHole0-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  kaptonOnCarbon-&gt;AddNode(kaptonOnCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  Double_t tyKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    TGeoVolume* partkaptonOnCarbonBase =</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partkaptonOnCarbon_D0_H%d_%d&quot;</span>, half, ipart), mKaptonOnCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    partkaptonOnCarbonBase-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    kaptonOnCarbon-&gt;AddNode(partkaptonOnCarbonBase, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  }</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2, rotation);</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 3, transformation);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2), rotation);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 4, transformation);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="comment">// **************************************** Kapton glue on the carbon plate ****************************************</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  TGeoMedium* mGlueKaptonCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueKaptonCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueKaptonCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                                             (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="keyword">auto</span>* translation_gluKC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  translation_gluKC01-&gt;RegisterYourself();</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="keyword">auto</span>* translation_gluKC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  translation_gluKC02-&gt;RegisterYourself();</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="keyword">auto</span>* holeglueKaptonCarbon0 =</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueKaptonCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueKaptonCarbonBase0, holeglueKaptonCarbon0, translation_gluKC01, translation_gluKC02);</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keyword">auto</span>* gKC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueKaptonCarbon0_D0_H%d&quot;</span>, half), glueKaptonCarbonhole0);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueKaptonCarbonWithHole_D0_H%d&quot;</span>, half), gKC0, mGlueKaptonCarbon);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  glueKaptonCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  glueKaptonCarbon-&gt;AddNode(glueKaptonCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  Double_t tyGKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    TGeoVolume* partGlueKaptonCarbon =</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueKaptonCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueKaptonCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    partGlueKaptonCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    glueKaptonCarbon-&gt;AddNode(partGlueKaptonCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  }</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>, rotation);</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 3, transformation);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>), rotation);</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 4, transformation);</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;  <span class="comment">// **************************************** Rohacell Plate ****************************************</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="keyword">auto</span>* rohacellPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;rohacellPlate_D2_H%d&quot;</span>, half));</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keyword">auto</span>* rohacellBase2 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase2_D2_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                                     (mSupportYDimensions[disk][0]) / 2., mRohacellThickness);</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="keyword">auto</span>* holeRohacell2 =</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeRohacell2_D2_H%d&quot;</span>, half), 0., mRMin[disk], mRohacellThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="comment">// **************************************** GROOVES *************************************************</span></div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  Double_t diameter = 0.21; <span class="comment">// groove diameter</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  Double_t epsilon = 0.06;  <span class="comment">// outside shift of the goove</span></div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  Int_t iCount = 0;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  Double_t mPosition[4];</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  TGeoCombiTrans* transfo[7][3];</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  TGeoTube* grooveTube[7][3];</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  TGeoTorus* grooveTorus[7][3];</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  TGeoSubtraction* rohacellBaseGroove[300];</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  TGeoCompositeShape* rohacellGroove[300];</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) {</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    grooveTube[0][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater2[igroove] / 2.);</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    grooveTorus[1][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius2[igroove], 0., diameter, 0., mAngle2[igroove]);</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    grooveTube[2][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial2[igroove] / 2.);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    grooveTorus[3][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;centralTorus&quot;</span>, mRadiusCentralTore[igroove], 0., diameter, -mAngle2[igroove], 2. * mAngle2[igroove]);</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    grooveTube[4][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial2[igroove] / 2.);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    grooveTorus[5][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius2[igroove], 0., diameter, 0., mAngle2[igroove]);</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    grooveTube[6][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater2[igroove] / 2.);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  }</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;  <span class="comment">// Rotation matrix</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  TGeoRotation* rotationLinear = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  TGeoRotation* rotationSideTorusL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusLeft&quot;</span>, -90., 0., 0.);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  TGeoRotation* rotationSideTorusR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusRight&quot;</span>, 90., 180., 180.);</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  TGeoRotation* rotationCentralTorus = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationCentralTorus&quot;</span>, 90., 0., 0.);</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  TGeoRotation* rotationTiltedLinearR;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  TGeoRotation* rotationTiltedLinearL;</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="comment">// Creating grooves</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        mPosition[igroove] = mXPosition2[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;          <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove] / 2., mPosition[igroove],</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;              <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                rohacellBaseGroove[0] = <span class="keyword">new</span> TGeoSubtraction(rohacellBase2, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                rohacellGroove[0] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell2Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[0]);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;              };</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove], mRadius2[igroove] + mXPosition2[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;              rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle2[igroove], 90., 0.);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos2[igroove], yPos2[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., yPos2[igroove] + mLpartial2[igroove] / 2 * TMath::Sin(mAngle2[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle2[igroove] * TMath::DegToRad()) - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;              rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle2[igroove], 90., 0.);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos2[igroove]), yPos2[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove]), mRadius2[igroove] + mPosition[igroove],</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove] / 2.), mPosition[igroove],</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;          }</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;          <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            }</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell2Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;          }</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;          iCount++;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        }</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      }</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    }</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  }</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// **************************************************************************************************</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="comment">// Passage du beam pipe</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  TGeoBoolNode* rohacellBase;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellBase2, holeRohacell2, t21, t22);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], holeRohacell2, t21, t22);</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keyword">auto</span>* rh2 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacellTore%d_D2_H%d&quot;</span>, 0, half), rohacellBase);</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keyword">auto</span>* rohacellBaseWithHole = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;rohacellBaseWithHole_D2_H%d&quot;</span>, half), rh2, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  TGeoVolume* partRohacell;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  rohacellBaseWithHole-&gt;SetLineColor(kGray);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  rohacellPlate-&gt;AddNode(rohacellBaseWithHole, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keyword">auto</span>* partRohacell0 =</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;      <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D2_H%d_%d&quot;</span>, half, ipart), mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                   mSupportYDimensions[disk][ipart] / 2., mRohacellThickness);</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      <span class="comment">// ***************** Creating grooves for the other parts of the rohacell plate **********************</span></div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      Double_t mShift;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;        <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 3; igroove++) { <span class="comment">// 3 grooves</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;          <span class="keywordflow">if</span> (ipart == 1) {</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;            mPosition[ipart] = mXPosition2[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;          };</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;          <span class="keywordflow">if</span> (ipart == 2) {</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;            mPosition[ipart] = mXPosition2[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;          };</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;          <span class="keywordflow">if</span> (ipart == 3) {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            mPosition[ipart] = mXPosition2[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;          };</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;          <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;              <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove] / 2., mPosition[ipart],</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                  rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(partRohacell0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                  rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell2Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                };</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;              <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[2][0] / 2. + mMoreLength - mLWater2[igroove], mPosition[ipart] + mRadius2[igroove],</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;              <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle2[igroove], 90., 0.);</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos2[igroove], yPos2[igroove] + mShift - mHalfDiskGap - mSupportYDimensions[disk][ipart] / 2., iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;              <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., mPosition[ipart] + yPos2[igroove] + mLpartial2[igroove] / 2 * TMath::Sin(mAngle2[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle2[igroove] * TMath::DegToRad()) - mXPosition2[igroove],</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;              <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle2[igroove], 90., 0.);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - xPos2[igroove]), yPos2[igroove] + mPosition[ipart] - mXPosition2[igroove],</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;              <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove]), mRadius2[igroove] + mPosition[ipart],</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;              <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[disk][0] / 2. + mMoreLength - mLWater2[igroove] / 2.), mPosition[ipart],</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;            }</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;            <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;              <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;              }</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;              rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell2Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            }</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            iCount++;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;          }</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        }</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      }</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    }</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="comment">// **************************************************************************************************</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D1_H%d_%d&quot;</span>, half, ipart), partRohacell0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D1_H%d_%d&quot;</span>, half, ipart), rohacellGroove[iCount - 1], <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    rohacellPlate-&gt;AddNode(partRohacell, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  }</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  mHalfDisk-&gt;AddNode(rohacellPlate, 2, transformation);</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">createManifold</a>(disk);</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;}</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l02424"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a03933a5448c0ffb9fbc7f2c5f3295984"> 2424</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a03933a5448c0ffb9fbc7f2c5f3295984">HeatExchanger::createHalfDisk3</a>(Int_t half)</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;{</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  Int_t disk = 3;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="keywordflow">if</span> (half == Top)</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk3 top\n&quot;</span>);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (half == Bottom)</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk3 bottom\n&quot;</span>);</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    printf(<span class="stringliteral">&quot;No valid option for MFT heat exchanger on disk3\n&quot;</span>);</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_CarbonFiber$&quot;</span>);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Rohacell&quot;</span>);</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Polyimide&quot;</span>);</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="keyword">auto</span>* cooling = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;cooling_D3_H%d&quot;</span>, half));</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  TGeoTranslation* translation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  TGeoCombiTrans* transformation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="comment">// **************************************** Water part ****************************************</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <span class="comment">// ********************** Four parameters mLwater3, mRadius3, mAngle3, mLpartial3 *************</span></div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  Double_t ivolume = 300; <span class="comment">// offset chamber 3</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  Double_t mRadiusCentralTore[4];</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  Double_t xPos3[4];</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  Double_t yPos3[4];</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 4; itube++) {</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    TGeoVolume* waterTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube1%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater3[itube] / 2.);</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube] / 2.);</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    cooling-&gt;AddNode(waterTube1, ivolume++, translation);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    TGeoVolume* waterTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus1%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius3[itube], 0., mRWater, 0., mAngle3[itube]);</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius3[itube] + mXPosition3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube], rotation);</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    cooling-&gt;AddNode(waterTorus1, ivolume++, transformation);</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    TGeoVolume* waterTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube2%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial3[itube] / 2.);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle3[itube], 0.);</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    xPos3[itube] = mLWater3[itube] + mRadius3[itube] * TMath::Sin(mAngle3[itube] * TMath::DegToRad()) + mLpartial3[itube] / 2 * TMath::Cos(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    yPos3[itube] = mXPosition3[itube] + mRadius3[itube] * (1 - TMath::Cos(mAngle3[itube] * TMath::DegToRad())) + mLpartial3[itube] / 2 * TMath::Sin(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube], rotation);</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    cooling-&gt;AddNode(waterTube2, ivolume++, transformation);</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube] - mLpartial3[itube] / 2 * TMath::Cos(mAngle3[itube] * TMath::DegToRad())) / TMath::Sin(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    TGeoVolume* waterTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorusCentral%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadiusCentralTore[itube], 0., mRWater,</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                                                           -mAngle3[itube], 2. * mAngle3[itube]);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube] + mLpartial3[itube] / 2 * TMath::Sin(mAngle3[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle3[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    cooling-&gt;AddNode(waterTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    TGeoVolume* waterTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube3%d_D3_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial3[itube] / 2.);</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle3[itube], 0.);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube]), rotation);</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    cooling-&gt;AddNode(waterTube3, ivolume++, transformation);</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    TGeoVolume* waterTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus2%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius3[itube], 0., mRWater, 0., mAngle3[itube]);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius3[itube] + mXPosition3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube]), rotation);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    cooling-&gt;AddNode(waterTorus2, ivolume++, transformation);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    TGeoVolume* waterTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube4%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater3[itube] / 2.);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube] / 2.));</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    cooling-&gt;AddNode(waterTube4, ivolume++, translation);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  }</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="comment">// **************************************************** Tube part ************************************************</span></div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="comment">// ****************************** Four parameters mLwater3, mRadius3, mAngle3, mLpartial3 ************************</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 4; itube++) {</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    TGeoVolume* pipeTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube1%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater3[itube] / 2.);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube] / 2.);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    cooling-&gt;AddNode(pipeTube1, ivolume++, translation);</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    TGeoVolume* pipeTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus1%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius3[itube], mRWater, mRWater + mDRPipe, 0., mAngle3[itube]);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius3[itube] + mXPosition3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube], rotation);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;    cooling-&gt;AddNode(pipeTorus1, ivolume++, transformation);</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    TGeoVolume* pipeTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube2%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial3[itube] / 2.);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle3[itube], 0.);</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    xPos3[itube] = mLWater3[itube] + mRadius3[itube] * TMath::Sin(mAngle3[itube] * TMath::DegToRad()) + mLpartial3[itube] / 2 * TMath::Cos(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    yPos3[itube] = mXPosition3[itube] + mRadius3[itube] * (1 - TMath::Cos(mAngle3[itube] * TMath::DegToRad())) + mLpartial3[itube] / 2 * TMath::Sin(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube], 0., mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube], rotation);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    cooling-&gt;AddNode(pipeTube2, ivolume++, transformation);</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube] - mLpartial3[itube] / 2 * TMath::Cos(mAngle3[itube] * TMath::DegToRad())) / TMath::Sin(mAngle3[itube] * TMath::DegToRad());</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    TGeoVolume* pipeTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorusCentral%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadiusCentralTore[itube], mRWater, mRWater + mDRPipe,</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                                                          -mAngle3[itube], 2. * mAngle3[itube]);</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube] + mLpartial3[itube] / 2 * TMath::Sin(mAngle3[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle3[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    cooling-&gt;AddNode(pipeTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    TGeoVolume* pipeTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube3%d_D3_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial3[itube] / 2.);</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle3[itube], 0.);</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[itube]), rotation);</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    cooling-&gt;AddNode(pipeTube3, ivolume++, transformation);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    TGeoVolume* pipeTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus2%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius3[itube], mRWater, mRWater + mDRPipe, 0., mAngle3[itube]);</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius3[itube] + mXPosition3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube]), rotation);</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    cooling-&gt;AddNode(pipeTorus2, ivolume++, transformation);</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    TGeoVolume* pipeTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube4%d_D3_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater3[itube] / 2.);</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition3[itube], 0., -(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[itube] / 2.));</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    cooling-&gt;AddNode(pipeTube4, ivolume++, translation);</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  }</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">// ***********************************************************************************************</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  transformation =</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 3, transformation);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;  transformation =</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe + 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 4, transformation);</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="comment">// **************************************** Carbon Plates ****************************************</span></div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="keyword">auto</span>* carbonPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;carbonPlate_D3_H%d&quot;</span>, half));</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="keyword">auto</span>* carbonBase3 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;carbonBase3_D3_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                                   (mSupportYDimensions[disk][0]) / 2., mCarbonThickness);</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keyword">auto</span>* t31 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t31&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  t31-&gt;RegisterYourself();</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  <span class="keyword">auto</span>* holeCarbon3 =</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeCarbon3_D3_H%d&quot;</span>, half), 0., mRMin[disk], mCarbonThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="keyword">auto</span>* t32 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t32&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  t32-&gt;RegisterYourself();</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="keyword">auto</span>* carbonhole3 = <span class="keyword">new</span> TGeoSubtraction(carbonBase3, holeCarbon3, t31, t32);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="keyword">auto</span>* cs3 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;Carbon3_D3_H%d&quot;</span>, half), carbonhole3);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="keyword">auto</span>* carbonBaseWithHole3 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;carbonBaseWithHole_D3_H%d&quot;</span>, half), cs3, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>);</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  carbonBaseWithHole3-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  carbonPlate-&gt;AddNode(carbonBaseWithHole3, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  Double_t ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    TGeoVolume* partCarbon =</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partCarbon_D3_H%d_%d&quot;</span>, half, ipart), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., mCarbonThickness);</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    partCarbon-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    carbonPlate-&gt;AddNode(partCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  }</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2., rotation);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 3, transformation);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -deltaz / 2., rotation);</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 4, transformation);</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="comment">// **************************************** Glue Bwtween Carbon Plate and Rohacell Plate ****************************************</span></div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  TGeoMedium* mGlueRohacellCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueRohacellCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueRohacellCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                                               (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <span class="keyword">auto</span>* translation_gluRC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  translation_gluRC01-&gt;RegisterYourself();</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <span class="keyword">auto</span>* translation_gluRC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  translation_gluRC02-&gt;RegisterYourself();</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keyword">auto</span>* holeglueRohacellCarbon0 =</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueRohacellCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueRohacellCarbonBase0, holeglueRohacellCarbon0, translation_gluRC01, translation_gluRC02);</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keyword">auto</span>* gRC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueRohacellCarbon0_D0_H%d&quot;</span>, half), glueRohacellCarbonhole0);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueRohacellCarbonWithHole_D0_H%d&quot;</span>, half), gRC0, mGlueRohacellCarbon);</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  glueRohacellCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  glueRohacellCarbon-&gt;AddNode(glueRohacellCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  Double_t tyGRC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    TGeoVolume* partGlueRohacellCarbon =</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueRohacellCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueRohacellCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    partGlueRohacellCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGRC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    glueRohacellCarbon-&gt;AddNode(partGlueRohacellCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  }</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 3, transformation);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>), rotation);</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 4, transformation);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="comment">// **************************************** Kapton on Carbon Plate ****************************************</span></div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  TGeoMedium* mKaptonOnCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Kapton$&quot;</span>);</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;kaptonOnCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                           (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keyword">auto</span>* translation_KC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  translation_KC01-&gt;RegisterYourself();</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <span class="keyword">auto</span>* translation_KC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  translation_KC02-&gt;RegisterYourself();</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keyword">auto</span>* holekaptonOnCarbon0 =</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holekaptonOnCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(kaptonOnCarbonBase0, holekaptonOnCarbon0, translation_KC01, translation_KC02);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keyword">auto</span>* KC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half), kaptonOnCarbonhole0);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;kaptonOnCarbonWithHole_D0_H%d&quot;</span>, half), KC0, mKaptonOnCarbon);</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  kaptonOnCarbonBaseWithHole0-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  kaptonOnCarbon-&gt;AddNode(kaptonOnCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  Double_t tyKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    TGeoVolume* partkaptonOnCarbonBase =</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partkaptonOnCarbon_D0_H%d_%d&quot;</span>, half, ipart), mKaptonOnCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    partkaptonOnCarbonBase-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    kaptonOnCarbon-&gt;AddNode(partkaptonOnCarbonBase, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  }</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2, rotation);</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 3, transformation);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2), rotation);</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 4, transformation);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="comment">// **************************************** Kapton glue on the carbon plate ****************************************</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  TGeoMedium* mGlueKaptonCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueKaptonCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueKaptonCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                                             (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  <span class="keyword">auto</span>* translation_gluKC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  translation_gluKC01-&gt;RegisterYourself();</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="keyword">auto</span>* translation_gluKC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  translation_gluKC02-&gt;RegisterYourself();</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keyword">auto</span>* holeglueKaptonCarbon0 =</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueKaptonCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueKaptonCarbonBase0, holeglueKaptonCarbon0, translation_gluKC01, translation_gluKC02);</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keyword">auto</span>* gKC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueKaptonCarbon0_D0_H%d&quot;</span>, half), glueKaptonCarbonhole0);</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueKaptonCarbonWithHole_D0_H%d&quot;</span>, half), gKC0, mGlueKaptonCarbon);</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  glueKaptonCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  glueKaptonCarbon-&gt;AddNode(glueKaptonCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  Double_t tyGKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    TGeoVolume* partGlueKaptonCarbon =</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueKaptonCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueKaptonCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    partGlueKaptonCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    glueKaptonCarbon-&gt;AddNode(partGlueKaptonCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;  }</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>, rotation);</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 3, transformation);</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>), rotation);</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 4, transformation);</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <span class="comment">// **************************************** Rohacell Plate ****************************************</span></div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  <span class="keyword">auto</span>* rohacellPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;rohacellPlate_D3_H%d&quot;</span>, half));</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="keyword">auto</span>* rohacellBase3 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase3_D3_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2., (mSupportYDimensions[disk][0]) / 2., mRohacellThickness);</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <span class="keyword">auto</span>* holeRohacell3 =</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeRohacell3_D3_H%d&quot;</span>, half), 0., mRMin[disk], mRohacellThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="comment">// **************************************** GROOVES *************************************************</span></div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="comment">// Creating grooves or not according to sGrooves</span></div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;  Double_t diameter = 0.21; <span class="comment">// groove diameter</span></div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  Double_t epsilon = 0.06;  <span class="comment">// outside shift of the goove</span></div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  Int_t iCount = 0;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;  Double_t mPosition[4];</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;  TGeoCombiTrans* transfo[7][4];</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  TGeoTube* grooveTube[7][4];</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  TGeoTorus* grooveTorus[7][4];</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  TGeoSubtraction* rohacellBaseGroove[300];</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  TGeoCompositeShape* rohacellGroove[300];</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;  <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) {</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    grooveTube[0][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater3[igroove] / 2.);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    grooveTorus[1][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius3[igroove], 0., diameter, 0., mAngle3[igroove]);</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    grooveTube[2][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial3[igroove] / 2.);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    grooveTorus[3][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;centralTorus&quot;</span>, mRadiusCentralTore[igroove], 0., diameter, -mAngle3[igroove], 2. * mAngle3[igroove]);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    grooveTube[4][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial3[igroove] / 2.);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    grooveTorus[5][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius3[igroove], 0., diameter, 0., mAngle3[igroove]);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    grooveTube[6][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater3[igroove] / 2.);</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  }</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="comment">// Rotation matrix</span></div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  TGeoRotation* rotationLinear = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  TGeoRotation* rotationSideTorusL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusLeft&quot;</span>, -90., 0., 0.);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  TGeoRotation* rotationSideTorusR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusRight&quot;</span>, 90., 180., 180.);</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  TGeoRotation* rotationCentralTorus = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationCentralTorus&quot;</span>, 90., 0., 0.);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  TGeoRotation* rotationTiltedLinearR;</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  TGeoRotation* rotationTiltedLinearL;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  <span class="comment">// Creating grooves</span></div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) { <span class="comment">// 4 grooves</span></div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        mPosition[igroove] = mXPosition3[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;          <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove] / 2., mPosition[igroove], iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;              <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                rohacellBaseGroove[0] = <span class="keyword">new</span> TGeoSubtraction(rohacellBase3, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                rohacellGroove[0] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell3Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[0]);</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;              };</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove], mRadius3[igroove] + mXPosition3[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;              rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle3[igroove], 90., 0.);</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[igroove], yPos3[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., yPos3[igroove] + mLpartial3[igroove] / 2 * TMath::Sin(mAngle3[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle3[igroove] * TMath::DegToRad()) - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;            <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;              rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle3[igroove], 90., 0.);</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[igroove]), yPos3[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;            <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove]), mRadius3[igroove] + mPosition[igroove],</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;            <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove] / 2.), mPosition[igroove],</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;          }</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;          <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;            <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;              rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;            }</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell3Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;          }</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;          iCount++;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;        }</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      }</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;  }</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;  <span class="comment">// **********************************************************************************************************</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  <span class="comment">// Passage du beam pipe</span></div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  TGeoBoolNode* rohacellBase;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellBase3, holeRohacell3, t31, t32);</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], holeRohacell3, t31, t32);</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keyword">auto</span>* rh3 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacellTore%d_D0_H%d&quot;</span>, 0, half), rohacellBase);</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keyword">auto</span>* rohacellBaseWithHole = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;rohacellBaseWithHole_D3_H%d&quot;</span>, half), rh3, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;  rohacellBaseWithHole-&gt;SetLineColor(kGray);</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  rohacellPlate-&gt;AddNode(rohacellBaseWithHole, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  TGeoVolume* partRohacell;</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keyword">auto</span>* partRohacell0 =</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D3_H%d_%d&quot;</span>, half, ipart), mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                   mSupportYDimensions[disk][ipart] / 2., mRohacellThickness);</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    Double_t mShift;</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <span class="comment">// ****************  Creating grooves for the other parts of the rohacell plate **********************</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;        <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) { <span class="comment">// 4 grooves</span></div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;          <span class="keywordflow">if</span> (ipart == 1) {</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;            mPosition[ipart] = mXPosition3[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;          };</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;          <span class="keywordflow">if</span> (ipart == 2) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            mPosition[ipart] = mXPosition3[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;          };</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;          <span class="keywordflow">if</span> (ipart == 3) {</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;            mPosition[ipart] = mXPosition3[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;          };</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;          <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;            <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;              <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove] / 2., mPosition[ipart],</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;                <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;                  rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(partRohacell0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                  rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell3Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                };</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;              <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove], mPosition[ipart] + mRadius3[igroove],</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;              <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;                rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle3[igroove], 90., 0.);</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[igroove], yPos3[igroove] + mShift - mHalfDiskGap - mSupportYDimensions[disk][ipart] / 2., iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;              <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., mPosition[ipart] + yPos3[igroove] + mLpartial3[igroove] / 2 * TMath::Sin(mAngle3[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle3[igroove] * TMath::DegToRad()) - mXPosition3[igroove],</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;              <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle3[igroove], 90., 0.);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - xPos3[igroove]), yPos3[igroove] + mPosition[ipart] - mXPosition3[igroove],</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;              <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove]), mRadius3[igroove] + mPosition[ipart],</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;              <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[3][0] / 2. + mMoreLength - mLWater3[igroove] / 2.), mPosition[ipart],</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;            }</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;            <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;              <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;              }</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;              rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell3Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;            }</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;            iCount++;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;          }</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;        }</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;      }</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    }</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D3_H%d_%d&quot;</span>, half, ipart), partRohacell0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D3_H%d_%d&quot;</span>, half, ipart), rohacellGroove[iCount - 1], <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    rohacellPlate-&gt;AddNode(partRohacell, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  }</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  mHalfDisk-&gt;AddNode(rohacellPlate, 2, transformation);</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">createManifold</a>(disk);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;}</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l02923"></a><span class="lineno"><a class="line" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#aef21f44735ff1c1ad41533757111d977"> 2923</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#aef21f44735ff1c1ad41533757111d977">HeatExchanger::createHalfDisk4</a>(Int_t half)</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;{</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  Int_t disk = 4;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <span class="keywordflow">if</span> (half == Top)</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk4 top\n&quot;</span>);</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (half == Bottom)</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    printf(<span class="stringliteral">&quot;Creating MFT heat exchanger for disk4 bottom\n&quot;</span>);</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    printf(<span class="stringliteral">&quot;No valid option for MFT heat exchanger on disk4\n&quot;</span>);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_CarbonFiber$&quot;</span>);</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Water$&quot;</span>);</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Rohacell&quot;</span>);</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a> = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Polyimide&quot;</span>);</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;  <span class="keyword">auto</span>* cooling = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;cooling_D4_H%d&quot;</span>, half));</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  TGeoTranslation* translation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  TGeoRotation* rotation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  TGeoCombiTrans* transformation = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="comment">// **************************************** Water part ******************************************</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;  <span class="comment">// ********************* Four parameters mLwater4, mRadius4, mAngle4, mLpartial4 ****************</span></div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  Double_t ivolume = 400; <span class="comment">// offset chamber 4</span></div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  Double_t mRadiusCentralTore[4];</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  Double_t xPos4[4];</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  Double_t yPos4[4];</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 4; itube++) {</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    TGeoVolume* waterTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube1%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater4[itube] / 2.);</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube] / 2.);</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    cooling-&gt;AddNode(waterTube1, ivolume++, translation);</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    TGeoVolume* waterTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus1%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius4[itube], 0., mRWater, 0., mAngle4[itube]);</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius4[itube] + mXPosition4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube], rotation);</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="comment">//cooling-&gt;AddNode(waterTorus1, ivolume++, transformation);</span></div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    TGeoVolume* waterTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube2%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial4[itube] / 2.);</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle4[itube], 0.);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    xPos4[itube] = mLWater4[itube] + mRadius4[itube] * TMath::Sin(mAngle4[itube] * TMath::DegToRad()) + mLpartial4[itube] / 2 * TMath::Cos(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    yPos4[itube] = mXPosition4[itube] + mRadius4[itube] * (1 - TMath::Cos(mAngle4[itube] * TMath::DegToRad())) + mLpartial4[itube] / 2 * TMath::Sin(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube], rotation);</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    cooling-&gt;AddNode(waterTube2, ivolume++, transformation);</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube] - mLpartial4[itube] / 2 * TMath::Cos(mAngle4[itube] * TMath::DegToRad())) / TMath::Sin(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    TGeoVolume* waterTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorusCentral%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadiusCentralTore[itube], 0.,</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                                                           mRWater, -mAngle4[itube], 2. * mAngle4[itube]);</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube] + mLpartial4[itube] / 2 * TMath::Sin(mAngle4[itube] * TMath::DegToRad()) -</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                                          mRadiusCentralTore[itube] * TMath::Cos(mAngle4[itube] * TMath::DegToRad()),</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                                        0., 0., rotation);</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    cooling-&gt;AddNode(waterTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    TGeoVolume* waterTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube3%d_D4_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLpartial4[itube] / 2.);</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle4[itube], 0.);</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube]), rotation);</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    cooling-&gt;AddNode(waterTube3, ivolume++, transformation);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    TGeoVolume* waterTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;waterTorus2%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, mRadius4[itube], 0., mRWater, 0., mAngle4[itube]);</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius4[itube] + mXPosition4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube]), rotation);</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    cooling-&gt;AddNode(waterTorus2, ivolume++, transformation);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    TGeoVolume* waterTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;waterTube4%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">mWater</a>, 0., mRWater, mLWater4[itube] / 2.);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube] / 2.));</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    cooling-&gt;AddNode(waterTube4, ivolume++, translation);</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  }</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <span class="comment">// **************************************** Tube part *******************************************</span></div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="comment">// ********************* Four parameters mLwater4, mRadius4, mAngle4, mLpartial4 ****************</span></div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;  <span class="keywordflow">for</span> (Int_t itube = 0; itube &lt; 4; itube++) {</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    TGeoVolume* pipeTube1 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube1%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater4[itube] / 2.);</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube] / 2.);</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    cooling-&gt;AddNode(pipeTube1, ivolume++, translation);</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    TGeoVolume* pipeTorus1 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus1%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius4[itube], mRWater, mRWater + mDRPipe, 0., mAngle4[itube]);</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., -90., 0.);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius4[itube] + mXPosition4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube], rotation);</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    cooling-&gt;AddNode(pipeTorus1, ivolume++, transformation);</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    TGeoVolume* pipeTube2 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube2%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial4[itube] / 2.);</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 180 - mAngle4[itube], 0.);</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    xPos4[itube] = mLWater4[itube] + mRadius4[itube] * TMath::Sin(mAngle4[itube] * TMath::DegToRad()) + mLpartial4[itube] / 2 * TMath::Cos(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    yPos4[itube] = mXPosition4[itube] + mRadius4[itube] * (1 - TMath::Cos(mAngle4[itube] * TMath::DegToRad())) + mLpartial4[itube] / 2 * TMath::Sin(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube], 0., mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube], rotation);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    cooling-&gt;AddNode(pipeTube2, ivolume++, transformation);</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    mRadiusCentralTore[itube] = (mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube] - mLpartial4[itube] / 2 * TMath::Cos(mAngle4[itube] * TMath::DegToRad())) / TMath::Sin(mAngle4[itube] * TMath::DegToRad());</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    TGeoVolume* pipeTorusCentral = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorusCentral%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadiusCentralTore[itube], mRWater, mRWater + mDRPipe,</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                                                          -mAngle4[itube], 2. * mAngle4[itube]);</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 90., 0.);</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube] + mLpartial4[itube] / 2 * TMath::Sin(mAngle4[itube] * TMath::DegToRad()) - mRadiusCentralTore[itube] * TMath::Cos(mAngle4[itube] * TMath::DegToRad()), 0., 0., rotation);</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    cooling-&gt;AddNode(pipeTorusCentral, ivolume++, transformation);</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    TGeoVolume* pipeTube3 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube3%d_D4_H%d&quot;</span>, 2, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLpartial4[itube] / 2.);</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 0 - mAngle4[itube], 0.);</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(yPos4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[itube]), rotation);</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    cooling-&gt;AddNode(pipeTube3, ivolume++, transformation);</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    TGeoVolume* pipeTorus2 = gGeoManager-&gt;MakeTorus(Form(<span class="stringliteral">&quot;pipeTorus2%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRadius4[itube], mRWater, mRWater + mDRPipe, 0., mAngle4[itube]);</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 90., 0.);</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    transformation = <span class="keyword">new</span> TGeoCombiTrans(mRadius4[itube] + mXPosition4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube]), rotation);</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    cooling-&gt;AddNode(pipeTorus2, ivolume++, transformation);</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    TGeoVolume* pipeTube4 = gGeoManager-&gt;MakeTube(Form(<span class="stringliteral">&quot;pipeTube4%d_D4_H%d&quot;</span>, itube, half), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">mPipe</a>, mRWater, mRWater + mDRPipe, mLWater4[itube] / 2.);</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    translation = <span class="keyword">new</span> TGeoTranslation(mXPosition4[itube], 0., -(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[itube] / 2.));</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    cooling-&gt;AddNode(pipeTube4, ivolume++, translation);</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;  }</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;  <span class="comment">// ***********************************************************************************************</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  Double_t deltaz = mHeatExchangerThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> * 4 - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 4 - 2 * mCarbonThickness;</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, -90., 90., 0.);</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  transformation =</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] + deltaz / 2. - mCarbonThickness - mRWater - mDRPipe - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 3, transformation);</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  transformation =</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keyword">new</span> TGeoCombiTrans(0., 0., mZPlan[disk] - deltaz / 2. + mCarbonThickness + mRWater + mDRPipe + 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;  mHalfDisk-&gt;AddNode(cooling, 4, transformation);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <span class="comment">// **************************************** Carbon Plates ****************************************</span></div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keyword">auto</span>* carbonPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;carbonPlate_D4_H%d&quot;</span>, half));</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <span class="keyword">auto</span>* carbonBase4 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;carbonBase4_D4_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;                                   (mSupportYDimensions[disk][0]) / 2., mCarbonThickness);</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <span class="keyword">auto</span>* t41 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t41&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;  t41-&gt;RegisterYourself();</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  <span class="keyword">auto</span>* holeCarbon4 =</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeCarbon4_D4_H%d&quot;</span>, half), 0., mRMin[disk], mCarbonThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keyword">auto</span>* t42 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t42&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  t42-&gt;RegisterYourself();</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <span class="keyword">auto</span>* carbonhole4 = <span class="keyword">new</span> TGeoSubtraction(carbonBase4, holeCarbon4, t41, t42);</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  <span class="keyword">auto</span>* cs4 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;Carbon4_D4_H%d&quot;</span>, half), carbonhole4);</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="keyword">auto</span>* carbonBaseWithHole4 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;carbonBaseWithHole_D4_H%d&quot;</span>, half), cs4, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  carbonBaseWithHole4-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  carbonPlate-&gt;AddNode(carbonBaseWithHole4, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;  Double_t ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;    TGeoVolume* partCarbon =</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partCarbon_D4_H%d_%d&quot;</span>, half, ipart), <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">mCarbon</a>, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., mCarbonThickness);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;    partCarbon-&gt;SetLineColor(kGray + 3);</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    carbonPlate-&gt;AddNode(partCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  }</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2., rotation);</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 3, transformation);</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -deltaz / 2., rotation);</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  mHalfDisk-&gt;AddNode(carbonPlate, 4, transformation);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="comment">// **************************************** Glue Bwtween Carbon Plate and Rohacell Plate ****************************************</span></div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  TGeoMedium* mGlueRohacellCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueRohacellCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueRohacellCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;                                               (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  <span class="keyword">auto</span>* translation_gluRC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  translation_gluRC01-&gt;RegisterYourself();</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="keyword">auto</span>* translation_gluRC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluRC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  translation_gluRC02-&gt;RegisterYourself();</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <span class="keyword">auto</span>* holeglueRohacellCarbon0 =</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueRohacellCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueRohacellCarbonBase0, holeglueRohacellCarbon0, translation_gluRC01, translation_gluRC02);</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  <span class="keyword">auto</span>* gRC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueRohacellCarbon0_D0_H%d&quot;</span>, half), glueRohacellCarbonhole0);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="keyword">auto</span>* glueRohacellCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueRohacellCarbonWithHole_D0_H%d&quot;</span>, half), gRC0, mGlueRohacellCarbon);</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;  glueRohacellCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;  glueRohacellCarbon-&gt;AddNode(glueRohacellCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  Double_t tyGRC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    TGeoVolume* partGlueRohacellCarbon =</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueRohacellCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueRohacellCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>);</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    partGlueRohacellCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGRC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    glueRohacellCarbon-&gt;AddNode(partGlueRohacellCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    tyGRC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  }</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>, rotation);</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 3, transformation);</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. - mCarbonThickness - <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a>), rotation);</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;  mHalfDisk-&gt;AddNode(glueRohacellCarbon, 4, transformation);</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;  <span class="comment">// **************************************** Kapton on Carbon Plate ****************************************</span></div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;  TGeoMedium* mKaptonOnCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Kapton$&quot;</span>);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;kaptonOnCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2. + mMoreLength,</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                                           (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;  <span class="keyword">auto</span>* translation_KC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;  translation_KC01-&gt;RegisterYourself();</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  <span class="keyword">auto</span>* translation_KC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_KC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  translation_KC02-&gt;RegisterYourself();</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;  <span class="keyword">auto</span>* holekaptonOnCarbon0 =</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holekaptonOnCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(kaptonOnCarbonBase0, holekaptonOnCarbon0, translation_KC01, translation_KC02);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;  <span class="keyword">auto</span>* KC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;kaptonOnCarbon_D0_H%d&quot;</span>, half), kaptonOnCarbonhole0);</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  <span class="keyword">auto</span>* kaptonOnCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;kaptonOnCarbonWithHole_D0_H%d&quot;</span>, half), KC0, mKaptonOnCarbon);</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  kaptonOnCarbonBaseWithHole0-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;  kaptonOnCarbon-&gt;AddNode(kaptonOnCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  Double_t tyKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    TGeoVolume* partkaptonOnCarbonBase =</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partkaptonOnCarbon_D0_H%d_%d&quot;</span>, half, ipart), mKaptonOnCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a>);</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    partkaptonOnCarbonBase-&gt;SetLineColor(kMagenta);</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    kaptonOnCarbon-&gt;AddNode(partkaptonOnCarbonBase, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    tyKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2, rotation);</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 3, transformation);</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2 + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> * 2), rotation);</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;  mHalfDisk-&gt;AddNode(kaptonOnCarbon, 4, transformation);</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;  <span class="comment">// **************************************** Kapton glue on the carbon plate ****************************************</span></div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  TGeoMedium* mGlueKaptonCarbon = gGeoManager-&gt;GetMedium(<span class="stringliteral">&quot;MFT_Epoxy$&quot;</span>);</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbon = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;glueKaptonCarbon_D0_H%d&quot;</span>, half));</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBase0 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;glueKaptonCarbonBase0_D0_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2., (mSupportYDimensions[disk][0]) / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <span class="keyword">auto</span>* translation_gluKC01 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC01&quot;</span>, 0., (mSupportYDimensions[disk][0]) / 2. + mHalfDiskGap, 0.);</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  translation_gluKC01-&gt;RegisterYourself();</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <span class="keyword">auto</span>* translation_gluKC02 = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;translation_gluKC02&quot;</span>, 0., -mHalfDiskGap, 0.);</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  translation_gluKC02-&gt;RegisterYourself();</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <span class="keyword">auto</span>* holeglueKaptonCarbon0 =</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeglueKaptonCarbon0_D0_H%d&quot;</span>, half), 0., mRMin[disk], <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> + 0.000001, 0, 180.);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonhole0 = <span class="keyword">new</span> TGeoSubtraction(glueKaptonCarbonBase0, holeglueKaptonCarbon0, translation_gluKC01, translation_gluKC02);</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;  <span class="keyword">auto</span>* gKC0 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;glueKaptonCarbon0_D0_H%d&quot;</span>, half), glueKaptonCarbonhole0);</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;  <span class="keyword">auto</span>* glueKaptonCarbonBaseWithHole0 = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;glueKaptonCarbonWithHole_D0_H%d&quot;</span>, half), gKC0, mGlueKaptonCarbon);</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  glueKaptonCarbonBaseWithHole0-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  glueKaptonCarbon-&gt;AddNode(glueKaptonCarbonBaseWithHole0, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  Double_t tyGKC = mSupportYDimensions[disk][0];</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    TGeoVolume* partGlueKaptonCarbon =</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;      gGeoManager-&gt;MakeBox(Form(<span class="stringliteral">&quot;partGlueKaptonCarbon_D0_H%d_%d&quot;</span>, half, ipart), mGlueKaptonCarbon, mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;                           mSupportYDimensions[disk][ipart] / 2., <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>);</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    partGlueKaptonCarbon-&gt;SetLineColor(kGreen);</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, tyGKC + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    glueKaptonCarbon-&gt;AddNode(partGlueKaptonCarbon, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    tyGKC += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  }</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>, rotation);</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 3, transformation);</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., -(deltaz / 2. + mCarbonThickness + <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>), rotation);</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  mHalfDisk-&gt;AddNode(glueKaptonCarbon, 4, transformation);</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;  <span class="comment">// **************************************** Rohacell Plate ****************************************</span></div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;  <span class="keyword">auto</span>* rohacellPlate = <span class="keyword">new</span> TGeoVolumeAssembly(Form(<span class="stringliteral">&quot;rohacellPlate_D4_H%d&quot;</span>, half));</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  <span class="keyword">auto</span>* rohacellBase4 = <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase4_D4_H%d&quot;</span>, half), (mSupportXDimensions[disk][0]) / 2.,</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                                     (mSupportYDimensions[disk][0]) / 2., mRohacellThickness);</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;  <span class="keyword">auto</span>* holeRohacell4 =</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="keyword">new</span> TGeoTubeSeg(Form(<span class="stringliteral">&quot;holeRohacell4_D4_H%d&quot;</span>, half), 0., mRMin[disk], mRohacellThickness + 0.000001, 0, 180.);</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;  <span class="comment">// *************************************** Grooves *************************************************</span></div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  Double_t diameter = 0.21; <span class="comment">// groove diameter</span></div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;  Double_t epsilon = 0.06;  <span class="comment">// outside shift of the goove</span></div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;  Int_t iCount = 0;</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;  Double_t mPosition[5];</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;  TGeoCombiTrans* transfo[7][4];</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;  TGeoTube* grooveTube[8][4];</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  TGeoTorus* grooveTorus[8][4];</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;  TGeoSubtraction* rohacellBaseGroove[300];</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;  TGeoCompositeShape* rohacellGroove[300];</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;  TGeoRotation* rotationTorus5[8];</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) {</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    grooveTube[0][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater4[igroove] / 2.);</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    grooveTorus[1][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius4[igroove], 0., diameter, 0., mAngle4[igroove]);</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    grooveTube[2][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial4[igroove] / 2.);</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    grooveTorus[3][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;centralTorus&quot;</span>, mRadiusCentralTore[igroove], 0., diameter, -mAngle4[igroove], 2. * mAngle4[igroove]);</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    grooveTube[4][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;tiltedLinear&quot;</span>, 0., diameter, mLpartial4[igroove] / 2.);</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    grooveTorus[5][igroove] = <span class="keyword">new</span> TGeoTorus(<span class="stringliteral">&quot;SideTorus&quot;</span>, mRadius4[igroove], 0., diameter, 0., mAngle4[igroove]);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    grooveTube[6][igroove] = <span class="keyword">new</span> TGeoTube(<span class="stringliteral">&quot;linear&quot;</span>, 0., diameter, mLWater4[igroove] / 2.);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;  }</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  <span class="comment">// Rotation matrix</span></div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  TGeoRotation* rotationLinear = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 90., 90., 0.);</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;  TGeoRotation* rotationSideTorusL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusLeft&quot;</span>, -90., 0., 0.);</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  TGeoRotation* rotationSideTorusR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationSideTorusRight&quot;</span>, 90., 180., 180.);</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  TGeoRotation* rotationCentralTorus = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationCentralTorus&quot;</span>, 90., 0., 0.);</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  TGeoRotation* rotationTiltedLinearR;</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  TGeoRotation* rotationTiltedLinearL;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="comment">// Creating grooves</span></div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;      <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) { <span class="comment">// 4 grooves</span></div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        mPosition[igroove] = mXPosition4[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;          <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;            <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove] / 2., mPosition[igroove],</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;              <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;                rohacellBaseGroove[0] = <span class="keyword">new</span> TGeoSubtraction(rohacellBase4, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;                rohacellGroove[0] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell4Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[0]);</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;              };</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove], mRadius4[igroove] + mXPosition4[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap, iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;            <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;              rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle4[igroove], 90., 0.);</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[igroove], yPos4[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., yPos4[igroove] + mLpartial4[igroove] / 2 * TMath::Sin(mAngle4[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle4[igroove] * TMath::DegToRad()) - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;              rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle4[igroove], 90., 0.);</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[igroove]), yPos4[igroove] - mSupportYDimensions[disk][0] / 2. - mHalfDiskGap,</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;            <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove]), mRadius4[igroove] + mPosition[igroove],</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;            <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;              transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove] / 2.), mPosition[igroove],</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;                                                        iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;          }</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;          <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;            <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;              rohacellBaseGroove[iCount] =</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;              rohacellBaseGroove[iCount] =</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;                <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;            }</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;            rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell4Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;          }</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;          iCount++;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        }</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;      }</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    }</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  }</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  <span class="comment">// **********************************************************************************************************</span></div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <span class="comment">// Passage du beam pipe</span></div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  TGeoBoolNode* rohacellBase;</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellBase4, holeRohacell4, t41, t42);</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    rohacellBase = <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], holeRohacell4, t41, t42);</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;  <span class="keyword">auto</span>* rh4 = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacellTore%d_D4_H%d&quot;</span>, 0, half), rohacellBase);</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;  <span class="keyword">auto</span>* rohacellBaseWithHole = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;rohacellBaseWithHole_D4_H%d&quot;</span>, half), rh4, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  TGeoVolume* partRohacell;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  rohacellBaseWithHole-&gt;SetLineColor(kGray);</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 0., 0., 0.);</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;  rohacellPlate-&gt;AddNode(rohacellBaseWithHole, 0, <span class="keyword">new</span> TGeoTranslation(0., 0., mZPlan[disk]));</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  ty = mSupportYDimensions[disk][0];</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;  <span class="keywordflow">for</span> (Int_t ipart = 1; ipart &lt; mNPart[disk]; ipart++) {</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;    <span class="keyword">auto</span>* <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a> = <span class="keyword">new</span> TGeoTranslation(<span class="stringliteral">&quot;t&quot;</span>, 0, ty + mHalfDiskGap, mZPlan[disk]);</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keyword">auto</span>* partRohacell0 =</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;      <span class="keyword">new</span> TGeoBBox(Form(<span class="stringliteral">&quot;rohacellBase0_D4_H%d_%d&quot;</span>, half, ipart), mSupportXDimensions[disk][ipart] / 2.,</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                   mSupportYDimensions[disk][ipart] / 2., mRohacellThickness);</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    Double_t mShift;</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1) {</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <span class="comment">// ****************  Creating grooves for the other parts of the rohacell plate **********************</span></div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;      <span class="keywordflow">for</span> (Int_t iface = 1; iface &gt; -2; iface -= 2) {     <span class="comment">// front and rear</span></div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;        <span class="keywordflow">for</span> (Int_t igroove = 0; igroove &lt; 4; igroove++) { <span class="comment">// 4 grooves</span></div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;          <span class="keywordflow">if</span> (ipart == 1) {</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;            mPosition[ipart] = mXPosition4[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1];</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;          };</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;          <span class="keywordflow">if</span> (ipart == 2) {</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;            mPosition[ipart] = mXPosition4[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2];</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;          };</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;          <span class="keywordflow">if</span> (ipart == 3) {</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            mPosition[ipart] = mXPosition4[igroove] - mSupportYDimensions[disk][ipart] / 2. - mHalfDiskGap - mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;            mShift = -mSupportYDimensions[disk][ipart - 1] - mSupportYDimensions[disk][ipart - 2] - mSupportYDimensions[disk][ipart - 3];</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;          };</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;          <span class="keywordflow">for</span> (Int_t ip = 0; ip &lt; 7; ip++) { <span class="comment">// each groove is made of 7 parts</span></div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            <span class="keywordflow">switch</span> (ip) {</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;              <span class="keywordflow">case</span> 0: <span class="comment">// Linear</span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove] / 2., mPosition[ipart],</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                <span class="keywordflow">if</span> (igroove == 0 &amp;&amp; iface == 1) {</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;                  rohacellBaseGroove[iCount] = <span class="keyword">new</span> TGeoSubtraction(partRohacell0, grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;                  rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell4Groove%d_G%d_F%d_H%d&quot;</span>, ip, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;                };</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;              <span class="keywordflow">case</span> 1: <span class="comment">// side torus</span></div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove], mPosition[ipart] + mRadius4[igroove],</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusR);</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;              <span class="keywordflow">case</span> 2: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;                rotationTiltedLinearR = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearRight&quot;</span>, 90. - mAngle4[igroove], 90., 0.);</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[igroove], yPos4[igroove] + mShift - mHalfDiskGap - mSupportYDimensions[disk][ipart] / 2., iface * (mRohacellThickness + epsilon), rotationTiltedLinearR);</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;              <span class="keywordflow">case</span> 3: <span class="comment">// Central Torus</span></div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(0., mPosition[ipart] + yPos4[igroove] + mLpartial4[igroove] / 2 * TMath::Sin(mAngle4[igroove] * TMath::DegToRad()) - mRadiusCentralTore[igroove] * TMath::Cos(mAngle4[igroove] * TMath::DegToRad()) - mXPosition4[igroove],</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationCentralTorus);</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;              <span class="keywordflow">case</span> 4: <span class="comment">// Linear tilted</span></div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                rotationTiltedLinearL = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotationTiltedLinearLeft&quot;</span>, 90. + mAngle4[igroove], 90., 0.);</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - xPos4[igroove]), yPos4[igroove] + mPosition[ipart] - mXPosition4[igroove],</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationTiltedLinearL);</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;              <span class="keywordflow">case</span> 5: <span class="comment">// side torus</span></div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove]), mRadius4[igroove] + mPosition[ipart],</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationSideTorusL);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;              <span class="keywordflow">case</span> 6: <span class="comment">// Linear</span></div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                transfo[ip][igroove] = <span class="keyword">new</span> TGeoCombiTrans(-(mSupportXDimensions[4][0] / 2. + mMoreLength - mLWater4[igroove] / 2.), mPosition[ipart],</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                                                          iface * (mRohacellThickness + epsilon), rotationLinear);</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;            }</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;            <span class="keywordflow">if</span> (!(ip == 0 &amp;&amp; igroove == 0 &amp;&amp; iface == 1)) {</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;              <span class="keywordflow">if</span> (ip &amp; 1) {</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTorus[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;              } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                rohacellBaseGroove[iCount] =</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                  <span class="keyword">new</span> TGeoSubtraction(rohacellGroove[iCount - 1], grooveTube[ip][igroove], <span class="keyword">nullptr</span>, transfo[ip][igroove]);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;              }</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;              rohacellGroove[iCount] = <span class="keyword">new</span> TGeoCompositeShape(Form(<span class="stringliteral">&quot;rohacell4Groove%d_G%d_F%d_H%d&quot;</span>, iCount, igroove, iface, half), rohacellBaseGroove[iCount]);</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;            }</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;            iCount++;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;          }</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        }</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      }</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    }</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D4_H%d_%d&quot;</span>, half, ipart), partRohacell0, <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      partRohacell = <span class="keyword">new</span> TGeoVolume(Form(<span class="stringliteral">&quot;partRohacelli_D4_H%d_%d&quot;</span>, half, ipart), rohacellGroove[iCount - 1], <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">mRohacell</a>);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="comment">//===========================================================================================================</span></div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    rohacellPlate-&gt;AddNode(partRohacell, ipart, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a>);</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    ty += mSupportYDimensions[disk][ipart] / 2.;</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;  }</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  rotation = <span class="keyword">new</span> TGeoRotation(<span class="stringliteral">&quot;rotation&quot;</span>, 180., 0., 0.);</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  transformation = <span class="keyword">new</span> TGeoCombiTrans(0., 0., 0., rotation);</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  mHalfDisk-&gt;AddNode(rohacellPlate, 2, transformation);</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <a class="code" href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">createManifold</a>(disk);</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;}</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="comment">//_____________________________________________________________________________</span></div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;<span class="keywordtype">void</span> HeatExchanger::initParameters()</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;{</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  mHalfDiskRotation = <span class="keyword">new</span> TGeoRotation**[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>];</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  mHalfDiskTransformation = <span class="keyword">new</span> TGeoCombiTrans**[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>];</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <span class="keywordflow">for</span> (Int_t idisk = 0; idisk &lt; <a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>; idisk++) {</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    mHalfDiskRotation[idisk] = <span class="keyword">new</span> TGeoRotation*[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a4a135b0f81a727fb71cd56f043e08ba5">constants::HalvesNumber</a>];</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    mHalfDiskTransformation[idisk] = <span class="keyword">new</span> TGeoCombiTrans*[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a4a135b0f81a727fb71cd56f043e08ba5">constants::HalvesNumber</a>];</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">for</span> (Int_t ihalf = 0; ihalf &lt; <a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a4a135b0f81a727fb71cd56f043e08ba5">constants::HalvesNumber</a>; ihalf++) {</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      mHalfDiskRotation[idisk][ihalf] = <span class="keyword">new</span> TGeoRotation(Form(<span class="stringliteral">&quot;rotation%d%d&quot;</span>, idisk, ihalf), 0., 0., 0.);</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      mHalfDiskTransformation[idisk][ihalf] =</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        <span class="keyword">new</span> TGeoCombiTrans(Form(<span class="stringliteral">&quot;transformation%d%d&quot;</span>, idisk, ihalf), 0., 0., 0., mHalfDiskRotation[idisk][ihalf]);</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    }</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  }</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 0)</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    mRohacellThickness = mHeatExchangerThickness / 2. - 2. * mCarbonThickness - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a> - 2 * (mRWater + mDRPipe); <span class="comment">// smaller rohacell thickness, no grooves</span></div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">Geometry::sGrooves</a> == 1)</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    mRohacellThickness = mHeatExchangerThickness / 2. - 2. * mCarbonThickness - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">Geometry::sGlueRohacellCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">Geometry::sKaptonOnCarbonThickness</a> - 2 * <a class="code" href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">Geometry::sKaptonGlueThickness</a>; <span class="comment">// with grooves</span></div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  printf(<span class="stringliteral">&quot; rohacell thickness %f \n&quot;</span>, mRohacellThickness);</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;  mHalfDiskGap = 0.2;</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  mNPart[0] = 3;</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  mNPart[1] = 3;</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  mNPart[2] = 3;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  mNPart[3] = 4; <span class="comment">//5</span></div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;  mNPart[4] = 4;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  mRMin[0] = 2.35;</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  mRMin[1] = 2.35;</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  mRMin[2] = 2.35;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  mRMin[3] = 3.35;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  mRMin[4] = 3.75;</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <span class="comment">// mZPlan[0] = 46;</span></div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;  <span class="comment">// mZPlan[1] = 49.3;</span></div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <span class="comment">// mZPlan[2] = 53.1;</span></div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <span class="comment">// mZPlan[3] = 68.7;</span></div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <span class="comment">// mZPlan[4] = 76.8;</span></div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  mZPlan[0] = 0;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  mZPlan[1] = 0;</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;  mZPlan[2] = 0;</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  mZPlan[3] = 0;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  mZPlan[4] = 0;</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  mSupportXDimensions = <span class="keyword">new</span> Double_t*[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>];</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  mSupportYDimensions = <span class="keyword">new</span> Double_t*[<a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>];</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">constants::DisksNumber</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    mSupportXDimensions[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> <span class="keywordtype">double</span>[mNPart[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    mSupportYDimensions[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> <span class="keywordtype">double</span>[mNPart[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  }</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  mMoreLength = 0.7; <span class="comment">// additional length of water pipes outside the rohacell plate, should be 7 mm</span></div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <span class="comment">// disk width</span></div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  <span class="comment">// disks 0, 1</span></div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  mSupportXDimensions[0][0] = mSupportXDimensions[1][0] = 21.8;</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  mSupportXDimensions[0][1] = mSupportXDimensions[1][1] = 15.7;</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  mSupportXDimensions[0][2] = mSupportXDimensions[1][2] = 5.6;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;  <span class="comment">// disk 2</span></div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  mSupportXDimensions[2][0] = 22.59; <span class="comment">// 23</span></div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;  mSupportXDimensions[2][1] = 19.2;  <span class="comment">// 14</span></div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  mSupportXDimensions[2][2] = 12.4;  <span class="comment">// 5.1</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="comment">// disk 3</span></div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  mSupportXDimensions[3][0] = 29.6; <span class="comment">//28.4; //28.4</span></div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  mSupportXDimensions[3][1] = 19.2; <span class="comment">//21.9;</span></div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  mSupportXDimensions[3][2] = 9.0;  <span class="comment">//18.5;</span></div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  mSupportXDimensions[3][3] = 7.3;  <span class="comment">//8.3;</span></div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="comment">// disk 4</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  mSupportXDimensions[4][0] = 30.06; <span class="comment">//29.39; //28.4;</span></div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  mSupportXDimensions[4][1] = 22.60; <span class="comment">//24.204;</span></div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;  mSupportXDimensions[4][2] = 15.80; <span class="comment">//21.9;</span></div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;  mSupportXDimensions[4][3] = 5.60;  <span class="comment">//15.1;</span></div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;  <span class="comment">// disk height</span></div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;  <span class="comment">// disks 0, 1</span></div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  mSupportYDimensions[0][0] = mSupportYDimensions[1][0] = 6.7;</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  mSupportYDimensions[0][1] = mSupportYDimensions[1][1] = 2.5;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  mSupportYDimensions[0][2] = mSupportYDimensions[1][2] = 2.4;</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="comment">// disk 2</span></div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  mSupportYDimensions[2][0] = 6.66; <span class="comment">// 6.7</span></div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;  mSupportYDimensions[2][1] = 2.5;  <span class="comment">// 2.6</span></div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;  mSupportYDimensions[2][2] = 2.99; <span class="comment">// 2.0</span></div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;  <span class="comment">// disk 3</span></div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  mSupportYDimensions[3][0] = 9.2; <span class="comment">//6.61;</span></div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  mSupportYDimensions[3][1] = 3.0; <span class="comment">//3.01;</span></div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  mSupportYDimensions[3][2] = 2.3; <span class="comment">//3.01;</span></div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  mSupportYDimensions[3][3] = 1.2; <span class="comment">//1.8;</span></div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <span class="comment">// disk 4</span></div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  mSupportYDimensions[4][0] = 9.3;  <span class="comment">//9.20; //6.61;</span></div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;  mSupportYDimensions[4][1] = 3.00; <span class="comment">//3.01;</span></div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  mSupportYDimensions[4][2] = 3.00; <span class="comment">//3.01;</span></div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  mSupportYDimensions[4][3] = 0.90; <span class="comment">//2.42;</span></div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;  <span class="comment">// Parameters for disks 0, 1</span></div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  <span class="comment">//mLWater0[0] = mLWater1[0] =5.98;</span></div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;  mLWater0[0] = mLWater1[0] = 5.98 + mMoreLength;</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;  mLWater0[1] = mLWater1[1] = 5.91 + mMoreLength;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;  mLWater0[2] = mLWater1[2] = 2.93 + mMoreLength;</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  mXPosition0[0] = mXPosition1[0] = 1.7;</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;  mXPosition0[1] = mXPosition1[1] = 4.61;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  mXPosition0[2] = mXPosition1[2] = 6.31;</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;  mAngle0[0] = mAngle1[0] = 31.;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;  mAngle0[1] = mAngle1[1] = 29.;</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;  mAngle0[2] = mAngle1[2] = 28.5;</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;  mRadius0[0] = mRadius1[0] = 4.0;</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;  mRadius0[1] = mRadius1[1] = 4.0;</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;  mRadius0[2] = mRadius1[2] = 4.0;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;  mLpartial0[0] = mLpartial1[0] = 0.916;</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;  mLpartial0[1] = mLpartial1[1] = 0.73;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;  mLpartial0[2] = mLpartial1[2] = 4.85;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;  <span class="comment">// Parameters for disk 2</span></div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  mLWater2[0] = 5.29 + mMoreLength;</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;  mLWater2[1] = 5.29 + mMoreLength;</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  mLWater2[2] = 1.31 + mMoreLength;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  mXPosition2[0] = 1.7;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  mXPosition2[1] = 4.61;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;  mXPosition2[2] = 6.41;</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;  mAngle2[0] = 28.;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  mAngle2[1] = 29.;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;  mAngle2[2] = 27.;</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  mRadius2[0] = 4.0;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  mRadius2[1] = 4.0;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  mRadius2[2] = 4.0;</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;  mLpartial2[0] = 2.60;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  mLpartial2[1] = 2.38;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  mLpartial2[2] = 7.16;</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;  <span class="comment">// Parameters for disk 3</span></div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  mLWater3[0] = 6.35 + mMoreLength; <span class="comment">//8.032;</span></div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  mLWater3[1] = 5.6 + mMoreLength;  <span class="comment">//8.032;</span></div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;  mLWater3[2] = 2.88 + mMoreLength; <span class="comment">//8.2;</span></div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;  mLWater3[3] = 2.4 + mMoreLength;  <span class="comment">//8.2;</span></div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;  mXPosition3[0] = 1.4;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  mXPosition3[1] = 3.9;</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  mXPosition3[2] = 5.9;</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;  mXPosition3[3] = 7.9;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  mAngle3[0] = 34.; <span class="comment">//41.3;</span></div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  mAngle3[1] = 30.; <span class="comment">//41.3;</span></div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;  mAngle3[2] = 28.; <span class="comment">//28;</span></div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  mAngle3[3] = 32.; <span class="comment">//28;</span></div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  mRadius3[0] = 4.; <span class="comment">//4.3</span></div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;  mRadius3[1] = 4.; <span class="comment">//4.3</span></div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;  mRadius3[2] = 4.; <span class="comment">//7.4;</span></div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  mRadius3[3] = 4.; <span class="comment">//7.4;</span></div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  mAngleThirdPipe3 = 15.;</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;  mLpartial3[0] = 4.0;  <span class="comment">//2.3;</span></div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;  mLpartial3[1] = 5.26; <span class="comment">//2.3;</span></div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;  mLpartial3[2] = 8.53; <span class="comment">// fm</span></div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  mLpartial3[3] = 8.90; <span class="comment">// fm</span></div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  mRadius3fourth[0] = 9.6;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  mRadius3fourth[1] = 2.9;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  mRadius3fourth[2] = 2.9;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  mRadius3fourth[3] = 0.;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;  mAngle3fourth[0] = 40.8;</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;  mAngle3fourth[1] = 50.;</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;  mAngle3fourth[2] = 60.;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  mAngle3fourth[3] = 8 + mAngle3fourth[0] - mAngle3fourth[1] + mAngle3fourth[2];</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <span class="comment">// Parameters for disk 4</span></div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;  mLWater4[0] = 6.20 + mMoreLength; <span class="comment">//5.911;</span></div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  mLWater4[1] = 4.67 + mMoreLength; <span class="comment">//3.697;</span></div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  mLWater4[2] = 2.70 + mMoreLength; <span class="comment">//3.038;</span></div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;  mLWater4[3] = 1.20 + mMoreLength; <span class="comment">//3.038;</span></div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;  mXPosition4[0] = 1.3; <span class="comment">//1.7;</span></div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;  mXPosition4[1] = 3.8; <span class="comment">//3.492;</span></div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  mXPosition4[2] = 5.8; <span class="comment">//4.61;</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  mXPosition4[3] = 7.8; <span class="comment">//5.5;</span></div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  mXPosition4[4] = 5.8;</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  mAngle4[0] = 31.; <span class="comment">//35.5;</span></div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  mAngle4[1] = 28.; <span class="comment">//30.;</span></div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  mAngle4[2] = 28.; <span class="comment">//54.;</span></div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  mAngle4[3] = 29.; <span class="comment">//53.;</span></div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  mAngle4[4] = 40;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  mAngle4[5] = (mAngle4[3] - mAngle4[4]);</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  mRadius4[0] = 4.0; <span class="comment">//6.6;</span></div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;  mRadius4[1] = 4.0; <span class="comment">//7.2;</span></div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;  mRadius4[2] = 4.0; <span class="comment">//4.6;</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  mRadius4[3] = 4.0; <span class="comment">//6.2;</span></div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;  mRadius4[4] = 4.0; <span class="comment">//6.;</span></div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  mLpartial4[0] = 5.095;  <span class="comment">//2.5;</span></div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;  mLpartial4[1] = 7.026;  <span class="comment">//3.6;</span></div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;  mLpartial4[2] = 9.327;  <span class="comment">//2.5;</span></div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  mLpartial4[3] = 11.006; <span class="comment">//3.6;</span></div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  mAngle4fifth[0] = 64.;</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  mAngle4fifth[1] = 30.;</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  mAngle4fifth[2] = 27.;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  mAngle4fifth[3] = mAngle4fifth[0] - mAngle4fifth[1] + mAngle4fifth[2];</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  mRadius4fifth[0] = 2.7;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  mRadius4fifth[1] = 5.;</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  mRadius4fifth[2] = 5.1;</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  mRadius4fifth[3] = 4.3;</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;}</div><div class="ttc" id="namespaceo2_1_1mft_html"><div class="ttname"><a href="../../d4/d8c/namespaceo2_1_1mft.html">o2::mft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd0/TrackMFT_8h_source.html#l00034">TrackMFT.h:34</a></div></div>
<div class="ttc" id="Detectors_2ITSMFT_2MFT_2base_2include_2MFTBase_2Constants_8h_html"><div class="ttname"><a href="../../dc/de5/Detectors_2ITSMFT_2MFT_2base_2include_2MFTBase_2Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1Geometry_html_a7351d22206993902a0fa880de824b758"><div class="ttname"><a href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a7351d22206993902a0fa880de824b758">o2::mft::Geometry::sGrooves</a></div><div class="ttdeci">static const Int_t sGrooves</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_source.html#l00082">Geometry.h:82</a></div></div>
<div class="ttc" id="namespaceo2_1_1mft_1_1constants_html_a4a135b0f81a727fb71cd56f043e08ba5"><div class="ttname"><a href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a4a135b0f81a727fb71cd56f043e08ba5">o2::mft::constants::HalvesNumber</a></div><div class="ttdeci">constexpr Int_t HalvesNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de5/Detectors_2ITSMFT_2MFT_2base_2include_2MFTBase_2Constants_8h_source.html#l00028">Constants.h:28</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a6441c3ce84527f505e9a269c4a18a235"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a6441c3ce84527f505e9a269c4a18a235">o2::mft::HeatExchanger::createHalfDisk0</a></div><div class="ttdeci">void createHalfDisk0(Int_t half)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l00891">HeatExchanger.cxx:891</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1Geometry_html_a175c5ec05fad7895289d8558d84feee6"><div class="ttname"><a href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a175c5ec05fad7895289d8558d84feee6">o2::mft::Geometry::sEpsilon</a></div><div class="ttdeci">static const Double_t sEpsilon</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_source.html#l00074">Geometry.h:74</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a8a793144a61f8831e8b4354c4a1e6ba9"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a8a793144a61f8831e8b4354c4a1e6ba9">o2::mft::HeatExchanger::createHalfDisk1</a></div><div class="ttdeci">void createHalfDisk1(Int_t half)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l01385">HeatExchanger.cxx:1385</a></div></div>
<div class="ttc" id="namespaceo2_1_1mft_1_1constants_html_a85700eff33fc97f0b5310f6b2e87422f"><div class="ttname"><a href="../../df/d40/namespaceo2_1_1mft_1_1constants.html#a85700eff33fc97f0b5310f6b2e87422f">o2::mft::constants::DisksNumber</a></div><div class="ttdeci">constexpr Int_t DisksNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de5/Detectors_2ITSMFT_2MFT_2base_2include_2MFTBase_2Constants_8h_source.html#l00026">Constants.h:26</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a2cdbb9508b46bd8f3a6039b702ebd16d"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a2cdbb9508b46bd8f3a6039b702ebd16d">t</a></div><div class="ttdeci">Visualize clusters only t</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00020">qconfigoptions.h:20</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1Geometry_html_a524f986bb0ec8bff7925ecd7bd075cad"><div class="ttname"><a href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a524f986bb0ec8bff7925ecd7bd075cad">o2::mft::Geometry::sKaptonGlueThickness</a></div><div class="ttdeci">static const Double_t sKaptonGlueThickness</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_source.html#l00081">Geometry.h:81</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_acc335f382b64b9758f4a603bb3f71fe9"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#acc335f382b64b9758f4a603bb3f71fe9">o2::mft::HeatExchanger::mRohacell</a></div><div class="ttdeci">TGeoMedium * mRohacell</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd3/HeatExchanger_8h_source.html#l00062">HeatExchanger.h:62</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a03933a5448c0ffb9fbc7f2c5f3295984"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a03933a5448c0ffb9fbc7f2c5f3295984">o2::mft::HeatExchanger::createHalfDisk3</a></div><div class="ttdeci">void createHalfDisk3(Int_t half)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l02424">HeatExchanger.cxx:2424</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_ad71c3590b8b1b685ca64568b2e7f77f6"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ad71c3590b8b1b685ca64568b2e7f77f6">o2::mft::HeatExchanger::mCarbon</a></div><div class="ttdeci">TGeoMedium * mCarbon</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd3/HeatExchanger_8h_source.html#l00061">HeatExchanger.h:61</a></div></div>
<div class="ttc" id="HeatExchanger_8h_html"><div class="ttname"><a href="../../dd/dd3/HeatExchanger_8h.html">HeatExchanger.h</a></div><div class="ttdoc">MFT heat exchanger builder. </div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a0f0f6a92546d5bcce67fe1ee937121ec"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a0f0f6a92546d5bcce67fe1ee937121ec">o2::mft::HeatExchanger::createHalfDisk2</a></div><div class="ttdeci">void createHalfDisk2(Int_t half)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l01920">HeatExchanger.cxx:1920</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a5bd5093052f9efd8b67800f989a7110f"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a5bd5093052f9efd8b67800f989a7110f">o2::mft::HeatExchanger::mWater</a></div><div class="ttdeci">TGeoMedium * mWater</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd3/HeatExchanger_8h_source.html#l00059">HeatExchanger.h:59</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1Geometry_html_ac316f157ece0b27107e550f31190302a"><div class="ttname"><a href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#ac316f157ece0b27107e550f31190302a">o2::mft::Geometry::sKaptonOnCarbonThickness</a></div><div class="ttdeci">static const Double_t sKaptonOnCarbonThickness</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_source.html#l00080">Geometry.h:80</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_af1dbb6f010347014537c900b2124f46f"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#af1dbb6f010347014537c900b2124f46f">o2::mft::HeatExchanger::createManifold</a></div><div class="ttdeci">void createManifold(Int_t disk)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l00175">HeatExchanger.cxx:175</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_ade35869545ed319aa59f2edf1f64970b"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#ade35869545ed319aa59f2edf1f64970b">o2::mft::HeatExchanger::create</a></div><div class="ttdeci">TGeoVolumeAssembly * create(Int_t kHalf, Int_t disk)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l00145">HeatExchanger.cxx:145</a></div></div>
<div class="ttc" id="HeatExchanger_8cxx_html_aa16aaf72cae56d91fe44fa5d7da9205b"><div class="ttname"><a href="../../de/d02/HeatExchanger_8cxx.html#aa16aaf72cae56d91fe44fa5d7da9205b">ClassImp</a></div><div class="ttdeci">ClassImp(o2::mft::HeatExchanger)</div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a040e4801b659de23b93e1bef2c69be6d"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a040e4801b659de23b93e1bef2c69be6d">o2::mft::HeatExchanger::HeatExchanger</a></div><div class="ttdeci">HeatExchanger()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l00034">HeatExchanger.cxx:34</a></div></div>
<div class="ttc" id="ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_html"><div class="ttname"><a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h.html">Geometry.h</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_a671039bcd582806280d99ad6c99e68ca"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#a671039bcd582806280d99ad6c99e68ca">o2::mft::HeatExchanger::mPipe</a></div><div class="ttdeci">TGeoMedium * mPipe</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd3/HeatExchanger_8h_source.html#l00060">HeatExchanger.h:60</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a57f14e05b1900f16a2da82ade47d0c6d"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00781">glcorearb.h:781</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1constants_1_1math_html_a790aa0015b1208f2a67ff3eaee25392b"><div class="ttname"><a href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">o2::its::constants::math::Pi</a></div><div class="ttdeci">constexpr float Pi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/Detectors_2ITSMFT_2ITS_2tracking_2include_2ITStracking_2Constants_8h_source.html#l00037">Constants.h:37</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html">o2::mft::HeatExchanger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd3/HeatExchanger_8h_source.html#l00028">HeatExchanger.h:28</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1HeatExchanger_html_aef21f44735ff1c1ad41533757111d977"><div class="ttname"><a href="../../d8/dd2/classo2_1_1mft_1_1HeatExchanger.html#aef21f44735ff1c1ad41533757111d977">o2::mft::HeatExchanger::createHalfDisk4</a></div><div class="ttdeci">void createHalfDisk4(Int_t half)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d02/HeatExchanger_8cxx_source.html#l02923">HeatExchanger.cxx:2923</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="classo2_1_1mft_1_1Geometry_html_a2fc3c5a2a7df7a61809fd789384dfd1a"><div class="ttname"><a href="../../d8/db1/classo2_1_1mft_1_1Geometry.html#a2fc3c5a2a7df7a61809fd789384dfd1a">o2::mft::Geometry::sGlueRohacellCarbonThickness</a></div><div class="ttdeci">static const Double_t sGlueRohacellCarbonThickness</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d2e/ITSMFT_2MFT_2base_2include_2MFTBase_2Geometry_8h_source.html#l00079">Geometry.h:79</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_1306292b77b40360479b729ac9ee7efe.html">ITSMFT</a></li><li class="navelem"><a class="el" href="../../dir_f39d1cd569ca2d16022b762a0e4a53c8.html">MFT</a></li><li class="navelem"><a class="el" href="../../dir_7e732ae97f4f941436b6909b27d4da36.html">base</a></li><li class="navelem"><a class="el" href="../../dir_a39be7dbb5064f10e7f9feb561d713d1.html">src</a></li><li class="navelem"><a class="el" href="../../de/d02/HeatExchanger_8cxx.html">HeatExchanger.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:29 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
