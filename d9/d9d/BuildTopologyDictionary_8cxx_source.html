<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/ITSMFT/common/reconstruction/src/BuildTopologyDictionary.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d9d/BuildTopologyDictionary_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BuildTopologyDictionary.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d9d/BuildTopologyDictionary_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d1d/BuildTopologyDictionary_8h.html">ITSMFTReconstruction/BuildTopologyDictionary.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/ddf/LookUp_8h.html">ITSMFTReconstruction/LookUp.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;TFile.h&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<a class="code" href="../../d9/d9d/BuildTopologyDictionary_8cxx.html#aad6ffea6df8f52703a0f7a223fab96c1">ClassImp</a>(<a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html">o2::itsmft::BuildTopologyDictionary</a>);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>itsmft</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;constexpr <span class="keywordtype">float</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a3a09e11fc43e4d6b94f5706e5d353078">BuildTopologyDictionary::IgnoreVal</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4b5d6d20082d1907290b77b607ed88ae">   29</a></span>&#160;<a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4b5d6d20082d1907290b77b607ed88ae">BuildTopologyDictionary::BuildTopologyDictionary</a>() : mTotClusters{0} {}</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4e521dd605e4e0e248bea509663a73a9">   31</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4e521dd605e4e0e248bea509663a73a9">BuildTopologyDictionary::accountTopology</a>(<span class="keyword">const</span> <a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html">ClusterTopology</a>&amp; cluster, <span class="keywordtype">float</span> dX, <span class="keywordtype">float</span> dZ)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  mTotClusters++;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">bool</span> useDf = dX &lt; <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a3a09e11fc43e4d6b94f5706e5d353078">IgnoreVal</a> / 2; <span class="comment">// we may need to account the frequency but to not update the centroid</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// std::pair&lt;unordered_map&lt;unsigned long, TopoStat&gt;::iterator,bool&gt; ret;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">//       auto ret = mTopologyMap.insert(std::make_pair(cluster.getHash(), std::make_pair(cluster, 1)));</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">auto</span>&amp; topoStat = mTopologyMap[cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a542da921094a1267667ba29581dd060e">getHash</a>()];</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  topoStat.countsTotal++;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (topoStat.countsTotal == 1) { <span class="comment">// a new topology is inserted</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    topoStat.topology = cluster;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">//___________________DEFINING_TOPOLOGY_CHARACTERISTICS__________________</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html">TopologyInfo</a> topInf;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a43ef2f6b2eb004df3023f37ca38bb85d">mPattern</a>.<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a45933636ff0b62e2140c545c52992119">setPattern</a>(cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a9a17759669f31086dce06c5d54349093">getPattern</a>().data());</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">int</span>&amp; rs = topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#af7ffeada77320dc28201cc937640aaed">mSizeX</a> = cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a16539b5a891d0de9480620161b15b253">getRowSpan</a>();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">int</span>&amp; cs = topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a2ff32b6a33867998bb2e216356cb948e">mSizeZ</a> = cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a357c506a7d3dd0414cced351c1202452">getColumnSpan</a>();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//__________________COG_Determination_____________</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#ae4bfecebd880c617751b0f37e0a41b87">mNpixels</a> = cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a0223e213542fa94bdd28fe719b3cde98">getClusterPattern</a>().<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a0143bc8d68ee10797249407d9902514b">getCOG</a>(topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#af5a0adb06e1016c1bf2b0f7b30593244">mCOGx</a>, topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a86f5009bc200a8acaefa766dfd08a818">mCOGz</a>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (useDf) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a364e62ba38417cd2606e22f03fc500af">mXmean</a> = dX;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      topInf.<a class="code" href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#aa64660a34ff2800b3443f55b0d7e36f0">mZmean</a> = dZ;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      topoStat.countsWithBias = 1;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    mMapInfo.insert(std::make_pair(cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a542da921094a1267667ba29581dd060e">getHash</a>(), topInf));</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (useDf) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keyword">auto</span> <a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> = topoStat.countsWithBias++;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keyword">auto</span> ind = mMapInfo.find(cluster.<a class="code" href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a542da921094a1267667ba29581dd060e">getHash</a>());</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordtype">float</span> tmpxMean = ind-&gt;second.mXmean;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordtype">float</span> newxMean = ind-&gt;second.mXmean = ((tmpxMean)*<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + dX) / (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + 1);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keywordtype">float</span> tmpxSigma2 = ind-&gt;second.mXsigma2;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      ind-&gt;second.mXsigma2 = (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> * tmpxSigma2 + (dX - tmpxMean) * (dX - newxMean)) / (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + 1); <span class="comment">// online variance algorithm</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordtype">float</span> tmpzMean = ind-&gt;second.mZmean;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="keywordtype">float</span> newzMean = ind-&gt;second.mZmean = ((tmpzMean)*<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + dZ) / (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + 1);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordtype">float</span> tmpzSigma2 = ind-&gt;second.mZsigma2;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      ind-&gt;second.mZsigma2 = (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> * tmpzSigma2 + (dZ - tmpzMean) * (dZ - newzMean)) / (<a class="code" href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a> + 1); <span class="comment">// online variance algorithm</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7dda3b75ff47bdc8ceeb792a53c87677">   72</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7dda3b75ff47bdc8ceeb792a53c87677">BuildTopologyDictionary::setThreshold</a>(<span class="keywordtype">double</span> thr)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  mTopologyFrequency.clear();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; p : mTopologyMap) { <span class="comment">// p is pair&lt;ulong,TopoStat&gt;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    mTopologyFrequency.emplace_back(std::make_pair(p.second.countsTotal, p.first));</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  std::sort(mTopologyFrequency.begin(), mTopologyFrequency.end(),</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            [](<span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple1,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;               <span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple2) { <span class="keywordflow">return</span> (couple1.first &gt; couple2.first); });</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  mNCommonTopologies = 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  mDictionary.mCommonMap.clear();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  mDictionary.mGroupMap.clear();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  mFrequencyThreshold = thr;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a72a15f0e985725c69b07bf03c3818782">q</a> : mTopologyFrequency) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (((<span class="keywordtype">double</span>)<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a72a15f0e985725c69b07bf03c3818782">q</a>.first) / mTotClusters &gt; thr)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      mNCommonTopologies++;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a5b98961bef1947a7d6c2aacf1fb64733">   93</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a5b98961bef1947a7d6c2aacf1fb64733">BuildTopologyDictionary::setNCommon</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nCommon)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  mTopologyFrequency.clear();</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; p : mTopologyMap) { <span class="comment">// p os pair&lt;ulong,TopoStat&gt;</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    mTopologyFrequency.emplace_back(std::make_pair(p.second.countsTotal, p.first));</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  std::sort(mTopologyFrequency.begin(), mTopologyFrequency.end(),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            [](<span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple1,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;               <span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple2) { <span class="keywordflow">return</span> (couple1.first &gt; couple2.first); });</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  mNCommonTopologies = nCommon;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  mDictionary.mCommonMap.clear();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  mDictionary.mGroupMap.clear();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  mFrequencyThreshold = ((double)mTopologyFrequency[mNCommonTopologies - 1].<a class="code" href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a>) / mTotClusters;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad02a3ca716e8f20ab01dc7f888ac0674">  108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad02a3ca716e8f20ab01dc7f888ac0674">BuildTopologyDictionary::setThresholdCumulative</a>(<span class="keywordtype">double</span> cumulative)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  mTopologyFrequency.clear();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (cumulative &lt;= 0. || cumulative &gt;= 1.)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    cumulative = 0.99;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">double</span> totFreq = 0.;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; p : mTopologyMap) { <span class="comment">// p os pair&lt;ulong,TopoStat&gt;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    mTopologyFrequency.emplace_back(std::make_pair(p.second.countsTotal, p.first));</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::sort(mTopologyFrequency.begin(), mTopologyFrequency.end(),</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            [](<span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple1,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;               <span class="keyword">const</span> std::pair&lt;unsigned long, unsigned long&gt;&amp; couple2) { <span class="keywordflow">return</span> (couple1.first &gt; couple2.first); });</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  mNCommonTopologies = 0;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  mDictionary.mCommonMap.clear();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  mDictionary.mGroupMap.clear();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a72a15f0e985725c69b07bf03c3818782">q</a> : mTopologyFrequency) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    totFreq += ((double)(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a72a15f0e985725c69b07bf03c3818782">q</a>.first)) / mTotClusters;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (totFreq &lt; cumulative) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      mNCommonTopologies++;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  mFrequencyThreshold = ((double)(mTopologyFrequency[--mNCommonTopologies].<a class="code" href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a>)) / mTotClusters;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">while</span> (std::fabs(((<span class="keywordtype">double</span>)mTopologyFrequency[mNCommonTopologies].first) / mTotClusters - mFrequencyThreshold) &lt; 1.e-15)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    mNCommonTopologies--;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  mFrequencyThreshold = ((double)mTopologyFrequency[mNCommonTopologies++].first) / mTotClusters;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7bdaf36d04d4a6c0ddf62dff8a844653">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7bdaf36d04d4a6c0ddf62dff8a844653">BuildTopologyDictionary::groupRareTopologies</a>()</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Dictionary finalisation&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Number of clusters: &quot;</span> &lt;&lt; mTotClusters &lt;&lt; std::endl;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordtype">double</span> totFreq = 0.;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; mNCommonTopologies; j++) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a> gr;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a> = mTopologyFrequency[j].second;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#ade6814e69555dc93550db229f228c5d3">mFrequency</a> = ((double)(mTopologyFrequency[j].<a class="code" href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a>)) / mTotClusters;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// rough estimation for the error considering a8 uniform distribution</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a314f9727d2a27c8af93c010ce2df6c5c">mErrX</a> = std::sqrt(mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mXsigma2);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a572ca41c46b9575f3cd3ba4c6c39a27e">mErrZ</a> = std::sqrt(mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mZsigma2);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a412d69ba8925d56bd5de3e81c72542b3">mErr2X</a> = gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a314f9727d2a27c8af93c010ce2df6c5c">mErrX</a> * gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a314f9727d2a27c8af93c010ce2df6c5c">mErrX</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af30116caaf745353467c1a6976d68f2d">mErr2Z</a> = gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a572ca41c46b9575f3cd3ba4c6c39a27e">mErrZ</a> * gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a572ca41c46b9575f3cd3ba4c6c39a27e">mErrZ</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a777c5133125d3c89e40a54c30d5b875e">mXCOG</a> = -1 * mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mCOGx * <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">o2::itsmft::SegmentationAlpide::PitchRow</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af8df5bc3c079352c1d98429c31333ad5">mZCOG</a> = mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mCOGz * <a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">o2::itsmft::SegmentationAlpide::PitchCol</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a800264533bfec7eb8ce2bcfe9aac0044">mNpixels</a> = mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mNpixels;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">mPattern</a> = mMapInfo.find(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>)-&gt;second.mPattern;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af26669844efe6dd979e16a3655e44690">mIsGroup</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    mDictionary.mVectorOfIDs.push_back(gr);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// groupRareTopologies based on binning over number of rows and columns (TopologyDictionary::NumberOfRowClasses *</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// NumberOfColClasse)</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  std::unordered_map&lt;int, std::pair&lt;GroupStruct, unsigned long&gt;&gt; tmp_GroupMap; <span class="comment">//&lt;group ID, &lt;Group struct, counts&gt;&gt;</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">int</span> grNum = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">int</span> rowBinEdge = 0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">int</span> colBinEdge = 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iRowClass = 0; iRowClass &lt; <a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a2c7e8ec645c9b942748b8683cc12a05e">TopologyDictionary::MaxNumberOfClasses</a>; iRowClass++) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iColClass = 0; iColClass &lt; <a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a2c7e8ec645c9b942748b8683cc12a05e">TopologyDictionary::MaxNumberOfClasses</a>; iColClass++) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">if</span> ((iRowClass + 1) * (iColClass + 1) &lt;= TopologyDictionary::MaxNumberOfClasses) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        rowBinEdge = (iRowClass + 1) * <a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#af7dfbb546df9670bddd03e3a4e69021f">TopologyDictionary::RowClassSpan</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        colBinEdge = (iColClass + 1) * <a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a1fb528031cb7b8795d42557d41d4ffb3">TopologyDictionary::ColClassSpan</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        grNum = <a class="code" href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#ad35444f7a9a91eb926411301acb090bb">LookUp::groupFinder</a>(rowBinEdge, colBinEdge);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">// Create a structure for a group of rare topologies</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a> gr;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a> = (((<span class="keywordtype">unsigned</span> long)(grNum)) &lt;&lt; 32) &amp; 0xffffffff00000000;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a314f9727d2a27c8af93c010ce2df6c5c">mErrX</a> = (rowBinEdge)*<a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">o2::itsmft::SegmentationAlpide::PitchRow</a> / std::sqrt(12);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a572ca41c46b9575f3cd3ba4c6c39a27e">mErrZ</a> = (colBinEdge)*<a class="code" href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">o2::itsmft::SegmentationAlpide::PitchCol</a> / std::sqrt(12);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a777c5133125d3c89e40a54c30d5b875e">mXCOG</a> = 0;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af8df5bc3c079352c1d98429c31333ad5">mZCOG</a> = 0;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a800264533bfec7eb8ce2bcfe9aac0044">mNpixels</a> = rowBinEdge * colBinEdge;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af26669844efe6dd979e16a3655e44690">mIsGroup</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#ade6814e69555dc93550db229f228c5d3">mFrequency</a> = 0.;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dummyPattern[<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a68c9547a6969d10f2a250f70c577fc37">ClusterPattern::kExtendedPatternBytes</a>] = {0};</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        dummyPattern[0] = (<span class="keywordtype">unsigned</span> char)rowBinEdge;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        dummyPattern[1] = (<span class="keywordtype">unsigned</span> char)colBinEdge;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordtype">int</span> nBits = rowBinEdge * colBinEdge;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordtype">int</span> nBytes = nBits / 8;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iB = 2; iB &lt; nBytes + 2; iB++) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          dummyPattern[iB] = (<span class="keywordtype">unsigned</span> char)255;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">int</span> residualBits = nBits % 8;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (residualBits) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> tempChar = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          <span class="keywordflow">while</span> (residualBits &gt; 0) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            residualBits--;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            tempChar |= 1 &lt;&lt; (7 - residualBits);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          dummyPattern[nBytes + 2] = tempChar;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">mPattern</a>.<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a45933636ff0b62e2140c545c52992119">setPattern</a>(dummyPattern);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="comment">// Filling the map for groups</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        tmp_GroupMap[grNum] = std::make_pair(gr, 0);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordtype">int</span> rs;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordtype">int</span> cs;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// Updating the counts for the groups of rare topologies</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)mNCommonTopologies; j &lt; mTopologyFrequency.size(); j++) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> hash1 = mTopologyFrequency[j].second;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    rs = mTopologyMap.find(hash1)-&gt;second.topology.getRowSpan();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    cs = mTopologyMap.find(hash1)-&gt;second.topology.getColumnSpan();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    index = <a class="code" href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#ad35444f7a9a91eb926411301acb090bb">LookUp::groupFinder</a>(rs, cs);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    tmp_GroupMap[<a class="code" href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a>].second += mTopologyFrequency[j].first;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; p : tmp_GroupMap) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a> = p.second.first;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    group.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#ade6814e69555dc93550db229f228c5d3">mFrequency</a> = ((double)p.second.second) / mTotClusters;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    mDictionary.mVectorOfIDs.push_back(group);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// Sorting the dictionary</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  std::sort(mDictionary.mVectorOfIDs.begin(), mDictionary.mVectorOfIDs.end(), [](<span class="keyword">const</span> <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>, <span class="keyword">const</span> <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>) { <span class="keywordflow">return</span> (a.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#ade6814e69555dc93550db229f228c5d3">mFrequency</a> &gt; <a class="code" href="../../dc/da3/glcorearb_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>.mFrequency); });</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// Creating the map for common topologies</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iKey = 0; iKey &lt; mDictionary.<a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a3eb07921731e77d4564444132b57c561">getSize</a>(); iKey++) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">GroupStruct</a>&amp; gr = mDictionary.mVectorOfIDs[iKey];</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (!gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af26669844efe6dd979e16a3655e44690">mIsGroup</a>) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      mDictionary.mCommonMap.insert(std::make_pair(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a>, iKey));</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">mPattern</a>.<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#aea0100f6dc87e7d97c040a0301ec19d9">getUsedBytes</a>() == 1)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        mDictionary.mSmallTopologiesLUT[(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">mPattern</a>.<a class="code" href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a1fe07f5b7815025d5e308f1d8e27d52e">getColumnSpan</a>() - 1) * 255 + (<span class="keywordtype">int</span>)gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">mPattern</a>.mBitmap[2]] = iKey;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      mDictionary.mGroupMap.insert(std::make_pair((<span class="keywordtype">int</span>)(gr.<a class="code" href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">mHash</a> &gt;&gt; 32) &amp; 0x00000000ffffffff, iKey));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Dictionay finalised&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Number of keys: &quot;</span> &lt;&lt; mDictionary.<a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a3eb07921731e77d4564444132b57c561">getSize</a>() &lt;&lt; std::endl;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Number of common topologies: &quot;</span> &lt;&lt; mDictionary.mCommonMap.size() &lt;&lt; std::endl;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Number of groups of rare topologies: &quot;</span> &lt;&lt; mDictionary.mGroupMap.size() &lt;&lt; std::endl;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../dc/d84/namespaceo2_1_1itsmft.html#a1aa0a798965ca5a5ee4bb3b3b7fcb477">  245</a></span>&#160;std::ostream&amp; <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#af42b6833961e78021a263b63242e8ed5">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html">BuildTopologyDictionary</a>&amp; DB)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; DB.mNCommonTopologies; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>&amp; hash = DB.mTopologyFrequency[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].second;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;Hash: &quot;</span> &lt;&lt; hash &lt;&lt; std::endl;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;counts: &quot;</span> &lt;&lt; DB.mTopologyMap.find(hash)-&gt;second.countsTotal;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot; (with bias provided: &quot;</span> &lt;&lt; DB.mTopologyMap.find(hash)-&gt;second.countsWithBias &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;sigmaX: &quot;</span> &lt;&lt; std::sqrt(DB.mMapInfo.find(hash)-&gt;second.mXsigma2) &lt;&lt; std::endl;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;sigmaZ: &quot;</span> &lt;&lt; std::sqrt(DB.mMapInfo.find(hash)-&gt;second.mZsigma2) &lt;&lt; std::endl;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    os &lt;&lt; DB.mTopologyMap.find(hash)-&gt;second.topology;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">return</span> os;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad21521ef71c85af3d45af800c3940e32">  259</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad21521ef71c85af3d45af800c3940e32">BuildTopologyDictionary::printDictionary</a>(<span class="keyword">const</span> std::string&amp; fname)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Saving the the dictionary in binary format: &quot;</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  std::ofstream out(fname);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  out &lt;&lt; mDictionary;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  out.close();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;done!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ab1acb88ef73661637a95adae60a0fb46">  268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ab1acb88ef73661637a95adae60a0fb46">BuildTopologyDictionary::printDictionaryBinary</a>(<span class="keyword">const</span> std::string&amp; fname)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Printing the dictionary: &quot;</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  std::ofstream out(fname);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  mDictionary.<a class="code" href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#ac2c022420f36ade90720d356a082a54f">writeBinaryFile</a>(fname);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  out.close();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;done!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ade0d9acc2e2713500fbe569faa60afe3">  277</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ade0d9acc2e2713500fbe569faa60afe3">BuildTopologyDictionary::saveDictionaryRoot</a>(<span class="keyword">const</span> std::string&amp; fname)</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Saving the the dictionary in a ROOT file: &quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  TFile <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>(fname.c_str(), <span class="stringliteral">&quot;recreate&quot;</span>);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>.WriteObjectAny(&amp;mDictionary, mDictionary.Class(), <span class="stringliteral">&quot;TopologyDictionary&quot;</span>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a>.Close();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;done!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;} <span class="comment">// namespace itsmft</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;} <span class="comment">// namespace o2</span></div><div class="ttc" id="glcorearb_8h_html_a63df202498bbd53ffe4e22227effe5a0"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a63df202498bbd53ffe4e22227effe5a0">first</a></div><div class="ttdeci">GLint first</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterPattern_html_a1fe07f5b7815025d5e308f1d8e27d52e"><div class="ttname"><a href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a1fe07f5b7815025d5e308f1d8e27d52e">o2::itsmft::ClusterPattern::getColumnSpan</a></div><div class="ttdeci">int getColumnSpan() const</div><div class="ttdoc">Returns the number of columns. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc1/ClusterPattern_8h_source.html#l00067">ClusterPattern.h:67</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a4b5d6d20082d1907290b77b607ed88ae"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4b5d6d20082d1907290b77b607ed88ae">o2::itsmft::BuildTopologyDictionary::BuildTopologyDictionary</a></div><div class="ttdeci">BuildTopologyDictionary()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00029">BuildTopologyDictionary.cxx:29</a></div></div>
<div class="ttc" id="LookUp_8h_html"><div class="ttname"><a href="../../df/ddf/LookUp_8h.html">LookUp.h</a></div><div class="ttdoc">Definition of the LookUp class. </div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1TopologyDictionary_html_a3eb07921731e77d4564444132b57c561"><div class="ttname"><a href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a3eb07921731e77d4564444132b57c561">o2::itsmft::TopologyDictionary::getSize</a></div><div class="ttdeci">int getSize() const</div><div class="ttdoc">Returns the number of elements in the dicionary;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00156">TopologyDictionary.h:156</a></div></div>
<div class="ttc" id="namespaceo2_html"><div class="ttname"><a href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="ttdoc">information complementary to a CCDB object (path, metadata, startTimeValidity, endTimeValidity etc) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d24/BitstreamReader_8h_source.html#l00022">BitstreamReader.h:22</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a72a15f0e985725c69b07bf03c3818782"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a72a15f0e985725c69b07bf03c3818782">q</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h q</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00040">qconfigoptions.h:40</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_af26669844efe6dd979e16a3655e44690"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af26669844efe6dd979e16a3655e44690">o2::itsmft::GroupStruct::mIsGroup</a></div><div class="ttdeci">bool mIsGroup</div><div class="ttdoc">false: common topology; true: group of rare topologies </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00062">TopologyDictionary.h:62</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_af8df5bc3c079352c1d98429c31333ad5"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af8df5bc3c079352c1d98429c31333ad5">o2::itsmft::GroupStruct::mZCOG</a></div><div class="ttdeci">float mZCOG</div><div class="ttdoc">z position of te COG wrt the boottom left corner of the bounding box </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00057">TopologyDictionary.h:57</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterPattern_html_aea0100f6dc87e7d97c040a0301ec19d9"><div class="ttname"><a href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#aea0100f6dc87e7d97c040a0301ec19d9">o2::itsmft::ClusterPattern::getUsedBytes</a></div><div class="ttdeci">int getUsedBytes() const</div><div class="ttdoc">Returns the number of bytes used for the pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/ClusterPattern_8cxx_source.html#l00042">ClusterPattern.cxx:42</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html">o2::itsmft::GroupStruct</a></div><div class="ttdoc">Structure containing the most relevant pieces of information of a topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00050">TopologyDictionary.h:50</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html">o2::itsmft::TopologyInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00034">BuildTopologyDictionary.h:34</a></div></div>
<div class="ttc" id="glcorearb_8h_html_ac8729153468b5dcf13f971b21d84d4e5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a></div><div class="ttdeci">GLboolean GLboolean GLboolean GLboolean a</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01233">glcorearb.h:1233</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a542da921094a1267667ba29581dd060e"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a542da921094a1267667ba29581dd060e">o2::itsmft::ClusterTopology::getHash</a></div><div class="ttdeci">unsigned long getHash() const</div><div class="ttdoc">Returns the hashcode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00053">ClusterTopology.h:53</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a777c5133125d3c89e40a54c30d5b875e"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a777c5133125d3c89e40a54c30d5b875e">o2::itsmft::GroupStruct::mXCOG</a></div><div class="ttdeci">float mXCOG</div><div class="ttdoc">x position of te COG wrt the boottom left corner of the bounding box </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00056">TopologyDictionary.h:56</a></div></div>
<div class="ttc" id="bench__Clusterizer_8cxx_html_af656038045ce6448240b3767491787da"><div class="ttname"><a href="../../d2/d12/bench__Clusterizer_8cxx.html#af656038045ce6448240b3767491787da">num</a></div><div class="ttdeci">double num</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d12/bench__Clusterizer_8cxx_source.html#l00122">bench_Clusterizer.cxx:122</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a943fb8bda2e7e4c30ecc91bae981b989"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a943fb8bda2e7e4c30ecc91bae981b989">o2::itsmft::GroupStruct::mPattern</a></div><div class="ttdeci">ClusterPattern mPattern</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00059">TopologyDictionary.h:59</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterPattern_html_a68c9547a6969d10f2a250f70c577fc37"><div class="ttname"><a href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a68c9547a6969d10f2a250f70c577fc37">o2::itsmft::ClusterPattern::kExtendedPatternBytes</a></div><div class="ttdeci">static constexpr int kExtendedPatternBytes</div><div class="ttdoc">Maximum number of bytes for the cluster puttern + 2 bytes respectively for the number of rows and col...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc1/ClusterPattern_8h_source.html#l00059">ClusterPattern.h:59</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_af7ffeada77320dc28201cc937640aaed"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#af7ffeada77320dc28201cc937640aaed">o2::itsmft::TopologyInfo::mSizeX</a></div><div class="ttdeci">int mSizeX</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00035">BuildTopologyDictionary.h:35</a></div></div>
<div class="ttc" id="BuildTopologyDictionary_8cxx_html_aad6ffea6df8f52703a0f7a223fab96c1"><div class="ttname"><a href="../../d9/d9d/BuildTopologyDictionary_8cxx.html#aad6ffea6df8f52703a0f7a223fab96c1">ClassImp</a></div><div class="ttdeci">ClassImp(o2::itsmft::BuildTopologyDictionary)</div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_ad02a3ca716e8f20ab01dc7f888ac0674"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad02a3ca716e8f20ab01dc7f888ac0674">o2::itsmft::BuildTopologyDictionary::setThresholdCumulative</a></div><div class="ttdeci">void setThresholdCumulative(double cumulative)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00108">BuildTopologyDictionary.cxx:108</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_af5a0adb06e1016c1bf2b0f7b30593244"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#af5a0adb06e1016c1bf2b0f7b30593244">o2::itsmft::TopologyInfo::mCOGx</a></div><div class="ttdeci">float mCOGx</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00037">BuildTopologyDictionary.h:37</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1LookUp_html_ad35444f7a9a91eb926411301acb090bb"><div class="ttname"><a href="../../d5/d91/classo2_1_1itsmft_1_1LookUp.html#ad35444f7a9a91eb926411301acb090bb">o2::itsmft::LookUp::groupFinder</a></div><div class="ttdeci">static int groupFinder(int nRow, int nCol)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd5/LookUp_8cxx_source.html#l00040">LookUp.cxx:40</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_ad21521ef71c85af3d45af800c3940e32"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ad21521ef71c85af3d45af800c3940e32">o2::itsmft::BuildTopologyDictionary::printDictionary</a></div><div class="ttdeci">void printDictionary(const std::string &amp;fname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00259">BuildTopologyDictionary.cxx:259</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_a86f5009bc200a8acaefa766dfd08a818"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a86f5009bc200a8acaefa766dfd08a818">o2::itsmft::TopologyInfo::mCOGz</a></div><div class="ttdeci">float mCOGz</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00038">BuildTopologyDictionary.h:38</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a3a09e11fc43e4d6b94f5706e5d353078"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a3a09e11fc43e4d6b94f5706e5d353078">o2::itsmft::BuildTopologyDictionary::IgnoreVal</a></div><div class="ttdeci">static constexpr float IgnoreVal</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00060">BuildTopologyDictionary.h:60</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1TopologyDictionary_html_a1fb528031cb7b8795d42557d41d4ffb3"><div class="ttname"><a href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a1fb528031cb7b8795d42557d41d4ffb3">o2::itsmft::TopologyDictionary::ColClassSpan</a></div><div class="ttdeci">static constexpr int ColClassSpan</div><div class="ttdoc">Column span of the classes of rare topologies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00077">TopologyDictionary.h:77</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_a2ff32b6a33867998bb2e216356cb948e"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a2ff32b6a33867998bb2e216356cb948e">o2::itsmft::TopologyInfo::mSizeZ</a></div><div class="ttdeci">int mSizeZ</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00036">BuildTopologyDictionary.h:36</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_af42b6833961e78021a263b63242e8ed5"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#af42b6833961e78021a263b63242e8ed5">o2::itsmft::BuildTopologyDictionary::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const BuildTopologyDictionary &amp;BD)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00245">BuildTopologyDictionary.cxx:245</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a314f9727d2a27c8af93c010ce2df6c5c"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a314f9727d2a27c8af93c010ce2df6c5c">o2::itsmft::GroupStruct::mErrX</a></div><div class="ttdeci">float mErrX</div><div class="ttdoc">Error associated to the hit point in the x direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00052">TopologyDictionary.h:52</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterPattern_html_a45933636ff0b62e2140c545c52992119"><div class="ttname"><a href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a45933636ff0b62e2140c545c52992119">o2::itsmft::ClusterPattern::setPattern</a></div><div class="ttdeci">void setPattern(int nRow, int nCol, const unsigned char patt[Cluster::kMaxPatternBytes])</div><div class="ttdoc">Sets the pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/ClusterPattern_8cxx_source.html#l00051">ClusterPattern.cxx:51</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a572ca41c46b9575f3cd3ba4c6c39a27e"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a572ca41c46b9575f3cd3ba4c6c39a27e">o2::itsmft::GroupStruct::mErrZ</a></div><div class="ttdeci">float mErrZ</div><div class="ttdoc">Error associated to the hit point in the z direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00053">TopologyDictionary.h:53</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_ade6814e69555dc93550db229f228c5d3"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#ade6814e69555dc93550db229f228c5d3">o2::itsmft::GroupStruct::mFrequency</a></div><div class="ttdeci">double mFrequency</div><div class="ttdoc">Frequency of the topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00061">TopologyDictionary.h:61</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a5b98961bef1947a7d6c2aacf1fb64733"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a5b98961bef1947a7d6c2aacf1fb64733">o2::itsmft::BuildTopologyDictionary::setNCommon</a></div><div class="ttdeci">void setNCommon(unsigned int nCommon)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00093">BuildTopologyDictionary.cxx:93</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html">o2::itsmft::ClusterTopology</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00031">ClusterTopology.h:31</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a16539b5a891d0de9480620161b15b253"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a16539b5a891d0de9480620161b15b253">o2::itsmft::ClusterTopology::getRowSpan</a></div><div class="ttdeci">int getRowSpan() const</div><div class="ttdoc">Returns the number of rows. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00047">ClusterTopology.h:47</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a800264533bfec7eb8ce2bcfe9aac0044"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a800264533bfec7eb8ce2bcfe9aac0044">o2::itsmft::GroupStruct::mNpixels</a></div><div class="ttdeci">int mNpixels</div><div class="ttdoc">Number of fired pixels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00058">TopologyDictionary.h:58</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_ae4bfecebd880c617751b0f37e0a41b87"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#ae4bfecebd880c617751b0f37e0a41b87">o2::itsmft::TopologyInfo::mNpixels</a></div><div class="ttdeci">int mNpixels</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00043">BuildTopologyDictionary.h:43</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html_a36000cdf3c95c75e6bb50d7377173c02"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#a36000cdf3c95c75e6bb50d7377173c02">o2::itsmft::SegmentationAlpide::PitchCol</a></div><div class="ttdeci">static constexpr float PitchCol</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00037">SegmentationAlpide.h:37</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a9a17759669f31086dce06c5d54349093"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a9a17759669f31086dce06c5d54349093">o2::itsmft::ClusterTopology::getPattern</a></div><div class="ttdeci">std::array&lt; unsigned char, ClusterPattern::kExtendedPatternBytes &gt; getPattern() const</div><div class="ttdoc">Returns the pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00044">ClusterTopology.h:44</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a6eba317e3cf44d6d26c04a5a8f197dcb"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a></div><div class="ttdeci">GLboolean GLboolean GLboolean b</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01233">glcorearb.h:1233</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1TopologyDictionary_html_ac2c022420f36ade90720d356a082a54f"><div class="ttname"><a href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#ac2c022420f36ade90720d356a082a54f">o2::itsmft::TopologyDictionary::writeBinaryFile</a></div><div class="ttdeci">void writeBinaryFile(std::string outputFile)</div><div class="ttdoc">Prints the dictionary in a binary file. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d48/TopologyDictionary_8cxx_source.html#l00052">TopologyDictionary.cxx:52</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a412d69ba8925d56bd5de3e81c72542b3"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a412d69ba8925d56bd5de3e81c72542b3">o2::itsmft::GroupStruct::mErr2X</a></div><div class="ttdeci">float mErr2X</div><div class="ttdoc">Squared Error associated to the hit point in the x direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00054">TopologyDictionary.h:54</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_a730ba76918a48aea11b49aa40d8d4aa1"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#a730ba76918a48aea11b49aa40d8d4aa1">o2::itsmft::GroupStruct::mHash</a></div><div class="ttdeci">unsigned long mHash</div><div class="ttdoc">Hashcode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00051">TopologyDictionary.h:51</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_ab1acb88ef73661637a95adae60a0fb46"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ab1acb88ef73661637a95adae60a0fb46">o2::itsmft::BuildTopologyDictionary::printDictionaryBinary</a></div><div class="ttdeci">void printDictionaryBinary(const std::string &amp;fname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00268">BuildTopologyDictionary.cxx:268</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterPattern_html_a0143bc8d68ee10797249407d9902514b"><div class="ttname"><a href="../../d3/d02/classo2_1_1itsmft_1_1ClusterPattern.html#a0143bc8d68ee10797249407d9902514b">o2::itsmft::ClusterPattern::getCOG</a></div><div class="ttdeci">static int getCOG(int nRow, int nCol, const unsigned char patt[Cluster::kMaxPatternBytes], float &amp;xCOG, float &amp;zCOG)</div><div class="ttdoc">Static: Compute pattern&amp;#39;s COG position. Returns the number of fired pixels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1a/ClusterPattern_8cxx_source.html#l00102">ClusterPattern.cxx:102</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a0223e213542fa94bdd28fe719b3cde98"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a0223e213542fa94bdd28fe719b3cde98">o2::itsmft::ClusterTopology::getClusterPattern</a></div><div class="ttdeci">ClusterPattern getClusterPattern() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00045">ClusterTopology.h:45</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html">o2::itsmft::BuildTopologyDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00056">BuildTopologyDictionary.h:56</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_ade0d9acc2e2713500fbe569faa60afe3"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#ade0d9acc2e2713500fbe569faa60afe3">o2::itsmft::BuildTopologyDictionary::saveDictionaryRoot</a></div><div class="ttdeci">void saveDictionaryRoot(const std::string &amp;fname)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00277">BuildTopologyDictionary.cxx:277</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a57f14e05b1900f16a2da82ade47d0c6d"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a57f14e05b1900f16a2da82ade47d0c6d">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00781">glcorearb.h:781</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a7bdaf36d04d4a6c0ddf62dff8a844653"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7bdaf36d04d4a6c0ddf62dff8a844653">o2::itsmft::BuildTopologyDictionary::groupRareTopologies</a></div><div class="ttdeci">void groupRareTopologies()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00136">BuildTopologyDictionary.cxx:136</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_aa64660a34ff2800b3443f55b0d7e36f0"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#aa64660a34ff2800b3443f55b0d7e36f0">o2::itsmft::TopologyInfo::mZmean</a></div><div class="ttdeci">float mZmean</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00041">BuildTopologyDictionary.h:41</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a4e521dd605e4e0e248bea509663a73a9"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a4e521dd605e4e0e248bea509663a73a9">o2::itsmft::BuildTopologyDictionary::accountTopology</a></div><div class="ttdeci">void accountTopology(const ClusterTopology &amp;cluster, float dX=IgnoreVal, float dZ=IgnoreVal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00031">BuildTopologyDictionary.cxx:31</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_a43ef2f6b2eb004df3023f37ca38bb85d"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a43ef2f6b2eb004df3023f37ca38bb85d">o2::itsmft::TopologyInfo::mPattern</a></div><div class="ttdeci">ClusterPattern mPattern</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00044">BuildTopologyDictionary.h:44</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1TopologyDictionary_html_af7dfbb546df9670bddd03e3a4e69021f"><div class="ttname"><a href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#af7dfbb546df9670bddd03e3a4e69021f">o2::itsmft::TopologyDictionary::RowClassSpan</a></div><div class="ttdeci">static constexpr int RowClassSpan</div><div class="ttdoc">Row span of the classes of rare topologies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00076">TopologyDictionary.h:76</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1ClusterTopology_html_a357c506a7d3dd0414cced351c1202452"><div class="ttname"><a href="../../d1/dd8/classo2_1_1itsmft_1_1ClusterTopology.html#a357c506a7d3dd0414cced351c1202452">o2::itsmft::ClusterTopology::getColumnSpan</a></div><div class="ttdeci">int getColumnSpan() const</div><div class="ttdoc">Returns the number of columns. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/ddb/ClusterTopology_8h_source.html#l00049">ClusterTopology.h:49</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1TopologyDictionary_html_a2c7e8ec645c9b942748b8683cc12a05e"><div class="ttname"><a href="../../d4/deb/classo2_1_1itsmft_1_1TopologyDictionary.html#a2c7e8ec645c9b942748b8683cc12a05e">o2::itsmft::TopologyDictionary::MaxNumberOfClasses</a></div><div class="ttdeci">static constexpr int MaxNumberOfClasses</div><div class="ttdoc">Maximum number of row/column classes for the groups of rare topologies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00079">TopologyDictionary.h:79</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a907548ce3e5521fd5399f50e8df298bf"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a907548ce3e5521fd5399f50e8df298bf">group</a></div><div class="ttdeci">GLboolean GLuint group</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l03991">glcorearb.h:3991</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1SegmentationAlpide_html_ace27e55969c98c0db6eb777526c9eafe"><div class="ttname"><a href="../../dd/d50/classo2_1_1itsmft_1_1SegmentationAlpide.html#ace27e55969c98c0db6eb777526c9eafe">o2::itsmft::SegmentationAlpide::PitchRow</a></div><div class="ttdeci">static constexpr float PitchRow</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dba/SegmentationAlpide_8h_source.html#l00038">SegmentationAlpide.h:38</a></div></div>
<div class="ttc" id="rawdump_8cxx_html_a7dc04e2458e5499a252d97256c6ec944"><div class="ttname"><a href="../../d4/dbc/rawdump_8cxx.html#a7dc04e2458e5499a252d97256c6ec944">output</a></div><div class="ttdeci">void output(const std::map&lt; std::string, ChannelStat &gt; &amp;channels)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dbc/rawdump_8cxx_source.html#l00194">rawdump.cxx:194</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1TopologyInfo_html_a364e62ba38417cd2606e22f03fc500af"><div class="ttname"><a href="../../d6/dbf/structo2_1_1itsmft_1_1TopologyInfo.html#a364e62ba38417cd2606e22f03fc500af">o2::itsmft::TopologyInfo::mXmean</a></div><div class="ttdeci">float mXmean</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1d/BuildTopologyDictionary_8h_source.html#l00039">BuildTopologyDictionary.h:39</a></div></div>
<div class="ttc" id="structo2_1_1itsmft_1_1GroupStruct_html_af30116caaf745353467c1a6976d68f2d"><div class="ttname"><a href="../../da/d30/structo2_1_1itsmft_1_1GroupStruct.html#af30116caaf745353467c1a6976d68f2d">o2::itsmft::GroupStruct::mErr2Z</a></div><div class="ttdeci">float mErr2Z</div><div class="ttdoc">Squared Error associated to the hit point in the z direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d08/TopologyDictionary_8h_source.html#l00055">TopologyDictionary.h:55</a></div></div>
<div class="ttc" id="classo2_1_1itsmft_1_1BuildTopologyDictionary_html_a7dda3b75ff47bdc8ceeb792a53c87677"><div class="ttname"><a href="../../d9/d3d/classo2_1_1itsmft_1_1BuildTopologyDictionary.html#a7dda3b75ff47bdc8ceeb792a53c87677">o2::itsmft::BuildTopologyDictionary::setThreshold</a></div><div class="ttdeci">void setThreshold(double thr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d9d/BuildTopologyDictionary_8cxx_source.html#l00072">BuildTopologyDictionary.cxx:72</a></div></div>
<div class="ttc" id="BuildTopologyDictionary_8h_html"><div class="ttname"><a href="../../d9/d1d/BuildTopologyDictionary_8h.html">BuildTopologyDictionary.h</a></div><div class="ttdoc">Definition of the BuildTopologyDictionary class. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_1306292b77b40360479b729ac9ee7efe.html">ITSMFT</a></li><li class="navelem"><a class="el" href="../../dir_85bf31a2e8d306e7598ffcb73f8df6bf.html">common</a></li><li class="navelem"><a class="el" href="../../dir_2174d8cbbd82d5c404dd04814f845a3a.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_2382d22bdf51ce6783d3a58c2cee3de2.html">src</a></li><li class="navelem"><a class="el" href="../../d9/d9d/BuildTopologyDictionary_8cxx.html">BuildTopologyDictionary.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:23 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
