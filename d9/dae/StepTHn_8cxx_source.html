<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Analysis/Core/src/StepTHn.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/dae/StepTHn_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">StepTHn.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/dae/StepTHn_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// Use StepTHn instead of THn and your memory consumption will be drastically reduced</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// Once you have the merged output, use getTHn() to get a standard histogram</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// this storage container is optimized for small memory usage</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//   under/over flow bins do not exist</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//   sumw2 structure is float only and only create when the weight != 1</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// Templated version allows also the use of double as storage container</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d87/StepTHn_8h.html">Analysis/StepTHn.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;TList.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;TCollection.h&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;TArrayF.h&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;TArrayD.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;THn.h&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;TMath.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// for LOGF</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d57/AnalysisTask_8h.html">Framework/AnalysisTask.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<a class="code" href="../../d9/dae/StepTHn_8cxx.html#aafbf46c9009cdd257667490280a1f8a7">templateClassImp</a>(<a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#aef4a43f96b648c535861b708cfb43652">   34</a></span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#aef4a43f96b648c535861b708cfb43652">StepTHn&lt;TemplateArray, TemplateType&gt;::StepTHn</a>() : <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>(),</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                                    mNBins(0),</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                                    mNVars(0),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                                                    mNSteps(0),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                                    mValues(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                    mSumw2(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                    mTarget(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                                    mAxisCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                                    mNbinsCache(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                    mLastVars(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                                    mLastBins(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                    mPrototype(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// Constructor</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a305e4ec2bbb276508ca03b3aa3ee6870">   51</a></span>&#160;<a class="code" href="../../d7/ddd/classStepTHn.html#aef4a43f96b648c535861b708cfb43652">StepTHn&lt;TemplateArray, TemplateType&gt;::StepTHn</a>(<span class="keyword">const</span> Char_t* <a class="code" href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a>, <span class="keyword">const</span> Char_t* title, <span class="keyword">const</span> Int_t nSteps, <span class="keyword">const</span> Int_t nAxis, Int_t* nBins, Double_t** binEdges, <span class="keyword">const</span> <span class="keywordtype">char</span>** axisTitles) : <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>(name, title, nSteps, nAxis, nBins, binEdges, axisTitles),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>(0),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>(nAxis),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>(nSteps),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                                                                                                                                                                                            <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// Constructor</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a> = 1;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a> *= nBins[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// TODO this should be double for StepTHnD</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a> = <span class="keyword">new</span> THnSparseF(Form(<span class="stringliteral">&quot;%s_sparse&quot;</span>, name), title, nAxis, nBins);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>-&gt;SetBinEdges(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, binEdges[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>-&gt;GetAxis(i)-&gt;SetTitle(axisTitles[i]);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#ac52fea027c5ba6d96a8c77308cb81cee">init</a>();</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TemplateArray, TemplateType&gt;::StepTHn::init</a>()</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// initialize</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a> = <span class="keyword">new</span> TemplateArray*[<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>];</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a> = <span class="keyword">new</span> TemplateArray*[<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>];</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a61422a8ac8a6e95415a0fbc81ae5125a">   96</a></span>&#160;<a class="code" href="../../d7/ddd/classStepTHn.html#aef4a43f96b648c535861b708cfb43652">StepTHn&lt;TemplateArray, TemplateType&gt;::StepTHn</a>(<span class="keyword">const</span> <a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TemplateArray, TemplateType&gt;</a>&amp; c) : <a class="code" href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a>(c),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>(c.<a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>(c.<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>(c.<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>(new TemplateArray*[c.<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>]),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>(new TemplateArray*[c.<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>]),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                                                                               <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>)</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// StepTHn copy constructor</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">//</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  ((<a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>&amp;)c).Copy(*<span class="keyword">this</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a167eb1b9d28045f00da013996c99f6b0">  117</a></span>&#160;<a class="code" href="../../d7/ddd/classStepTHn.html#a167eb1b9d28045f00da013996c99f6b0">StepTHn&lt;TemplateArray, TemplateType&gt;::~StepTHn</a>()</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// Destructor</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#ac8175878f0fb6f61b655ec8fe45941a1">deleteContainers</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">delete</span> <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#ac8175878f0fb6f61b655ec8fe45941a1">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/ddd/classStepTHn.html#ac8175878f0fb6f61b655ec8fe45941a1">StepTHn&lt;TemplateArray, TemplateType&gt;::deleteContainers</a>()</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// delete data containers</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a> &amp;&amp; <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keyword">delete</span> <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a> &amp;&amp; <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[i]) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keyword">delete</span> <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a> &amp;&amp; <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[i]) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keyword">delete</span> <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a68c2e3f6f5a4238ec2bba9616ce2bd4b">  158</a></span>&#160;<a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TemplateArray, TemplateType&gt;</a>&amp; <a class="code" href="../../d7/ddd/classStepTHn.html#a68c2e3f6f5a4238ec2bba9616ce2bd4b">StepTHn&lt;TemplateArray, TemplateType&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TemplateArray, TemplateType&gt;</a>&amp; c)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// assigment operator</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;c)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    ((<a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>&amp;)c).<a class="code" href="../../d7/ddd/classStepTHn.html#a82958cbfb5874b03db938a013670a138">Copy</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a82958cbfb5874b03db938a013670a138">  170</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/ddd/classStepTHn.html#a82958cbfb5874b03db938a013670a138">StepTHn&lt;TemplateArray, TemplateType&gt;::Copy</a>(<a class="code" href="../../d5/d0f/classTObject.html">TObject</a>&amp; c)<span class="keyword"> const</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// copy function</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>&amp; <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = (<a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>&amp;)c;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="../../dd/d4b/namespaceo2_1_1conf.html#ae4dab8a956979471626e27c23e88f69c">TNamed::Copy</a>(c);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  target.<a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a> = <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  target.<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a> = <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  target.<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a> = <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  target.<a class="code" href="../../d7/ddd/classStepTHn.html#ac52fea027c5ba6d96a8c77308cb81cee">init</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      target.<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> TemplateArray(*(<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[i]));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      target.<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[i])</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      target.<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> TemplateArray(*(<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[i]));</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      target.<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    target.<a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a> = <span class="keyword">dynamic_cast&lt;</span>THnSparseF*<span class="keyword">&gt;</span>(<a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>-&gt;Clone());</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//____________________________________________________________________</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#a4888f800f71c61684c4e9bacec16eeb8">  202</a></span>&#160;Long64_t <a class="code" href="../../d7/ddd/classStepTHn.html#a4888f800f71c61684c4e9bacec16eeb8">StepTHn&lt;TemplateArray, TemplateType&gt;::Merge</a>(TCollection* list)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// Merge a list of StepTHn objects with this (needed for</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// PROOF).</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// Returns the number of merged objects (including this).</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span> (!list)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (list-&gt;IsEmpty())</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  TIterator* iter = list-&gt;MakeIterator();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="../../d5/d0f/classTObject.html">TObject</a>* obj;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  Int_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">while</span> ((obj = iter-&gt;Next())) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn</a>*<span class="keyword">&gt;</span>(obj);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (entry == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> TemplateArray(<a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">for</span> (Long64_t l = 0; l &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>; l++)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[i]-&gt;GetArray()[l] += entry-&gt;<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;GetArray()[l];</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">new</span> TemplateArray(<a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">for</span> (Long64_t l = 0; l &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>; l++)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[i]-&gt;GetArray()[l] += entry-&gt;<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;GetArray()[l];</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    count++;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> count + 1;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#ab9a96b2e0dbf30b30c817493a6929514">  249</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/ddd/classStepTHn.html#ab9a96b2e0dbf30b30c817493a6929514">StepTHn&lt;TemplateArray, TemplateType&gt;::Fill</a>(<span class="keyword">const</span> Double_t* var, Int_t istep, Double_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a6b425be07cfa8ac09043ef8391e7e514">weight</a>)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// fills an entry</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// fill axis cache</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a> = <span class="keyword">new</span> TAxis*[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a> = <span class="keyword">new</span> Int_t[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;GetNbins();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a> = <span class="keyword">new</span> Double_t[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a> = <span class="keyword">new</span> Int_t[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// initial values to prevent checking for 0 below</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;FindBin(var[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = var[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// calculate global bin index</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  Long64_t bin = 0;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    bin *= <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    Int_t tmpBin = 0;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == var[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      tmpBin = <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      tmpBin = <a class="code" href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">mAxisCache</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;FindBin(var[i]);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">mLastBins</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = tmpBin;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">mLastVars</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = var[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//Printf(&quot;%d&quot;, tmpBin);</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// under/overflow not supported</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (tmpBin &lt; 1 || tmpBin &gt; <a class="code" href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">mNbinsCache</a>[i])</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// bins start from 0 here</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    bin += tmpBin - 1;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">//     Printf(&quot;%lld&quot;, bin);</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[istep]) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[istep] = <span class="keyword">new</span> TemplateArray(<a class="code" href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">mNBins</a>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Created values container for step %d&quot;</span>, istep);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (weight != 1) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// initialize with already filled entries (which have been filled with weight == 1), in this case mSumw2 := mValues</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[istep]) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[istep] = <span class="keyword">new</span> TemplateArray(*<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[istep]);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Created sumw2 container for step %d&quot;</span>, istep);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[istep]-&gt;GetArray()[bin] += <a class="code" href="../../dc/da3/glcorearb_8h.html#a6b425be07cfa8ac09043ef8391e7e514">weight</a>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[istep])</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[istep]-&gt;GetArray()[bin] += weight * <a class="code" href="../../dc/da3/glcorearb_8h.html#a6b425be07cfa8ac09043ef8391e7e514">weight</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">//   Printf(&quot;%f&quot;, mValues[istep][bin]);</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// debug</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">//   AliCFContainer::Fill(var, istep, weight);</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#ae24473ba2c9e05974d038d042586c822">  320</a></span>&#160;Long64_t <a class="code" href="../../d7/ddd/classStepTHn.html#ae24473ba2c9e05974d038d042586c822">StepTHn&lt;TemplateArray, TemplateType&gt;::getGlobalBinIndex</a>(<span class="keyword">const</span> Int_t* binIdx)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// calculates global bin index</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// binIdx contains TAxis bin indexes</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// here bin count starts at 0 because we do not have over/underflow bins</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  Long64_t bin = 0;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    bin *= <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>-&gt;GetAxis(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)-&gt;GetNbins();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    bin += binIdx[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> bin;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> TemplateArray, <span class="keyword">typename</span> TemplateType&gt;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../d7/ddd/classStepTHn.html#ac40c21bfc3586333c2cdb903af4ca1c9">  336</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/ddd/classStepTHn.html#ac40c21bfc3586333c2cdb903af4ca1c9">StepTHn&lt;TemplateArray, TemplateType&gt;::createTarget</a>(Int_t step, Bool_t sparse)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// fills the information stored in the buffer in this class into the target THn</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[step]) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(fatal, <span class="stringliteral">&quot;Histogram request for step %d which is empty.&quot;</span>, step);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a> = <span class="keyword">new</span> THnBase*[<a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>];</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">mNSteps</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[step])</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  TemplateType* <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a> = <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[step]-&gt;GetArray();</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// if mSumw2 is not stored, the sqrt of the number of bin entries in source is filled below; otherwise we use mSumw2</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  TemplateType* sourceSumw2 = <a class="code" href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[step])</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    sourceSumw2 = <a class="code" href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">mSumw2</a>[step]-&gt;GetArray();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (sparse)</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[step] = THnSparse::CreateSparse(Form(<span class="stringliteral">&quot;%s_%d&quot;</span>, GetName(), step), Form(<span class="stringliteral">&quot;%s_%d&quot;</span>, GetTitle(), step), <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[step] = THn::CreateHn(Form(<span class="stringliteral">&quot;%s_%d&quot;</span>, GetName(), step), Form(<span class="stringliteral">&quot;%s_%d&quot;</span>, GetTitle(), step), <a class="code" href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">mPrototype</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  THnBase* <a class="code" href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a> = <a class="code" href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">mTarget</a>[step];</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  Int_t* binIdx = <span class="keyword">new</span> Int_t[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  Int_t* nBins = <span class="keyword">new</span> Int_t[<a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>];</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">for</span> (Int_t j = 0; j &lt; <a class="code" href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">mNVars</a>; j++) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    binIdx[j] = 1;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    nBins[j] = target-&gt;GetAxis(j)-&gt;GetNbins();</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  Long64_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a> = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">//       for (Int_t j=0; j&lt;mNVars; j++)</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">//         printf(&quot;%d &quot;, binIdx[j]);</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    Long64_t globalBin = <a class="code" href="../../d7/ddd/classStepTHn.html#ae24473ba2c9e05974d038d042586c822">getGlobalBinIndex</a>(binIdx);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">//       Printf(&quot; --&gt; %lld&quot;, globalBin);</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (source[globalBin] != 0) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      target-&gt;SetBinContent(binIdx, source[globalBin]);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      target-&gt;SetBinError(binIdx, TMath::Sqrt(sourceSumw2[globalBin]));</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      count++;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    binIdx[mNVars - 1]++;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">for</span> (Int_t j = mNVars - 1; j &gt; 0; j--) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">if</span> (binIdx[j] &gt; nBins[j]) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        binIdx[j] = 1;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        binIdx[j - 1]++;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (binIdx[0] &gt; nBins[0])</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a>(info, <span class="stringliteral">&quot;Step %d: copied %lld entries out of %lld bins&quot;</span>, step, count, <a class="code" href="../../d7/ddd/classStepTHn.html#ae24473ba2c9e05974d038d042586c822">getGlobalBinIndex</a>(binIdx));</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">delete</span>[] binIdx;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keyword">delete</span>[] nBins;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keyword">delete</span> <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[step];</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">mValues</a>[step] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">template &lt;class TemplateArray, typename TemplateType&gt;</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">void StepTHn&lt;TemplateArray, TemplateType&gt;::FillParent()</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">  // fills the information stored in the buffer in this class into the baseclass containers</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">  FillContainer(this);</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">}</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">template &lt;class TemplateArray, typename TemplateType&gt;</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">void StepTHn&lt;TemplateArray, TemplateType&gt;::ReduceAxis()</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">{</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">  // &quot;removes&quot; one axis by summing over the axis and putting the entry to bin 1</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">  // TODO presently only implemented for the last axis</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  Int_t axis = mNVars-1;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">  for (Int_t i=0; i&lt;mNSteps; i++)</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">  {</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">    if (!mValues[i])</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">      continue;</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">      </span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">    TemplateType* source = mValues[i]-&gt;GetArray();</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">    TemplateType* sourceSumw2 = 0;</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">    if (mSumw2[i])</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">      sourceSumw2 = mSumw2[i]-&gt;GetArray();</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    </span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">    THnSparse* target = GetGrid(i)-&gt;GetGrid();</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">    </span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">    Int_t* binIdx = new Int_t[mNVars];</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">    Int_t* nBins  = new Int_t[mNVars];</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">    for (Int_t j=0; j&lt;mNVars; j++)</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">      binIdx[j] = 1;</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">      nBins[j] = target-&gt;GetAxis(j)-&gt;GetNbins();</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">    </span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    Long64_t count = 0;</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">    while (1)</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">    {</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">      // sum over axis &lt;axis&gt;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">      TemplateType sumValues = 0;</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">      TemplateType sumSumw2 = 0;</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">      for (Int_t j=1; j&lt;=nBins[axis]; j++)</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">      {</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">        binIdx[axis] = j;</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">        Long64_t globalBin = getGlobalBinIndex(binIdx);</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">        sumValues += source[globalBin];</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">        source[globalBin] = 0;</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">        if (sourceSumw2)</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">          sumSumw2 += sourceSumw2[globalBin];</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">          sourceSumw2[globalBin] = 0;</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">      binIdx[axis] = 1;</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">        </span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">      Long64_t globalBin = getGlobalBinIndex(binIdx);</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">      source[globalBin] = sumValues;</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">      if (sourceSumw2)</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">        sourceSumw2[globalBin] = sumSumw2;</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">      count++;</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">      // next bin</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">      binIdx[mNVars-2]++;</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">      </span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">      for (Int_t j=mNVars-2; j&gt;0; j--)</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">      {</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">        if (binIdx[j] &gt; nBins[j])</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">          binIdx[j] = 1;</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">          binIdx[j-1]++;</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">      }</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">      </span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">      if (binIdx[0] &gt; nBins[0])</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">        break;</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">    </span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">    AliInfo(Form(&quot;Step %d: reduced %lld bins to %lld entries&quot;, i, getGlobalBinIndex(binIdx), count));</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">    delete[] binIdx;</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">    delete[] nBins;</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">  }</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">}*/</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TArrayF, Float_t&gt;</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keyword">template</span> <span class="keyword">class </span><a class="code" href="../../d7/ddd/classStepTHn.html">StepTHn&lt;TArrayD, Double_t&gt;</a>;</div><div class="ttc" id="classStepTHn_html_a68c2e3f6f5a4238ec2bba9616ce2bd4b"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a68c2e3f6f5a4238ec2bba9616ce2bd4b">StepTHn::operator=</a></div><div class="ttdeci">StepTHn &amp; operator=(const StepTHn &amp;corr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00158">StepTHn.cxx:158</a></div></div>
<div class="ttc" id="classStepTHn_html_ac8175878f0fb6f61b655ec8fe45941a1"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac8175878f0fb6f61b655ec8fe45941a1">StepTHn::deleteContainers</a></div><div class="ttdeci">void deleteContainers() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00134">StepTHn.cxx:134</a></div></div>
<div class="ttc" id="classStepTHn_html_ab9a96b2e0dbf30b30c817493a6929514"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ab9a96b2e0dbf30b30c817493a6929514">StepTHn::Fill</a></div><div class="ttdeci">void Fill(const Double_t *var, Int_t istep, Double_t weight=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00249">StepTHn.cxx:249</a></div></div>
<div class="ttc" id="classStepTHn_html_a4bdbfec41746120e6f2cc5a5f231375d"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a4bdbfec41746120e6f2cc5a5f231375d">StepTHn::mPrototype</a></div><div class="ttdeci">THnSparse * mPrototype</div><div class="ttdoc">caching of last used bins (in many loops some vars are the same for a while) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00097">StepTHn.h:97</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="namespaceo2_1_1conf_html_ae4dab8a956979471626e27c23e88f69c"><div class="ttname"><a href="../../dd/d4b/namespaceo2_1_1conf.html#ae4dab8a956979471626e27c23e88f69c">o2::conf::Copy</a></div><div class="ttdeci">bool Copy(void const *addr, void *targetaddr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d03/ConfigurableParam_8cxx_source.html#l00587">ConfigurableParam.cxx:587</a></div></div>
<div class="ttc" id="classStepTHn_html_ac40c21bfc3586333c2cdb903af4ca1c9"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac40c21bfc3586333c2cdb903af4ca1c9">StepTHn::createTarget</a></div><div class="ttdeci">void createTarget(Int_t step, Bool_t sparse)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00336">StepTHn.cxx:336</a></div></div>
<div class="ttc" id="classStepTHn_html_ae24473ba2c9e05974d038d042586c822"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ae24473ba2c9e05974d038d042586c822">StepTHn::getGlobalBinIndex</a></div><div class="ttdeci">Long64_t getGlobalBinIndex(const Int_t *binIdx)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00320">StepTHn.cxx:320</a></div></div>
<div class="ttc" id="classStepTHn_html_af3bcb079c9e54db418847da325c15e6e"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#af3bcb079c9e54db418847da325c15e6e">StepTHn::mLastVars</a></div><div class="ttdeci">Double_t * mLastVars</div><div class="ttdoc">cache Nbins per axis </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00094">StepTHn.h:94</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a36862d7c6208bc30723fd06f2a0f9bfd"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a></div><div class="ttdeci">GLuint entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05735">glcorearb.h:5735</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a5c4947d4516dd7cfa3505ce3a648a4ef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a></div><div class="ttdeci">GLuint const GLchar * name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00781">glcorearb.h:781</a></div></div>
<div class="ttc" id="StepTHn_8cxx_html_aafbf46c9009cdd257667490280a1f8a7"><div class="ttname"><a href="../../d9/dae/StepTHn_8cxx.html#aafbf46c9009cdd257667490280a1f8a7">templateClassImp</a></div><div class="ttdeci">templateClassImp(StepTHn) template&lt; class TemplateArray</div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_a914560a78f061cb6b0424348c3917017"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#a914560a78f061cb6b0424348c3917017">LOGF</a></div><div class="ttdeci">#define LOGF(type, string,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00029">GPUCommonLogger.h:29</a></div></div>
<div class="ttc" id="classStepTHn_html_a167eb1b9d28045f00da013996c99f6b0"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a167eb1b9d28045f00da013996c99f6b0">StepTHn::~StepTHn</a></div><div class="ttdeci">~StepTHn() override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00117">StepTHn.cxx:117</a></div></div>
<div class="ttc" id="classStepTHn_html_a28b69829627cf181192cb0639bfea640"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a28b69829627cf181192cb0639bfea640">StepTHn::mSumw2</a></div><div class="ttdeci">TemplateArray ** mSumw2</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00088">StepTHn.h:88</a></div></div>
<div class="ttc" id="classStepTHn_html_ac52fea027c5ba6d96a8c77308cb81cee"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac52fea027c5ba6d96a8c77308cb81cee">StepTHn::init</a></div><div class="ttdeci">void init()</div></div>
<div class="ttc" id="classStepTHn_html_a51cfb5efcee30da115c68efb83462c16"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a51cfb5efcee30da115c68efb83462c16">StepTHn::mNSteps</a></div><div class="ttdeci">Int_t mNSteps</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00086">StepTHn.h:86</a></div></div>
<div class="ttc" id="classStepTHn_html_a82958cbfb5874b03db938a013670a138"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a82958cbfb5874b03db938a013670a138">StepTHn::Copy</a></div><div class="ttdeci">void Copy(TObject &amp;c) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00170">StepTHn.cxx:170</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a6ffd2192cbc75d017665e95207ee36a7"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6ffd2192cbc75d017665e95207ee36a7">source</a></div><div class="ttdeci">GLsizei GLsizei GLchar * source</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00798">glcorearb.h:798</a></div></div>
<div class="ttc" id="glcorearb_8h_html_af9d0cbbbeb7414e786c41899e5a856d7"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#af9d0cbbbeb7414e786c41899e5a856d7">target</a></div><div class="ttdeci">GLenum target</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01641">glcorearb.h:1641</a></div></div>
<div class="ttc" id="StepTHn_8h_html"><div class="ttname"><a href="../../d6/d87/StepTHn_8h.html">StepTHn.h</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a6b425be07cfa8ac09043ef8391e7e514"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a6b425be07cfa8ac09043ef8391e7e514">weight</a></div><div class="ttdeci">GLuint GLuint GLfloat weight</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05477">glcorearb.h:5477</a></div></div>
<div class="ttc" id="classStepTHn_html_a35cbe182ccb79150984329cbcb6c452d"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a35cbe182ccb79150984329cbcb6c452d">StepTHn::mLastBins</a></div><div class="ttdeci">Int_t * mLastBins</div><div class="ttdoc">caching of last used bins (in many loops some vars are the same for a while) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00095">StepTHn.h:95</a></div></div>
<div class="ttc" id="classStepTHn_html"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html">StepTHn</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00050">StepTHn.h:50</a></div></div>
<div class="ttc" id="classTObject_html"><div class="ttname"><a href="../../d5/d0f/classTObject.html">TObject</a></div></div>
<div class="ttc" id="classStepTHn_html_a4447f800f6521d75034209b8d48d2388"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a4447f800f6521d75034209b8d48d2388">StepTHn::mValues</a></div><div class="ttdeci">TemplateArray ** mValues</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00087">StepTHn.h:87</a></div></div>
<div class="ttc" id="AnalysisTask_8h_html"><div class="ttname"><a href="../../d6/d57/AnalysisTask_8h.html">AnalysisTask.h</a></div></div>
<div class="ttc" id="classStepTHn_html_ac9db48782a291259ec3e2d733927e5ad"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac9db48782a291259ec3e2d733927e5ad">StepTHn::mTarget</a></div><div class="ttdeci">THnBase ** mTarget</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00090">StepTHn.h:90</a></div></div>
<div class="ttc" id="classStepTHnBase_html"><div class="ttname"><a href="../../d2/d46/classStepTHnBase.html">StepTHnBase</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00025">StepTHn.h:25</a></div></div>
<div class="ttc" id="classStepTHn_html_ac8eba32168e3d1295464a22c7630942e"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac8eba32168e3d1295464a22c7630942e">StepTHn::mNbinsCache</a></div><div class="ttdeci">Int_t * mNbinsCache</div><div class="ttdoc">cache axis pointers (about 50% of the time in Fill is spent in GetAxis otherwise) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00093">StepTHn.h:93</a></div></div>
<div class="ttc" id="classStepTHn_html_aef4a43f96b648c535861b708cfb43652"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#aef4a43f96b648c535861b708cfb43652">StepTHn::StepTHn</a></div><div class="ttdeci">StepTHn()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00034">StepTHn.cxx:34</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="classStepTHn_html_a4888f800f71c61684c4e9bacec16eeb8"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a4888f800f71c61684c4e9bacec16eeb8">StepTHn::Merge</a></div><div class="ttdeci">Long64_t Merge(TCollection *list) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dae/StepTHn_8cxx_source.html#l00202">StepTHn.cxx:202</a></div></div>
<div class="ttc" id="classStepTHn_html_ac1dcd9936cc5d4e44515b52055e2c005"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#ac1dcd9936cc5d4e44515b52055e2c005">StepTHn::mNBins</a></div><div class="ttdeci">Long64_t mNBins</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00084">StepTHn.h:84</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a31eafbeac9256b106b6acfd78f305200"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a31eafbeac9256b106b6acfd78f305200">count</a></div><div class="ttdeci">GLint GLsizei count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00399">glcorearb.h:399</a></div></div>
<div class="ttc" id="classStepTHn_html_a87cf86df577b2458aff5c2808ec5184c"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a87cf86df577b2458aff5c2808ec5184c">StepTHn::mAxisCache</a></div><div class="ttdeci">TAxis ** mAxisCache</div><div class="ttdoc">target histogram </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00092">StepTHn.h:92</a></div></div>
<div class="ttc" id="classStepTHn_html_a8f91837ac7b832dc88c357370cb9510d"><div class="ttname"><a href="../../d7/ddd/classStepTHn.html#a8f91837ac7b832dc88c357370cb9510d">StepTHn::mNVars</a></div><div class="ttdeci">Int_t mNVars</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d87/StepTHn_8h_source.html#l00085">StepTHn.h:85</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_19b17cb436010079e3d017a29cb7858f.html">Analysis</a></li><li class="navelem"><a class="el" href="../../dir_8d04f135a1eb0fdc4d561ef87bbea216.html">Core</a></li><li class="navelem"><a class="el" href="../../dir_dbf3aa2601e44e8ec594b73561989030.html">src</a></li><li class="navelem"><a class="el" href="../../d9/dae/StepTHn_8cxx.html">StepTHn.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:20 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
