<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/CPV/reconstruction/src/FullCluster.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FullCluster.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h.html">DataFormatsCPV/Cluster.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d2a/CPV_2reconstruction_2include_2CPVReconstruction_2FullCluster_8h.html">CPVReconstruction/FullCluster.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/ddd/CPV_2base_2include_2CPVBase_2Geometry_8h.html">CPVBase/Geometry.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d2a/CPVSimParams_8h.html">CPVBase/CPVSimParams.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;FairLogger.h&quot;</span> <span class="comment">// for LOG</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/d32/namespaceo2_1_1cpv.html">o2::cpv</a>;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<a class="code" href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx.html#ab0ae05a4170e25fd65298d94d86d335f">ClassImp</a>(<a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html">FullCluster</a>);</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#ad64ce2de5816523bc80e7d9de8b83e59">   22</a></span>&#160;<a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a85b3d2688a32fedd061989895ab185a2">FullCluster::FullCluster</a>(<span class="keywordtype">short</span> digitAbsId, <span class="keywordtype">float</span> <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>, <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a9371a1f53f8067997cd15aaf657c62d0">label</a>)</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  : <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html">Cluster</a>()</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#aad7f7b75426e37f6e2a9101b2fc1dfe5">addDigit</a>(digitAbsId, energy, label);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//____________________________________________________________________________</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#aad7f7b75426e37f6e2a9101b2fc1dfe5">   28</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#aad7f7b75426e37f6e2a9101b2fc1dfe5">FullCluster::addDigit</a>(<span class="keywordtype">short</span> digitIndex, <span class="keywordtype">float</span> <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>, <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a9371a1f53f8067997cd15aaf657c62d0">label</a>)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">// Adds digit to the FullCluster</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// and accumulates the total amplitude and the multiplicity, list of primaries</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordtype">float</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a> = 0., <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a> = 0.;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#aaabcf52bf9adf70112937e889e6dc7e9">Geometry::absIdToRelPosInModule</a>(digitIndex, x, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>);</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  mElementList.emplace_back(digitIndex, energy, x, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, label);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> += <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>; <span class="comment">//To be updated when calculate cluster properties.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a>++;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//____________________________________________________________________________</span></div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#ada0d0b5bff07a255176975eb4c730146">   41</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#ada0d0b5bff07a255176975eb4c730146">FullCluster::evalAll</a>()</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="comment">// Evaluate cluster parameters</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a71f170b58ebf892db558c3427546dcd9">evalLocalPosition</a>();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">//  evalGlobalPosition();</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//____________________________________________________________________________</span></div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#af521be4e9272437484559d7bb9dd3649">   48</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#af521be4e9272437484559d7bb9dd3649">FullCluster::purify</a>()</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="comment">// Removes digits below threshold</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordtype">float</span> <a class="code" href="../../d8/de9/qconfigoptions_8h.html#a2b8298cdaa115e10085952184e21fa2f">threshold</a> = <a class="code" href="../../d7/d50/classo2_1_1conf_1_1ConfigurableParamHelper.html#acd640717f419212c67fecff71d876d39">o2::cpv::CPVSimParams::Instance</a>().<a class="code" href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#a6e1097a63b39f1542f993ef0239deca8">mDigitMinEnergy</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  std::vector&lt;CluElement&gt;::iterator itEl = mElementList.begin();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">while</span> (itEl != mElementList.end()) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> ((*itEl).energy &lt; threshold) { <span class="comment">//very rare case</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      itEl = mElementList.erase(itEl);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      ++itEl;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a> = mElementList.size();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a> == 0) { <span class="comment">// too soft cluster</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> = 0.;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">// Remove non-connected cells</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a> &gt; 1) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> = 0.; <span class="comment">// Recalculate total energy</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">auto</span> it = mElementList.begin();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">while</span> (it != mElementList.end()) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="keywordtype">bool</span> hasNeighbours = <span class="keyword">false</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> jt = mElementList.begin(); jt != mElementList.end(); ++jt) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (it == jt) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#aa5272e2f0bce58f2a1ead0108832223a">Geometry::areNeighbours</a>((*it).absId, (*jt).absId) == 1) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;          hasNeighbours = <span class="keyword">true</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">if</span> (!hasNeighbours) { <span class="comment">//Isolated digits are rare</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        it = mElementList.erase(it);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        --<a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> += (*it).energy;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        ++it;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> = mElementList[0].energy;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">//____________________________________________________________________________</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a71f170b58ebf892db558c3427546dcd9">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a71f170b58ebf892db558c3427546dcd9">FullCluster::evalLocalPosition</a>()</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// Calculates the center of gravity in the local CPV-module coordinates</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// Note that correction for non-perpendicular incidence will be applied later</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// when vertex will be known.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a> &lt;= 0.) { <span class="comment">// zero energy cluster, position undefined</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed067078f6b5ff70139276753605e63">mLocalPosX</a> = -999.;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ada15943af6f4add579cf1c48196377e2">mLocalPosZ</a> = -999.;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// find module number</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#aa02b2c03770e3d266b9979a3a91371b9">mModule</a> = <a class="code" href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#a9f7c7e8696b8c8e0bd3821fb90ec7bc7">Geometry::absIdToModule</a>(mElementList[0].absId);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">float</span> wtot = 0.;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed067078f6b5ff70139276753605e63">mLocalPosX</a> = 0.;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ada15943af6f4add579cf1c48196377e2">mLocalPosZ</a> = 0.;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordtype">float</span> invE = 1. / <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">mEnergy</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it : mElementList) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#adb12a0d439f32ca388b2c806150cc54d">w</a> = <a class="code" href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">std::max</a>(<span class="keywordtype">float</span>(0.), <a class="code" href="../../d7/d50/classo2_1_1conf_1_1ConfigurableParamHelper.html#acd640717f419212c67fecff71d876d39">o2::cpv::CPVSimParams::Instance</a>().mLogWeight + std::log(it.energy * invE));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed067078f6b5ff70139276753605e63">mLocalPosX</a> += it.localX * <a class="code" href="../../dc/da3/glcorearb_8h.html#adb12a0d439f32ca388b2c806150cc54d">w</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ada15943af6f4add579cf1c48196377e2">mLocalPosZ</a> += it.localZ * <a class="code" href="../../dc/da3/glcorearb_8h.html#adb12a0d439f32ca388b2c806150cc54d">w</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    wtot += <a class="code" href="../../dc/da3/glcorearb_8h.html#adb12a0d439f32ca388b2c806150cc54d">w</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (wtot &gt; 0) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    wtot = 1. / wtot;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed067078f6b5ff70139276753605e63">mLocalPosX</a> *= wtot;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ada15943af6f4add579cf1c48196377e2">mLocalPosZ</a> *= wtot;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//____________________________________________________________________________</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a37510fdb5997bab190e3e09173251c87">  131</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a37510fdb5997bab190e3e09173251c87">FullCluster::getNumberOfLocalMax</a>(gsl::span&lt;int&gt; maxAt)<span class="keyword"> const</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Calculates the number of local maxima in the cluster using LocalMaxCut as the minimum</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// energy difference between maximum and surrounding digits</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">float</span> locMaxCut = <a class="code" href="../../d7/d50/classo2_1_1conf_1_1ConfigurableParamHelper.html#acd640717f419212c67fecff71d876d39">o2::cpv::CPVSimParams::Instance</a>().<a class="code" href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#a57dd7daffc414e9e74944af3e366d299">mLocalMaximumCut</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::unique_ptr&lt;bool[]&gt; isLocalMax = std::make_unique&lt;bool[]&gt;(<a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a>; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (mElementList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a> &gt; <a class="code" href="../../d7/d50/classo2_1_1conf_1_1ConfigurableParamHelper.html#acd640717f419212c67fecff71d876d39">o2::cpv::CPVSimParams::Instance</a>().<a class="code" href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#ad1d76267cc9696333d7681bfed0ea7fe">mClusteringThreshold</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      isLocalMax[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">true</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      isLocalMax[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">false</span>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = mMulDigit; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>; j--;) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#aa5272e2f0bce58f2a1ead0108832223a">Geometry::areNeighbours</a>(mElementList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].absId, mElementList[j].absId) == 1) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> (mElementList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a> &gt; mElementList[j].<a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          isLocalMax[j] = <span class="keyword">false</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;          <span class="comment">// but may be digit too is not local max ?</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          <span class="keywordflow">if</span> (mElementList[j].energy &gt; mElementList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].energy - locMaxCut) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            isLocalMax[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">false</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          isLocalMax[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <span class="keyword">false</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          <span class="comment">// but may be digitN is not local max too?</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          <span class="keywordflow">if</span> (mElementList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].energy &gt; mElementList[j].energy - locMaxCut) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            isLocalMax[j] = <span class="keyword">false</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      } <span class="comment">// if areneighbours</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }   <span class="comment">// digit j</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }     <span class="comment">// digit i</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">int</span> iDigitN = 0;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = mMulDigit; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>--;) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (isLocalMax[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      maxAt[iDigitN] = <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      iDigitN++;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span> (iDigitN &gt;= maxAt.size()) { <span class="comment">// Note that size of output arrays is limited:</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Too many local maxima, cluster multiplicity &quot;</span> &lt;&lt; <a class="code" href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">mMulDigit</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> iDigitN;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div><div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_aad7f7b75426e37f6e2a9101b2fc1dfe5"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#aad7f7b75426e37f6e2a9101b2fc1dfe5">o2::cpv::FullCluster::addDigit</a></div><div class="ttdeci">void addDigit(short digitAbsId, float energy, int label)</div><div class="ttdoc">Method to add digit to a cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html#l00028">FullCluster.cxx:28</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aee38b51639b577753f6a92029fb92000"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a></div><div class="ttdeci">GLdouble GLdouble GLdouble z</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00843">glcorearb.h:843</a></div></div>
<div class="ttc" id="CPVSimParams_8h_html"><div class="ttname"><a href="../../de/d2a/CPVSimParams_8h.html">CPVSimParams.h</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00028">GPUCommonLogger.h:28</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_ada0d0b5bff07a255176975eb4c730146"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#ada0d0b5bff07a255176975eb4c730146">o2::cpv::FullCluster::evalAll</a></div><div class="ttdeci">void evalAll()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html#l00041">FullCluster.cxx:41</a></div></div>
<div class="ttc" id="structo2_1_1cpv_1_1CPVSimParams_html_ad1d76267cc9696333d7681bfed0ea7fe"><div class="ttname"><a href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#ad1d76267cc9696333d7681bfed0ea7fe">o2::cpv::CPVSimParams::mClusteringThreshold</a></div><div class="ttdeci">float mClusteringThreshold</div><div class="ttdoc">Seed digit minimal amplitude. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2a/CPVSimParams_8h_source.html#l00050">CPVSimParams.h:50</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html_ada15943af6f4add579cf1c48196377e2"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ada15943af6f4add579cf1c48196377e2">o2::cpv::Cluster::mLocalPosZ</a></div><div class="ttdeci">float mLocalPosZ</div><div class="ttdoc">Center of gravity position in local module coordunates (z direction) </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00075">Cluster.h:75</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_af521be4e9272437484559d7bb9dd3649"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#af521be4e9272437484559d7bb9dd3649">o2::cpv::FullCluster::purify</a></div><div class="ttdeci">void purify()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html#l00048">FullCluster.cxx:48</a></div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="CPV_2reconstruction_2src_2FullCluster_8cxx_html_ab0ae05a4170e25fd65298d94d86d335f"><div class="ttname"><a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx.html#ab0ae05a4170e25fd65298d94d86d335f">ClassImp</a></div><div class="ttdeci">ClassImp(FullCluster)</div></div>
<div class="ttc" id="DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_html"><div class="ttname"><a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h.html">Cluster.h</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html_a7ed089737fa748d5354596754c68b2e2"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed089737fa748d5354596754c68b2e2">o2::cpv::Cluster::mMulDigit</a></div><div class="ttdeci">char mMulDigit</div><div class="ttdoc">Digit nultiplicity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00070">Cluster.h:70</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html_aa02b2c03770e3d266b9979a3a91371b9"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#aa02b2c03770e3d266b9979a3a91371b9">o2::cpv::Cluster::mModule</a></div><div class="ttdeci">char mModule</div><div class="ttdoc">Module number. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00071">Cluster.h:71</a></div></div>
<div class="ttc" id="test__Algorithm_8cxx_html_a5216308b2bcc588018b96379974d290c"><div class="ttname"><a href="../../d2/d0e/test__Algorithm_8cxx.html#a5216308b2bcc588018b96379974d290c">max</a></div><div class="ttdeci">const size_t max</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0e/test__Algorithm_8cxx_source.html#l00040">test_Algorithm.cxx:40</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Geometry_html_aaabcf52bf9adf70112937e889e6dc7e9"><div class="ttname"><a href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#aaabcf52bf9adf70112937e889e6dc7e9">o2::cpv::Geometry::absIdToRelPosInModule</a></div><div class="ttdeci">static void absIdToRelPosInModule(short absId, float &amp;x, float &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9f/CPV_2base_2src_2Geometry_8cxx_source.html#l00083">Geometry.cxx:83</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a9371a1f53f8067997cd15aaf657c62d0"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a9371a1f53f8067997cd15aaf657c62d0">label</a></div><div class="ttdeci">GLuint GLsizei const GLchar * label</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l02519">glcorearb.h:2519</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Geometry_html_a9f7c7e8696b8c8e0bd3821fb90ec7bc7"><div class="ttname"><a href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#a9f7c7e8696b8c8e0bd3821fb90ec7bc7">o2::cpv::Geometry::absIdToModule</a></div><div class="ttdeci">static char absIdToModule(short absId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9f/CPV_2base_2src_2Geometry_8cxx_source.html#l00038">Geometry.cxx:38</a></div></div>
<div class="ttc" id="structo2_1_1cpv_1_1CPVSimParams_html_a57dd7daffc414e9e74944af3e366d299"><div class="ttname"><a href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#a57dd7daffc414e9e74944af3e366d299">o2::cpv::CPVSimParams::mLocalMaximumCut</a></div><div class="ttdeci">float mLocalMaximumCut</div><div class="ttdoc">Threshold to separate local maxima. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2a/CPVSimParams_8h_source.html#l00053">CPVSimParams.h:53</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_a85b3d2688a32fedd061989895ab185a2"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a85b3d2688a32fedd061989895ab185a2">o2::cpv::FullCluster::FullCluster</a></div><div class="ttdeci">FullCluster()=default</div></div>
<div class="ttc" id="namespaceo2_1_1cpv_html"><div class="ttname"><a href="../../d8/d32/namespaceo2_1_1cpv.html">o2::cpv</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00018">Cluster.h:18</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html">o2::cpv::FullCluster</a></div><div class="ttdoc">CPV cluster implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/CPV_2reconstruction_2include_2CPVReconstruction_2FullCluster_8h_source.html#l00026">FullCluster.h:26</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_a71f170b58ebf892db558c3427546dcd9"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a71f170b58ebf892db558c3427546dcd9">o2::cpv::FullCluster::evalLocalPosition</a></div><div class="ttdeci">void evalLocalPosition()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html#l00098">FullCluster.cxx:98</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0cdec8e97a75ee9458b23d152bf962d4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00403">glcorearb.h:403</a></div></div>
<div class="ttc" id="CPV_2reconstruction_2include_2CPVReconstruction_2FullCluster_8h_html"><div class="ttname"><a href="../../db/d2a/CPV_2reconstruction_2include_2CPVReconstruction_2FullCluster_8h.html">FullCluster.h</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html_a7ed067078f6b5ff70139276753605e63"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#a7ed067078f6b5ff70139276753605e63">o2::cpv::Cluster::mLocalPosX</a></div><div class="ttdeci">float mLocalPosX</div><div class="ttdoc">Center of gravity position in local module coordunates (phi direction) </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00074">Cluster.h:74</a></div></div>
<div class="ttc" id="SecondaryVertex_8h_html_a7effbf82c50caa2e6b11dd6c61317195"><div class="ttname"><a href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a></div><div class="ttdeci">float energy(float px, float py, float pz, float mass)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddf/SecondaryVertex_8h_source.html#l00079">SecondaryVertex.h:79</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a2b8298cdaa115e10085952184e21fa2f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a2b8298cdaa115e10085952184e21fa2f">threshold</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char Directory with events to Number of OMP threads to Show standalone event Enable tracking Run event generator Use way track fit Create OuterParam Process continuous timeframe data Factor to apply to all memory scalers Automatically register input memory buffers for the GPU Use FIFO realtime Trap on floating point exceptions Field strength of solenoid Bz in kGaus Override max time bin setting for continuous data with max time bin in time frame Apply Zero Suppression when loading digits and remove those below threshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00163">qconfigoptions.h:163</a></div></div>
<div class="ttc" id="glcorearb_8h_html_adb12a0d439f32ca388b2c806150cc54d"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#adb12a0d439f32ca388b2c806150cc54d">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00852">glcorearb.h:852</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="CPV_2base_2include_2CPVBase_2Geometry_8h_html"><div class="ttname"><a href="../../de/ddd/CPV_2base_2include_2CPVBase_2Geometry_8h.html">Geometry.h</a></div></div>
<div class="ttc" id="structo2_1_1cpv_1_1CPVSimParams_html_a6e1097a63b39f1542f993ef0239deca8"><div class="ttname"><a href="../../df/ddb/structo2_1_1cpv_1_1CPVSimParams.html#a6e1097a63b39f1542f993ef0239deca8">o2::cpv::CPVSimParams::mDigitMinEnergy</a></div><div class="ttdeci">float mDigitMinEnergy</div><div class="ttdoc">Minimal amplitude of a digit to be used in cluster. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2a/CPVSimParams_8h_source.html#l00049">CPVSimParams.h:49</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1FullCluster_html_a37510fdb5997bab190e3e09173251c87"><div class="ttname"><a href="../../df/db5/classo2_1_1cpv_1_1FullCluster.html#a37510fdb5997bab190e3e09173251c87">o2::cpv::FullCluster::getNumberOfLocalMax</a></div><div class="ttdeci">char getNumberOfLocalMax(gsl::span&lt; int &gt; maxAt) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx_source.html#l00131">FullCluster.cxx:131</a></div></div>
<div class="ttc" id="classo2_1_1conf_1_1ConfigurableParamHelper_html_acd640717f419212c67fecff71d876d39"><div class="ttname"><a href="../../d7/d50/classo2_1_1conf_1_1ConfigurableParamHelper.html#acd640717f419212c67fecff71d876d39">o2::conf::ConfigurableParamHelper&lt; CPVSimParams &gt;::Instance</a></div><div class="ttdeci">static const CPVSimParams &amp; Instance()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d6b/ConfigurableParamHelper_8h_source.html#l00073">ConfigurableParamHelper.h:73</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html_ad477d4964b6bf134312e898ce9309b16"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html#ad477d4964b6bf134312e898ce9309b16">o2::cpv::Cluster::mEnergy</a></div><div class="ttdeci">float mEnergy</div><div class="ttdoc">full energy of a cluster </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00079">Cluster.h:79</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Cluster_html"><div class="ttname"><a href="../../d9/dd4/classo2_1_1cpv_1_1Cluster.html">o2::cpv::Cluster</a></div><div class="ttdoc">Contains CPV cluster parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8b/DataFormats_2Detectors_2CPV_2include_2DataFormatsCPV_2Cluster_8h_source.html#l00024">Cluster.h:24</a></div></div>
<div class="ttc" id="classo2_1_1cpv_1_1Geometry_html_aa5272e2f0bce58f2a1ead0108832223a"><div class="ttname"><a href="../../db/d8a/classo2_1_1cpv_1_1Geometry.html#aa5272e2f0bce58f2a1ead0108832223a">o2::cpv::Geometry::areNeighbours</a></div><div class="ttdeci">static int areNeighbours(short absId1, short absId2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9f/CPV_2base_2src_2Geometry_8cxx_source.html#l00044">Geometry.cxx:44</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_860de54695a0456b93a4bb1fd951d826.html">CPV</a></li><li class="navelem"><a class="el" href="../../dir_66222ccc5407e3593e9767260c5fdccb.html">reconstruction</a></li><li class="navelem"><a class="el" href="../../dir_205245125ee00867b21f7bd4c282ad00.html">src</a></li><li class="navelem"><a class="el" href="../../d9/d63/CPV_2reconstruction_2src_2FullCluster_8cxx.html">FullCluster.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:22 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
