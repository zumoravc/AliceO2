<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: Tests</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d65/refDetectorsMUONMCHMappingtest.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tests </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>MCH Mapping Tests</h1>
<h2>Stress tests</h2>
<p>By default the unit (and thus short) tests are running without any input.</p>
<p>To go further though, some stress tests take as input a JSON file containing test positions, using the <code>--testpos</code> option (it is an option of the test module, not of the test program itself, hence the <code>--</code> syntax) and call (part of) the test like so :</p>
<div class="fragment"><div class="line">o2-test-mchmapping-StressTest4 --run_test=&quot;*/*/*TestPos*&quot; -- --testpos /some/dir/to/test_random_pos.json</div></div><!-- fragment --><h2>Pad indices tests</h2>
<p>In the segmentation interface, the various findXXX method return an integer that was first designed as a padId, that would be relevant only within a given implementation. It was later decided to use this integer as a pad <em>index</em> (from 0 to number of pads in the cathode or in the full detection element), and to guarantee that this pad index would be the same whatever the implementation is (i.e. the implemeter has to ensure that this guarantee is fullfilled). The <code>o2-test-mchmapping-PadIndices</code> test programs are meant for that. They take as input test files that are generated by the <code>o2-mchmapping-generate-pad-indices-implXXX</code> programs. See for instance the <code>generate-pad-indices.sh</code> script. The generation program(s) generate by default all the indices of a given detection element, unless the <code>--sparse</code> option is used, in which case about a 1/16th of the pad indices are generated, which should be enough to spot issues. For a new implementation it is recommended though to test <em>without</em> the <code>--sparse</code> option. This is to minimize the size of the generated json files.</p>
<p>The number of indices generated can be checked using for instance : </p><pre class="fragment">cat test_pad_indices_de100.json| jq . | grep padindex | wc -l
</pre><p>which assumes the <a href="https://stedolan.github.io/jq/">jq</a> utility program is available. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d2f/refDetectors.html">Module &#39;Detectors&#39;</a></li><li class="navelem"><a class="el" href="../../d4/dff/refDetectorsMUON.html">MUON</a></li><li class="navelem"><a class="el" href="../../d0/daf/refDetectorsMUONMCH.html">MCH</a></li><li class="navelem"><a class="el" href="../../d9/d09/refDetectorsMUONMCHMapping.html">Mapping</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:40 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
