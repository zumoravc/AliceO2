<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Project: /home/travis/build/AliceO2Group/AliceO2/Detectors/EMCAL/simulation/src/Detector.cxx Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../o2_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Detector.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright CERN and copyright holders of ALICE O2. This software is</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// distributed under the terms of the GNU General Public License v3 (GPL</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Version 3), copied verbatim in the file &quot;COPYING&quot;.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// See http://alice-o2.web.cern.ch/license for full licensing information.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// In applying this license CERN does not waive the privileges and immunities</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// granted to it by virtue of its status as an Intergovernmental Organization</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// or submit itself to any jurisdiction.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;TFile.h&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;TGeoManager.h&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;TGeoVolume.h&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;TH2.h&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;TVirtualMC.h&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;TVector2.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;TVector3.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;FairGeoNode.h&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;FairRootManager.h&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;FairVolume.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h.html">EMCALBase/Geometry.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d16/Detectors_2EMCAL_2base_2include_2EMCALBase_2Hit_8h.html">EMCALBase/Hit.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d00/ShishKebabTrd1Module_8h.html">EMCALBase/ShishKebabTrd1Module.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h.html">EMCALSimulation/Detector.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d7b/SpaceFrame_8h.html">EMCALSimulation/SpaceFrame.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d03/simulation_2include_2SimulationDataFormat_2Stack_8h.html">SimulationDataFormat/Stack.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;boost/algorithm/string/predicate.hpp&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;boost/range/irange.hpp&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html">o2::emcal</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<a class="code" href="../../d3/dee/Base_2src_2Detector_8cxx.html#a886df5311b2b53f2286860cc95a7f262">ClassImp</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html">Detector</a>);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a92dbd7f0e49889ca805bb8685959d501">   41</a></span>&#160;<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a5b5d2f82d13bb50d1da41572d69ee035">Detector::Detector</a>(Bool_t <a class="code" href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a>)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  : <a class="code" href="../../d4/d7c/namespaceo2.html">o2</a>::base::DetImpl&lt;<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html">Detector</a>&gt;(<span class="stringliteral">&quot;EMC&quot;</span>, active),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    mBirkC0(0),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    mBirkC1(0.),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    mBirkC2(0.),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    mSensitive(),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    mSMVolumeID(),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    mSMVolNames(),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    mVolumeIDScintillator(-1),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    mHits(<a class="code" href="../../d4/d7c/namespaceo2.html">o2</a>::<a class="code" href="../../d6/d84/namespaceutils.html">utils</a>::<a class="code" href="../../d0/d28/namespaceo2_1_1utils.html#a75b30d76ec9c94abf7bf374f874fd16a">createSimVector</a>&lt;<a class="code" href="../../df/d3e/classo2_1_1emcal_1_1Hit.html">Hit</a>&gt;()),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    mGeometry(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    mSuperParentsIndices(),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    mSuperParents(),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    mCurrentSuperparent(<a class="code" href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a>),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    mCurrentTrack(-1),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    mCurrentPrimaryID(-1),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    mCurrentParentID(-1),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    mSampleWidth(0.),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    mSmodPar0(0.),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    mSmodPar1(0.),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    mSmodPar2(0.),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    mInnerEdge(0.)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  memset(mParEMOD, 0, <span class="keyword">sizeof</span>(Double_t) * 5);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* geo = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (!geo)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(FATAL) &lt;&lt; <span class="stringliteral">&quot;Geometry is nullptr&quot;</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  std::string gn = geo-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  std::transform(gn.begin(), gn.end(), gn.begin(), ::toupper);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  mSampleWidth = Double_t(geo-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">GetECPbRadThick</a>() + geo-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad417809781764510a2b74882b891e9ec">GetECScintThick</a>());</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (contains(gn, <span class="stringliteral">&quot;V1&quot;</span>))</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    mSampleWidth += 2. * geo-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">GetTrd1BondPaperThick</a>();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a5b5d2f82d13bb50d1da41572d69ee035">Detector::Detector</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html">Detector</a>&amp; rhs)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  : <a class="code" href="../../de/dc8/classo2_1_1base_1_1DetImpl.html">o2::base::DetImpl&lt;Detector&gt;</a>(rhs),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    mBirkC0(rhs.mBirkC0),</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    mBirkC1(rhs.mBirkC1),</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    mBirkC2(rhs.mBirkC2),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    mSensitive(),</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    mSMVolumeID(),</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    mSMVolNames(),</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    mVolumeIDScintillator(-1),</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    mHits(o2::utils::createSimVector&lt;Hit&gt;()),</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    mGeometry(rhs.mGeometry),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    mSuperParentsIndices(),</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    mSuperParents(),</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    mCurrentSuperparent(<span class="keyword">nullptr</span>),</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    mCurrentTrack(-1),</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    mCurrentPrimaryID(-1),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    mCurrentParentID(-1),</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    mSampleWidth(rhs.mSampleWidth),</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    mSmodPar0(rhs.mSmodPar0),</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    mSmodPar1(rhs.mSmodPar1),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    mSmodPar2(rhs.mSmodPar2),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    mInnerEdge(rhs.mInnerEdge)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; ++<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    mParEMOD[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rhs.mParEMOD[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a2405fdd7fef79a727a5f48982ffb146b">  107</a></span>&#160;<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a2405fdd7fef79a727a5f48982ffb146b">Detector::~Detector</a>()</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="../../d0/d28/namespaceo2_1_1utils.html#a2460e2490970226d5b23661ee8fe17a2">o2::utils::freeSimVector</a>(mHits);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a32f80be92fd7f6724bb794710469b7c3">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a32f80be92fd7f6724bb794710469b7c3">Detector::InitializeO2Detector</a>()</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// All EMCAL volumes must be declared as sensitive, otherwise</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// the decay chains are broken by volumes not processed in ProceeHits</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; child : mSensitive) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG1) &lt;&lt; <span class="stringliteral">&quot;Adding sensitive volume &quot;</span> &lt;&lt; child;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keyword">auto</span> svolID = <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a21f783b8a6fc35d0db8acdfe9c016319">registerSensitiveVolumeAndGetVolID</a>(child);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (child == <span class="stringliteral">&quot;SCMX&quot;</span>) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG1) &lt;&lt; <span class="stringliteral">&quot;Adding SCMX volume as sensitive volume with ID &quot;</span> &lt;&lt; svolID;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      mVolumeIDScintillator = svolID;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">auto</span> smtype = mSMVolNames.find(child);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (smtype != mSMVolNames.end()) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Adding supermodule type &quot;</span> &lt;&lt; smtype-&gt;second &lt;&lt; <span class="stringliteral">&quot; for SM &quot;</span> &lt;&lt; smtype-&gt;first &lt;&lt; <span class="stringliteral">&quot; with volume ID &quot;</span> &lt;&lt; svolID &lt;&lt; std::endl;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      mSMVolumeID[svolID] = smtype-&gt;second;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG1) &lt;&lt; <span class="stringliteral">&quot;Supermodule volume map: &quot;</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [volID, volType] : mSMVolumeID) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG1) &lt;&lt; <span class="stringliteral">&quot;Volume &quot;</span> &lt;&lt; volID &lt;&lt; <span class="stringliteral">&quot;, type &quot;</span> &lt;&lt; <a class="code" href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a>(volType);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aafcf60fdfd4698fc0c2058446cd2d8a1">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aafcf60fdfd4698fc0c2058446cd2d8a1">Detector::EndOfEvent</a>() { <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad2cf464593a0c497a98222abdb12684d">Reset</a>(); }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a929268618a46c57137741a179fc3113d">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a929268618a46c57137741a179fc3113d">Detector::ConstructGeometry</a>()</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Creating EMCAL geometry&quot;</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* geom = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (!(geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2afaa8759aa0ace72fc01d19e9787352">IsInitialized</a>())) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;ConstructGeometry: EMCAL Geometry class has not been set up.&quot;</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aa3d9200689ccd9c9ecca685bea037293">CreateMaterials</a>();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="../../dd/db3/classo2_1_1emcal_1_1SpaceFrame.html">SpaceFrame</a> emcalframe;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  emcalframe.<a class="code" href="../../dd/db3/classo2_1_1emcal_1_1SpaceFrame.html#a2f5d5a7d41630c684df3f06f78459b29">CreateGeometry</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">//CreateEmcalEnvelope();</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// COMPACT, TRD1</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;Shish-Kebab geometry : &quot;</span> &lt;&lt; GetTitle();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad5775c421f2fc1496e7f9ef2a77868ab">CreateShiskebabGeometry</a>();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aea8ab030d629ff25ed0a50c5e10b0e2b">DefineSamplingFraction</a>(TVirtualMC::GetMC()-&gt;GetName(), TVirtualMC::GetMC()-&gt;GetTitle());</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  gGeoManager-&gt;CheckGeometry();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aaf6abc073195a984a4e2cec1fb128faf">  164</a></span>&#160;Bool_t <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aaf6abc073195a984a4e2cec1fb128faf">Detector::ProcessHits</a>(FairVolume* <a class="code" href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a>)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">int</span> track = fMC-&gt;GetStack()-&gt;GetCurrentTrackNumber(),</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      directparent = fMC-&gt;GetStack()-&gt;GetCurrentParentTrackNumber();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (track != mCurrentTrack) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG4) &lt;&lt; <span class="stringliteral">&quot;Doing new track &quot;</span> &lt;&lt; track &lt;&lt; <span class="stringliteral">&quot; current (&quot;</span> &lt;&lt; mCurrentTrack &lt;&lt; <span class="stringliteral">&quot;), direct parent (&quot;</span> &lt;&lt; directparent &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// new current track - check parentage</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">auto</span> hasSuperParent = mSuperParentsIndices.find(directparent);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (hasSuperParent != mSuperParentsIndices.end()) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">// same superparent as direct parent</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      mCurrentParentID = hasSuperParent-&gt;second;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      mSuperParentsIndices[track] = hasSuperParent-&gt;second;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keyword">auto</span> superparent = mSuperParents.find(mCurrentParentID);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span> (superparent != mSuperParents.end()) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        mCurrentSuperparent = &amp;(superparent-&gt;second);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Attention: No superparent object found (parent &quot;</span> &lt;&lt; mCurrentParentID &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        mCurrentSuperparent = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG4) &lt;&lt; <span class="stringliteral">&quot;Found superparent &quot;</span> &lt;&lt; mCurrentParentID &lt;&lt; std::endl;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="comment">// start of new chain</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="comment">// for new incoming tracks the super parent index is equal to the track ID (for recursion)</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      mSuperParentsIndices[track] = track;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      mCurrentSuperparent = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16c3573b2164ebe124d657975bf8a3b9">AddSuperparent</a>(track, fMC-&gt;TrackPid(), fMC-&gt;Etot());</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      mCurrentParentID = track;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    mCurrentTrack = track;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (v-&gt;getVolumeId() == mVolumeIDScintillator) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG4) &lt;&lt; <span class="stringliteral">&quot;We are in sensitive volume &quot;</span> &lt;&lt; v-&gt;GetName() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; fMC-&gt;CurrentVolPath() &lt;&lt; std::endl;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// TODO Implement handling of parents and primary particle</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    Double_t eloss = fMC-&gt;Edep();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (eloss &lt; DBL_EPSILON)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// only process hits which actually deposit some energy in the EMCAL</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* geom = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Obtain detector ID</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// This is not equal to the volume ID of the fair volume</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// EMCAL geometry implementation in VMC works with a copy of the volume and placing it n-times into the mother volume</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// via translation / rotation, so the copy index is the index of a tower / module / supermodule node within a mother</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// volume Additional care needs to be taken for the supermodule index: The copy is connected to a certain supermodule</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// type, which differs for various parts of the detector</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    Int_t copyEta, copyPhi, copyMod, copySmod;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    fMC-&gt;CurrentVolID(copyEta);       <span class="comment">// Tower in module - x-direction</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    fMC-&gt;CurrentVolOffID(1, copyPhi); <span class="comment">// Tower in module - y-direction</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    fMC-&gt;CurrentVolOffID(3, copyMod); <span class="comment">// Module in supermodule</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keyword">auto</span> smvolID = fMC-&gt;CurrentVolOffID(</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      4, copySmod); <span class="comment">// Supermodule in EMCAL - attention, with respect to a given supermodule type (offsets needed)</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a>(0);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">auto</span> typeFromVolID = mSMVolumeID.find(smvolID);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (typeFromVolID == mSMVolumeID.end()) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;No supermodule with volume ID &quot;</span> &lt;&lt; smvolID &lt;&lt; <span class="stringliteral">&quot; found&quot;</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">auto</span> supermoduletype = typeFromVolID-&gt;second;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">switch</span> (supermoduletype) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabacfea911ef7161eeb8dbba3b66b61dab1">EMCAL_STANDARD</a>:</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e">EMCAL_THIRD</a>:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        offset = 10;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c">DCAL_STANDARD</a>:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        offset = 12;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512">DCAL_EXT</a>:</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        offset = 18;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Supermodule copy &quot;</span> &lt;&lt; copySmod &lt;&lt; <span class="stringliteral">&quot;, module copy &quot;</span> &lt;&lt; copyMod &lt;&lt; <span class="stringliteral">&quot;, y-dir &quot;</span> &lt;&lt; copyPhi &lt;&lt; <span class="stringliteral">&quot;, x-dir &quot;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                &lt;&lt; copyEta &lt;&lt; <span class="stringliteral">&quot;, supermodule ID &quot;</span> &lt;&lt; copySmod + offset - 1;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;path &quot;</span> &lt;&lt; fMC-&gt;CurrentVolPath();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Name of the supermodule type &quot;</span> &lt;&lt; fMC-&gt;CurrentVolOffName(4) &lt;&lt; <span class="stringliteral">&quot;, Module name &quot;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                &lt;&lt; fMC-&gt;CurrentVolOffName(3);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// porting from aliroot: circumvention of the index problem. GetAbsCellID cannot be used</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// Int_t detID = geom-&gt;GetAbsCellId(offset + copySmod - 1, copyMod - 1, copyPhi - 1, copyEta - 1);</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Swap A side in Phi and C side in Eta due to wrong indexing.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    Int_t smNumber = offset + copySmod - 1, smTypeID = 1;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">auto</span> [iphi, ieta] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a81352f8c354ad430886d4e5f6ce62a8b">GetCellPhiEtaIndexInSModule</a>(smNumber, copyMod - 1, copyPhi - 1, copyEta - 1);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">//iphi = std::get&lt;0&gt;(posetaphi);</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">//ieta = std::get&lt;1&gt;(posetaphi);</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (smNumber % 2 == 0) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">if</span> (supermoduletype == <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c">DCAL_STANDARD</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        smTypeID = 3; <span class="comment">//DCal supermodule. previous design/idea</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        smTypeID = 2;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      ieta = ((geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ab819ae25028c2c816af4620334f41255">GetCentersOfCellsEtaDir</a>()).<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>() * 2 / smTypeID - 1) - ieta; <span class="comment">// 47/31-ieta, revert the ordering on A side in order to keep convention.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">if</span> (supermoduletype == <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba53f1b9001c9adca9b403cf3c47ce1373">EMCAL_HALF</a>)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        smTypeID = 2; <span class="comment">//half supermodule. previous design/idea</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">if</span> (supermoduletype == <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e">EMCAL_THIRD</a>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        smTypeID = 3; <span class="comment">//one third (installed in 2012) supermodule</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (supermoduletype == <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512">DCAL_EXT</a>)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        smTypeID = 3;                                                          <span class="comment">//one third (installed in 2012) supermodule</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      iphi = ((geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a5f9592253684198035ea45072099c6c7">GetCentersOfCellsPhiDir</a>()).<a class="code" href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a>() / smTypeID - 1) - iphi; <span class="comment">// 23/7-iphi, revert the ordering on C side in order to keep convention.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">// Once we know the indexes, calculate the absolute ID</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    Int_t detID = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae38c2e2fb7f6603e2b16675850422fe6">GetAbsCellIdFromCellIndexes</a>(smNumber, iphi, ieta);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// In case of new parent track create new track reference</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">auto</span> o2stack = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/de8/classo2_1_1data_1_1Stack.html">o2::data::Stack</a>*<span class="keyword">&gt;</span>(fMC-&gt;GetStack());</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!mCurrentSuperparent-&gt;<a class="code" href="../../de/d43/structo2_1_1emcal_1_1Parent.html#af8c2c9550c8208b6c67dcab13170b317">mHasTrackReference</a>) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordtype">float</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a>, <a class="code" href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a>, px, py, pz, <a class="code" href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      fMC-&gt;TrackPosition(x, y, z);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      fMC-&gt;TrackMomentum(px, py, pz, e);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="../../db/d28/classo2_1_1TrackReference.html">o2::TrackReference</a> trackref(x, y, z, px, py, pz, fMC-&gt;TrackLength(), fMC-&gt;TrackTime(), mCurrentParentID, GetDetId());</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      o2stack-&gt;addTrackReference(trackref);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      mCurrentSuperparent-&gt;<a class="code" href="../../de/d43/structo2_1_1emcal_1_1Parent.html#af8c2c9550c8208b6c67dcab13170b317">mHasTrackReference</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    Double_t lightyield(eloss);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (fMC-&gt;TrackCharge())</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      lightyield = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16a96c472fcb197bc014b02f373961ac">CalculateLightYield</a>(eloss, fMC-&gt;TrackStep(), fMC-&gt;TrackCharge());</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    lightyield *= geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a16c58a80f0f782124c83f8c7392f352f">GetSampling</a>();</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">auto</span> currenthit = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ac61e24c4355c1b6370a609ae938b8390">FindHit</a>(detID, mCurrentParentID);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (!currenthit) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="comment">// Condition for new hit:</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="comment">// - Processing different partent track (parent track must be produced outside EMCAL)</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="comment">// - Inside different cell</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="comment">// - First track of the event</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> posX, posY, posZ, momX, momY, momZ, <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      fMC-&gt;TrackPosition(posX, posY, posZ);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      fMC-&gt;TrackMomentum(momX, momY, momZ, energy);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      Double_t time = fMC-&gt;TrackTime() * 1e9; <span class="comment">// time in ns</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Adding new hit for parent &quot;</span> &lt;&lt; mCurrentParentID &lt;&lt; <span class="stringliteral">&quot; and cell &quot;</span> &lt;&lt; detID &lt;&lt; std::endl;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#af82f3ebc45eb85ea1ddc2979b471af40">AddHit</a>(mCurrentParentID, mCurrentPrimaryID, mCurrentSuperparent-&gt;<a class="code" href="../../de/d43/structo2_1_1emcal_1_1Parent.html#ab32a8ead850ed6486842944733386542">mEnergy</a>, detID, <a class="code" href="../../d5/daf/classROOT_1_1Math_1_1PositionVector3D.html">Point3D&lt;float&gt;</a>(posX, posY, posZ),</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;             <a class="code" href="../../dd/d76/Cartesian3D_8h.html#a757a9e27d06d62775ddfed09c1ef2f18">Vector3D&lt;float&gt;</a>(momX, momY, momZ), time, lightyield);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      o2stack-&gt;addHit(GetDetId());</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Adding energy to the current hit&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      currenthit-&gt;SetEnergyLoss(currenthit-&gt;GetEnergyLoss() + lightyield);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#af82f3ebc45eb85ea1ddc2979b471af40">  310</a></span>&#160;<a class="code" href="../../df/d3e/classo2_1_1emcal_1_1Hit.html">Hit</a>* <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#af82f3ebc45eb85ea1ddc2979b471af40">Detector::AddHit</a>(Int_t trackID, Int_t primary, Double_t initialEnergy, Int_t detID,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d5/daf/classROOT_1_1Math_1_1PositionVector3D.html">Point3D&lt;float&gt;</a>&amp; pos, <span class="keyword">const</span> <a class="code" href="../../dd/d76/Cartesian3D_8h.html#a757a9e27d06d62775ddfed09c1ef2f18">Vector3D&lt;float&gt;</a>&amp; mom, Double_t time, Double_t eLoss)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Adding hit for track &quot;</span> &lt;&lt; trackID &lt;&lt; <span class="stringliteral">&quot; with position (&quot;</span> &lt;&lt; pos.X() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;              &lt;&lt; pos.Y() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pos.Z() &lt;&lt; <span class="stringliteral">&quot;) and momentum (&quot;</span> &lt;&lt; mom.X() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mom.Y() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; mom.Z()</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;)  with energy &quot;</span> &lt;&lt; initialEnergy &lt;&lt; <span class="stringliteral">&quot; loosing &quot;</span> &lt;&lt; eLoss;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  mHits-&gt;emplace_back(primary, trackID, detID, initialEnergy, pos, mom, time, eLoss);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">return</span> &amp;(mHits-&gt;back());</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16c3573b2164ebe124d657975bf8a3b9">  320</a></span>&#160;<a class="code" href="../../de/d43/structo2_1_1emcal_1_1Parent.html">Parent</a>* <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16c3573b2164ebe124d657975bf8a3b9">Detector::AddSuperparent</a>(Int_t trackID, Int_t pdg, Double_t <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot;Adding superparent for track &quot;</span> &lt;&lt; trackID &lt;&lt; <span class="stringliteral">&quot; with PID &quot;</span> &lt;&lt; pdg &lt;&lt; <span class="stringliteral">&quot; and energy &quot;</span> &lt;&lt; <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keyword">auto</span> <a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a> = mSuperParents.insert({trackID, {pdg, <a class="code" href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a>, <span class="keyword">false</span>}});</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">return</span> &amp;(<a class="code" href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a>.first-&gt;second);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16a96c472fcb197bc014b02f373961ac">  327</a></span>&#160;Double_t <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16a96c472fcb197bc014b02f373961ac">Detector::CalculateLightYield</a>(Double_t energydeposit, Double_t tracklength, Int_t charge)<span class="keyword"> const</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (charge == 0)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> energydeposit; <span class="comment">// full energy deposit for neutral particles (photons)</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// Apply Birk&#39;s law (copied from G3BIRK)</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> birkC1Mod = 0;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> (mBirkC0 == 1) { <span class="comment">// Apply correction for higher charge states</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (std::abs(charge) &gt;= 2)</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      birkC1Mod = mBirkC1 * 7.2 / 12.6;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      birkC1Mod = mBirkC1;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> dedxcm = 0.;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (tracklength &gt; 0)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    dedxcm = 1000. * energydeposit / tracklength;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    dedxcm = 0;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">return</span> energydeposit / (1. + birkC1Mod * dedxcm + mBirkC2 * dedxcm * dedxcm);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ac61e24c4355c1b6370a609ae938b8390">  350</a></span>&#160;<a class="code" href="../../df/d3e/classo2_1_1emcal_1_1Hit.html">Hit</a>* <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ac61e24c4355c1b6370a609ae938b8390">Detector::FindHit</a>(<span class="keywordtype">int</span> cellID, <span class="keywordtype">int</span> parentID)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">auto</span> <a class="code" href="../../d6/d30/classuint64__t.html">result</a> = std::find_if(mHits-&gt;begin(), mHits-&gt;end(), [cellID, parentID](<span class="keyword">const</span> <a class="code" href="../../df/d3e/classo2_1_1emcal_1_1Hit.html">Hit</a>&amp; hit) { <span class="keywordflow">return</span> hit.GetTrackID() == parentID &amp;&amp; hit.GetDetectorID() == cellID; });</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d30/classuint64__t.html">result</a> == mHits-&gt;end())</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">return</span> &amp;(*result);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a7a20c3effc84d8ab7b9018168690348c">  358</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a7a20c3effc84d8ab7b9018168690348c">Detector::Register</a>()</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  FairRootManager::Instance()-&gt;RegisterAny(<a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#af029394876e334bc6fdb977f4e86c8bc">addNameTo</a>(<span class="stringliteral">&quot;Hit&quot;</span>).<a class="code" href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a>(), mHits, kTRUE);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad2cf464593a0c497a98222abdb12684d">  363</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad2cf464593a0c497a98222abdb12684d">Detector::Reset</a>()</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Cleaning EMCAL hits ...&quot;</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../dd/da9/classo2_1_1utils_1_1ShmManager.html#ac70760dbf1a9534cb0e8213c5dd310c2">o2::utils::ShmManager::Instance</a>().isOperational()) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    mHits-&gt;clear();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  mSuperParentsIndices.clear();</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  mSuperParents.clear();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  mCurrentTrack = -1;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  mCurrentParentID = -1;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">  375</a></span>&#160;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">Detector::GetGeometry</a>()</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (!mGeometry) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    mGeometry = <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a0427765cf89f5bddba04ad12f9a82252">Geometry::GetInstanceFromRunNumber</a>(223409);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">if</span> (!mGeometry)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Failure accessing geometry&quot;</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> mGeometry;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a72e7657cbd9f25d369daa9203553bd96">  385</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a72e7657cbd9f25d369daa9203553bd96">Detector::CreateEmcalEnvelope</a>()</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* geom = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  std::string gn = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  std::transform(gn.begin(), gn.end(), gn.begin(), ::toupper);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  Int_t rotMatrixID(-1); <span class="comment">// Will be assigned by the simulation engine</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">//  TVirtualMC::GetMC()-&gt;Matrix(nmat, theta1, phi1, theta2, phi2, theta3, phi3) - see AliModule</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 90.0, 0., 90.0, 90.0, 0.0, 0.0);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Create the EMCAL Mother Volume (a polygone) within which to place the Detector and named XEN1</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (contains(gn, <span class="stringliteral">&quot;WSUC&quot;</span>)) { <span class="comment">// TRD1 for WSUC facility</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// Nov 25,2010</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    Double_t envelopA[3];</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    envelopA[0] = 30.;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    envelopA[1] = 30;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    envelopA[2] = 20;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">GetNameOfEMCALEnvelope</a>(), <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da6646029bb2e35b9ec829475476f06da9">ID_SC</a>, envelopA, 3);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="comment">// Position the EMCAL Mother Volume (XEN1) in WSUC.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="comment">// Look to AliEMCALWsuCosmicRaySetUp.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      TVirtualMC::GetMC()-&gt;Gspos(geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">GetNameOfEMCALEnvelope</a>(), 1, <span class="stringliteral">&quot;WSUC&quot;</span>, 0.0, 0.0, +265., rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    Double_t envelopA[10];</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    envelopA[0] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a1c94b16ef08b0d81e00b436fd96263d0">GetArm1PhiMin</a>();                         <span class="comment">// minimum phi angle</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    envelopA[1] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af59101fcfad097f18ac1e12245b61857">GetArm1PhiMax</a>() - geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a1c94b16ef08b0d81e00b436fd96263d0">GetArm1PhiMin</a>(); <span class="comment">// angular range in phi</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    envelopA[2] = envelopA[1] / geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a5723cbff32a83ff778f711d7b06a2155">GetPhiSuperModule</a>();       <span class="comment">// Section of that</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    envelopA[3] = 2;                                             <span class="comment">// 2: z coordinates</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    envelopA[4] = -geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(2) / 2.;                     <span class="comment">// zmin - includes padding</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    envelopA[5] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(0);                           <span class="comment">// rmin at z1 - includes padding</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    envelopA[6] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(1);                           <span class="comment">// rmax at z1 - includes padding</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    envelopA[7] = geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(2) / 2.;                      <span class="comment">// zmax includes padding</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    envelopA[8] = envelopA[5]; <span class="comment">// radii are the same.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    envelopA[9] = envelopA[6];</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// radii are the same.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">GetNameOfEMCALEnvelope</a>(), <span class="stringliteral">&quot;PGON&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, envelopA,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                      10); <span class="comment">// Polygone filled with air</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;ConstructGeometry: &quot;</span> &lt;&lt; geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">GetNameOfEMCALEnvelope</a>() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; envelopA[5] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                &lt;&lt; envelopA[6];</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;ConstructGeometry: XU0 = &quot;</span> &lt;&lt; envelopA[5] &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; envelopA[6];</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// Position the EMCAL Mother Volume (XEN1) in ALICE (cave)</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(geom-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">GetNameOfEMCALEnvelope</a>(), 1, <span class="stringliteral">&quot;cave&quot;</span>, 0.0, 0.0, 0.0, rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad5775c421f2fc1496e7f9ef2a77868ab">  436</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad5775c421f2fc1496e7f9ef2a77868ab">Detector::CreateShiskebabGeometry</a>()</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// TRD1</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a> = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  std::string gn = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  std::transform(gn.begin(), gn.end(), gn.begin(), ::toupper);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  Double_t trd1Angle = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#accd36deecd2b632dec45ebac8555ea15">GetTrd1Angle</a>() * TMath::DegToRad(), tanTrd1 = TMath::Tan(trd1Angle / 2.);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">// see AliModule::fFIdTmedArr</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">//  fIdTmedArr = fIdtmed-&gt;GetArray() - 1599 ; // see AliEMCAL::::CreateMaterials()</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">//  Int_t kIdAIR=1599, kIdPB = 1600, kIdSC = 1601, kIdSTEEL = 1603;</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="comment">//  idAL = 1602;</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  Double_t par[10], xpos = 0., ypos = 0., zpos = 0.;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  std::string mothervolume;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (contains(g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>(), <span class="stringliteral">&quot;WSUC&quot;</span>)) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    mothervolume = <span class="stringliteral">&quot;WSUC&quot;</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    mothervolume = <span class="stringliteral">&quot;cave&quot;</span>;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;Name of mother volume: &quot;</span> &lt;&lt; mothervolume;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a22947535e3dda5822356f3e02c775f77">CreateSupermoduleGeometry</a>(mothervolume);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keyword">auto</span> SMTypeList = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a4f3ee56cf3e8f69395f152d1a1f75a06">GetEMCSystem</a>();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keyword">auto</span> tmpType = <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaaa49e36bd1b73f8ad96e1f502d19b91c">NOT_EXISTENT</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  std::string namesmtype;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> : boost::irange(0, g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad3171cc52fcea4bdd401ec10ea034e28">GetNumberOfSuperModules</a>())) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (SMTypeList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] == tmpType)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      tmpType = SMTypeList[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">switch</span> (tmpType) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabacfea911ef7161eeb8dbba3b66b61dab1">EMCAL_STANDARD</a>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        namesmtype = <span class="stringliteral">&quot;SMOD&quot;</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba53f1b9001c9adca9b403cf3c47ce1373">EMCAL_HALF</a>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        namesmtype = <span class="stringliteral">&quot;SM10&quot;</span>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e">EMCAL_THIRD</a>:</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        namesmtype = <span class="stringliteral">&quot;SM3rd&quot;</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c">DCAL_STANDARD</a>:</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        namesmtype = <span class="stringliteral">&quot;DCSM&quot;</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512">DCAL_EXT</a>:</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        namesmtype = <span class="stringliteral">&quot;DCEXT&quot;</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Unkown SM Type!!&quot;</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    };</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;Creating EMCAL module for SM &quot;</span> &lt;&lt; namesmtype &lt;&lt; std::endl;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (namesmtype.length())</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a140082f2b75da794cb46a165ea037503">CreateEmcalModuleGeometry</a>(namesmtype, <span class="stringliteral">&quot;EMOD&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// Sensitive SC  (2x2 tiles)</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  Double_t parSCM0[5] = {0, 0, 0, 0}, *dummy = <span class="keyword">nullptr</span>, parTRAP[11];</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (!contains(gn, <span class="stringliteral">&quot;V1&quot;</span>)) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    Double_t wallThickness = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() / g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aeb2686e5e8dcbf641a431a8774d804a7">GetNPHIdiv</a>() - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aa1b24a68669e386d3240c0443dba1eef">GetPhiTileSize</a>();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      parSCM0[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mParEMOD[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - wallThickness;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    parSCM0[3] = mParEMOD[3];</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;SCM0&quot;</span>, <span class="stringliteral">&quot;TRD1&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, parSCM0, 4);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;SCM0&quot;</span>, 1, <span class="stringliteral">&quot;EMOD&quot;</span>, 0., 0., 0., 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    Double_t wTh = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2caa5ab39eb387b5495fcf8aca9d7caf">GetLateralSteelStrip</a>();</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    parSCM0[0] = mParEMOD[0] - wTh + tanTrd1 * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>();</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    parSCM0[1] = mParEMOD[1] - wTh;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    parSCM0[2] = mParEMOD[2] - wTh;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    parSCM0[3] = mParEMOD[3] - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>() / 2.;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;SCM0&quot;</span>, <span class="stringliteral">&quot;TRD1&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, parSCM0, 4);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    Double_t zshift = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>() / 2.;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;SCM0&quot;</span>, 1, <span class="stringliteral">&quot;EMOD&quot;</span>, 0., 0., zshift, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aebefc186024f3f0d5b4b2934ce5056ac">CreateAlFrontPlate</a>(<span class="stringliteral">&quot;EMOD&quot;</span>, <span class="stringliteral">&quot;ALFP&quot;</span>);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aeb2686e5e8dcbf641a431a8774d804a7">GetNPHIdiv</a>() == 2 &amp;&amp; g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aff136294a2224bbc065e877188f6066f">GetNETAdiv</a>() == 2) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Division to tile size - 1-oct-04</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; Divide SCM0 on y-axis &quot;</span> &lt;&lt; g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aff136294a2224bbc065e877188f6066f">GetNETAdiv</a>();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    TVirtualMC::GetMC()-&gt;Gsdvn(<span class="stringliteral">&quot;SCMY&quot;</span>, <span class="stringliteral">&quot;SCM0&quot;</span>, g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aff136294a2224bbc065e877188f6066f">GetNETAdiv</a>(), 2); <span class="comment">// y-axis</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    mSensitive.emplace_back(<span class="stringliteral">&quot;SCMY&quot;</span>);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// Trapesoid 2x2</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    parTRAP[0] = parSCM0[3];                                                                         <span class="comment">// dz</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    parTRAP[1] = TMath::ATan2((parSCM0[1] - parSCM0[0]) / 2., 2. * parSCM0[3]) * 180. / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>(); <span class="comment">// theta</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    parTRAP[2] = 0.;                                                                                 <span class="comment">// phi</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// bottom</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    parTRAP[3] = parSCM0[2] / 2.; <span class="comment">// H1</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    parTRAP[4] = parSCM0[0] / 2.; <span class="comment">// BL1</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    parTRAP[5] = parTRAP[4];      <span class="comment">// TL1</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    parTRAP[6] = 0.0;             <span class="comment">// ALP1</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// top</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    parTRAP[7] = parSCM0[2] / 2.; <span class="comment">// H2</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    parTRAP[8] = parSCM0[1] / 2.; <span class="comment">// BL2</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    parTRAP[9] = parTRAP[8];      <span class="comment">// TL2</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    parTRAP[10] = 0.0;            <span class="comment">// ALP2</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; ** TRAP ** &quot;</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 11; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; <span class="stringliteral">&quot; par[&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; std::setprecision(2) &lt;&lt; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <span class="stringliteral">&quot;] &quot;</span> &lt;&lt; std::setw(9)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                  &lt;&lt; std::setprecision(4) &lt;&lt; parTRAP[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    mVolumeIDScintillator = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;SCMX&quot;</span>, <span class="stringliteral">&quot;TRAP&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da6646029bb2e35b9ec829475476f06da9">ID_SC</a>, parTRAP, 11);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    xpos = +(parSCM0[1] + parSCM0[0]) / 4.;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;SCMX&quot;</span>, 1, <span class="stringliteral">&quot;SCMY&quot;</span>, xpos, 0.0, 0.0, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// Using rotation because SCMX should be the same due to Pb tiles</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    xpos = -xpos;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    Int_t rotMatrixID(-1);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 90.0, 180., 90.0, 270.0, 0.0, 0.0);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;SCMX&quot;</span>, 2, <span class="stringliteral">&quot;SCMY&quot;</span>, xpos, 0.0, 0.0, rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// put LED to the SCM0</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html">ShishKebabTrd1Module</a>&amp; mod = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a39c19e1e043e3b8b184faa40ec5429c0">GetShishKebabTrd1Modules</a>()[0];</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    Double_t tanBetta = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#accf2d92b21a58f05528d1e7322f6f3d9">GetTanBetta</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    Int_t nr = 0;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    ypos = 0.0;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    Double_t xCenterSCMX = (parTRAP[4] + parTRAP[8]) / 2.;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (!contains(gn, <span class="stringliteral">&quot;V1&quot;</span>)) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      par[1] = parSCM0[2] / 2;            <span class="comment">// y</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">GetECPbRadThick</a>() / 2.; <span class="comment">// z</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;PBTI&quot;</span>, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da16b9c0b5b63036bde7cd81f0bc7e135e">ID_PB</a>, dummy, 0);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      zpos = -mSampleWidth * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#abe6cea8ce79383ace5720c496b41b35f">GetNECLayers</a>() / 2. + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">GetECPbRadThick</a>() / 2.;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; Pb tiles &quot;</span>;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">for</span> (Int_t iz = 0; iz &lt; g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#abe6cea8ce79383ace5720c496b41b35f">GetNECLayers</a>(); iz++) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        par[0] = (parSCM0[0] + tanBetta * mSampleWidth * iz) / 2.;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        xpos = par[0] - xCenterSCMX;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        TVirtualMC::GetMC()-&gt;Gsposp(<span class="stringliteral">&quot;PBTI&quot;</span>, ++nr, <span class="stringliteral">&quot;SCMX&quot;</span>, xpos, ypos, zpos, 0, <span class="stringliteral">&quot;ONLY&quot;</span>, par, 3);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; iz + 1 &lt;&lt; <span class="stringliteral">&quot; xpos &quot;</span> &lt;&lt; xpos &lt;&lt; <span class="stringliteral">&quot; zpos &quot;</span> &lt;&lt; zpos &lt;&lt; <span class="stringliteral">&quot; par[0] &quot;</span> &lt;&lt; par[0];</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        zpos += mSampleWidth;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; Number of Pb tiles in SCMX &quot;</span> &lt;&lt; nr;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="comment">// Oct 26, 2010</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="comment">// First sheet of paper</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      par[1] = parSCM0[2] / 2.;                 <span class="comment">// y</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">GetTrd1BondPaperThick</a>() / 2.; <span class="comment">// z</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      par[0] = parSCM0[0] / 2.;                 <span class="comment">// x</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;PAP1&quot;</span>, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da01b52f27d31b14c8c8d6d90826cb71c2">ID_PAPER</a>, par, 3);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      xpos = par[0] - xCenterSCMX;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      zpos = -parSCM0[3] + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">GetTrd1BondPaperThick</a>() / 2.;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;PAP1&quot;</span>, 1, <span class="stringliteral">&quot;SCMX&quot;</span>, xpos, ypos, zpos, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iz : boost::irange(0, g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#abe6cea8ce79383ace5720c496b41b35f">GetNECLayers</a>() - 1)) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        nr = iz + 1;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        Double_t dz = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad417809781764510a2b74882b891e9ec">GetECScintThick</a>() + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">GetTrd1BondPaperThick</a>() + mSampleWidth * iz;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="comment">// PB + 2 paper sheets</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">GetECPbRadThick</a>() / 2. + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">GetTrd1BondPaperThick</a>(); <span class="comment">// z</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        par[0] = (parSCM0[0] + tanBetta * dz) / 2.;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        std::string pa(Form(<span class="stringliteral">&quot;PA%2.2i&quot;</span>, nr));</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(pa, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da01b52f27d31b14c8c8d6d90826cb71c2">ID_PAPER</a>, par, 3);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        xpos = par[0] - xCenterSCMX;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        zpos = -parSCM0[3] + dz + par[2];</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        TVirtualMC::GetMC()-&gt;Gspos(pa.data(), 1, <span class="stringliteral">&quot;SCMX&quot;</span>, xpos, ypos, zpos, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">// Pb</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        std::string pb(Form(<span class="stringliteral">&quot;PB%2.2i&quot;</span>, nr));</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">GetECPbRadThick</a>() / 2.; <span class="comment">// z</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(pb, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da16b9c0b5b63036bde7cd81f0bc7e135e">ID_PB</a>, par, 3);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        TVirtualMC::GetMC()-&gt;Gspos(pb.data(), 1, pa.data(), 0.0, 0.0, 0.0, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aa3d9200689ccd9c9ecca685bea037293">  613</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aa3d9200689ccd9c9ecca685bea037293">Detector::CreateMaterials</a>()</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// media number in idtmed are 1599 to 1698.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// --- Air ---</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> aAir[4] = {12.0107, 14.0067, 15.9994, 39.948};</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> zAir[4] = {6., 7., 8., 18.};</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> wAir[4] = {0.000124, 0.755267, 0.231781, 0.012827};</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> dAir = 1.20479E-3;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aba38da94c4a45a69a1014a8240b5d88b">Mixture</a>(0, <span class="stringliteral">&quot;Air$&quot;</span>, aAir, zAir, dAir, 4, wAir);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// --- Lead ---</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aee0e854831d4240d79f15820a7796928">Material</a>(1, <span class="stringliteral">&quot;Pb$&quot;</span>, 207.2, 82, 11.35, 0.56, 0., <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// --- The polysterene scintillator (CH) ---</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> aP[2] = {12.011, 1.00794};</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> zP[2] = {6.0, 1.0};</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> wP[2] = {1.0, 1.0};</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> dP = 1.032;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aba38da94c4a45a69a1014a8240b5d88b">Mixture</a>(2, <span class="stringliteral">&quot;Polystyrene$&quot;</span>, aP, zP, dP, -2, wP);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// --- Aluminium ---</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aee0e854831d4240d79f15820a7796928">Material</a>(3, <span class="stringliteral">&quot;Al$&quot;</span>, 26.98, 13., 2.7, 8.9, 999., <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// ---         Absorption length is ignored ^</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// 25-aug-04 by PAI - see  PMD/AliPMDv0.cxx for STEEL definition</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> asteel[4] = {55.847, 51.9961, 58.6934, 28.0855};</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> zsteel[4] = {26., 24., 28., 14.};</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> wsteel[4] = {.715, .18, .1, .005};</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aba38da94c4a45a69a1014a8240b5d88b">Mixture</a>(4, <span class="stringliteral">&quot;STAINLESS STEEL$&quot;</span>, asteel, zsteel, 7.88, 4, wsteel);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// Oct 26,2010 : Multipurpose Copy Paper UNV-21200), weiht 75 g/m**2.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// *Cellulose C6H10O5</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">//    Component C  A=12.01   Z=6.    W=6./21.</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">//    Component H  A=1.      Z=1.    W=10./21.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">//    Component O  A=16.     Z=8.    W=5./21.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> apaper[3] = {12.01, 1.0, 16.0};</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> zpaper[3] = {6.0, 1.0, 8.0};</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> wpaper[3] = {6. / 21., 10. / 21., 5. / 21.};</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#aba38da94c4a45a69a1014a8240b5d88b">Mixture</a>(5, <span class="stringliteral">&quot;BondPaper$&quot;</span>, apaper, zpaper, 0.75, 3, wpaper);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// DEFINITION OF THE TRACKING MEDIA</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// Look to the $ALICE_ROOT/data/galice.cuts for particular values</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// of cuts.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// Don&#39;t forget to add a new tracking medium with non-default cuts</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">// for EMCAL: idtmed[1599-&gt;1698] equivalent to fIdtmed[0-&gt;100]</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  Int_t isxfld = 2;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="../../d9/d7d/classFloat__t.html">Float_t</a> sxmgmx = 10.0;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ae2e021e89d0668ab0a0e9703afbf5693">o2::base::Detector::initFieldTrackingParams</a>(isxfld, sxmgmx);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="comment">// Air                                                                         -&gt; idtmed[1599]</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, <span class="stringliteral">&quot;Air$&quot;</span>, 0, 0, isxfld, sxmgmx, 10.0, 1.0, 0.1, 0.1, 10.0, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">// The Lead                                                                      -&gt; idtmed[1600]</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da16b9c0b5b63036bde7cd81f0bc7e135e">ID_PB</a>, <span class="stringliteral">&quot;Lead$&quot;</span>, 1, 0, isxfld, sxmgmx, 10.0, 0.1, 0.1, 0.1, 0.1, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// The scintillator of the CPV made of Polystyrene scintillator                   -&gt; idtmed[1601]</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">float</span> deemax = 0.1; <span class="comment">// maximum fractional energy loss in one step (0 &lt; DEEMAX &lt; deemax )</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da6646029bb2e35b9ec829475476f06da9">ID_SC</a>, <span class="stringliteral">&quot;Scintillator$&quot;</span>, 2, 1, isxfld, sxmgmx, 10.0, 0.001, deemax, 0.001, 0.001, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">// Various Aluminium parts made of Al                                            -&gt; idtmed[1602]</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da9c932e027e0d8290fd9b19602289bfd7">ID_AL</a>, <span class="stringliteral">&quot;Al$&quot;</span>, 3, 0, isxfld, sxmgmx, 10.0, 0.1, 0.1, 0.001, 0.001, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// 25-aug-04 by PAI : see  PMD/AliPMDv0.cxx for STEEL definition                 -&gt; idtmed[1603]</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581">ID_STEEL</a>, <span class="stringliteral">&quot;S steel$&quot;</span>, 4, 0, isxfld, sxmgmx, 10.0, 0.01, 0.1, 0.001, 0.001, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// Oct 26,2010; Nov 24,2010                                                      -&gt; idtmed[1604]</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  deemax = 0.01;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">Medium</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da01b52f27d31b14c8c8d6d90826cb71c2">ID_PAPER</a>, <span class="stringliteral">&quot;Paper$&quot;</span>, 5, 0, isxfld, sxmgmx, 10.0, deemax, 0.1, 0.001, 0.001, <span class="keyword">nullptr</span>, 0);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// Set constants for Birk&#39;s Law implentation</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  mBirkC0 = 1;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  mBirkC1 = 0.013 / dP;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  mBirkC2 = 9.6e-6 / (dP * dP);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  std::array&lt;std::string, 6&gt; materialNames = {<span class="stringliteral">&quot;Air&quot;</span>, <span class="stringliteral">&quot;Pb&quot;</span>, <span class="stringliteral">&quot;Scintillator&quot;</span>, <span class="stringliteral">&quot;Aluminium&quot;</span>, <span class="stringliteral">&quot;Steel&quot;</span>, <span class="stringliteral">&quot;Paper&quot;</span>};</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Created material of type &quot;</span> &lt;&lt; materialNames[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; <span class="stringliteral">&quot; with global index &quot;</span> &lt;&lt; <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad6c3f9fa516326608a8dd14cdb44849b">getMediumID</a>(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a22947535e3dda5822356f3e02c775f77">  695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a22947535e3dda5822356f3e02c775f77">Detector::CreateSupermoduleGeometry</a>(<span class="keyword">const</span> std::string_view mother)</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// 18-may-05; mother=&quot;XEN1&quot;;</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// child=&quot;SMOD&quot; from first to 10th, &quot;SM10&quot; (11th and 12th)</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// &quot;DCSM&quot; from 13th to 18/22th (TRD1 case), &quot;DCEXT&quot;(18th and 19th)  adapted for DCAL, Oct-23-2012</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a> = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  std::string gn = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>();</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  std::transform(gn.begin(), gn.end(), gn.begin(), ::toupper);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  Double_t par[3], xpos = 0., ypos = 0., zpos = 0., rpos = 0., dphi = 0., phi = 0.0, phiRad = 0.;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  Double_t parC[3] = {0};</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  std::string smName;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  Int_t tmpType = -1;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">//  ===== define Super Module from air - 14x30 module ==== ;</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;\n ## Super Module | fSampleWidth &quot;</span> &lt;&lt; std::setw(5) &lt;&lt; std::setprecision(3) &lt;&lt; mSampleWidth &lt;&lt; <span class="stringliteral">&quot; ## &quot;</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;              &lt;&lt; gn;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  par[0] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a40fecb65c0bb4cd3e724558b5b52f881">GetShellThickness</a>() / 2.;               <span class="comment">// radial</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  par[1] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">GetNPhi</a>() / 2.; <span class="comment">// phi</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae53939e3833ac947734dac705b30686d">GetEtaModuleSize</a>() * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2bed201fca1a88a8ac07f38f65937821">GetNEta</a>() / 2.; <span class="comment">// eta</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  Int_t nSMod = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad3171cc52fcea4bdd401ec10ea034e28">GetNumberOfSuperModules</a>();</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  Int_t nphism = nSMod / 2; <span class="comment">// 20-may-05</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">if</span> (nphism &gt; 0) {</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    dphi = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a5723cbff32a83ff778f711d7b06a2155">GetPhiSuperModule</a>();</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    rpos = (g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(0) + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">GetEnvelop</a>(1)) / 2.;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; rpos &quot;</span> &lt;&lt; std::setw(8) &lt;&lt; std::setprecision(2) &lt;&lt; rpos &lt;&lt; <span class="stringliteral">&quot; : dphi &quot;</span> &lt;&lt; std::setw(6)</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                &lt;&lt; std::setprecision(1) &lt;&lt; dphi &lt;&lt; <span class="stringliteral">&quot; degree &quot;</span>;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> (contains(gn, <span class="stringliteral">&quot;WSUC&quot;</span>)) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    Int_t nr = 0;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    par[0] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">GetNPhi</a>() / 2.;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    par[1] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a40fecb65c0bb4cd3e724558b5b52f881">GetShellThickness</a>() / 2.;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    par[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae53939e3833ac947734dac705b30686d">GetEtaModuleSize</a>() * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a26e2d1720088e184a803feccdb0323d1">GetNZ</a>() / 2. + 5;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;SMOD&quot;</span>, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, par, 3);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot;SMOD in WSUC : tmed &quot;</span> &lt;&lt; <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad6c3f9fa516326608a8dd14cdb44849b">getMediumID</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>) &lt;&lt; <span class="stringliteral">&quot; | dx &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2)</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                &lt;&lt; par[0] &lt;&lt; <span class="stringliteral">&quot; dy &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; par[1] &lt;&lt; <span class="stringliteral">&quot; dz &quot;</span> &lt;&lt; std::setw(7)</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                &lt;&lt; std::setprecision(2) &lt;&lt; par[2] &lt;&lt; <span class="stringliteral">&quot; (SMOD, BOX)&quot;</span>;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    mSmodPar0 = par[0];</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    mSmodPar1 = par[1];</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    mSmodPar2 = par[2];</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    nphism = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad3171cc52fcea4bdd401ec10ea034e28">GetNumberOfSuperModules</a>();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nphism; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      xpos = ypos = zpos = 0.0;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;SMOD&quot;</span>, 1, mother.data(), xpos, ypos, zpos, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; fIdRotm &quot;</span> &lt;&lt; std::setw(3) &lt;&lt; 0 &lt;&lt; <span class="stringliteral">&quot; phi &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(1) &lt;&lt; phi &lt;&lt; <span class="stringliteral">&quot;(&quot;</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                  &lt;&lt; std::setw(5) &lt;&lt; std::setprecision(3) &lt;&lt; phiRad &lt;&lt; <span class="stringliteral">&quot;) xpos &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2)</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  &lt;&lt; xpos &lt;&lt; <span class="stringliteral">&quot; ypos &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; ypos &lt;&lt; <span class="stringliteral">&quot; zpos &quot;</span> &lt;&lt; std::setw(7)</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                  &lt;&lt; std::setprecision(2) &lt;&lt; zpos;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      nr++;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">// ALICE</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; par[0] &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; par[0] &lt;&lt; <span class="stringliteral">&quot; (old) &quot;</span>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">for</span> (Int_t <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      par[<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a380787c7bcdee46fb5b5c94aa43cfda4">GetSuperModulesPar</a>(<a class="code" href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    mSmodPar0 = par[0];</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    mSmodPar2 = par[2];</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    Int_t SMOrder = -1;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    tmpType = -1;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> smodnum : boost::irange(0, nSMod)) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      memcpy(parC, par, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * 3);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">if</span> (g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a8c479a3f8d3446167748479959339749">GetSMType</a>(smodnum) == tmpType) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        SMOrder++;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        tmpType = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a8c479a3f8d3446167748479959339749">GetSMType</a>(smodnum);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        SMOrder = 1;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      phiRad = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a323064dc5a35b5502aa2ea51b83f392b">GetPhiCenterOfSMSec</a>(smodnum); <span class="comment">// NEED  phi= 90, 110, 130, 150, 170, 190(not center)...</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      phi = phiRad * 180. / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>();</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      Double_t phiy = 90. + phi;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      Double_t phiz = 0.;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      xpos = rpos * TMath::Cos(phiRad);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      ypos = rpos * TMath::Sin(phiRad);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      zpos = mSmodPar2; <span class="comment">// 21-sep-04</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">switch</span> (tmpType) {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabacfea911ef7161eeb8dbba3b66b61dab1">EMCAL_STANDARD</a>: {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          smName = <span class="stringliteral">&quot;SMOD&quot;</span>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba53f1b9001c9adca9b403cf3c47ce1373">EMCAL_HALF</a>: {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          smName = <span class="stringliteral">&quot;SM10&quot;</span>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          parC[1] /= 2.;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          xpos += (par[1] / 2. * TMath::Sin(phiRad));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          ypos -= (par[1] / 2. * TMath::Cos(phiRad));</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        }</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e">EMCAL_THIRD</a>: {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          smName = <span class="stringliteral">&quot;SM3rd&quot;</span>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;          parC[1] /= 3.;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          xpos += (2. * par[1] / 3. * TMath::Sin(phiRad));</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          ypos -= (2. * par[1] / 3. * TMath::Cos(phiRad));</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c">DCAL_STANDARD</a>: {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;          smName = <span class="stringliteral">&quot;DCSM&quot;</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          parC[2] *= 2. / 3.;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;          zpos = mSmodPar2 + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2ab18ca29f5a65736678662bca7e88fb">GetDCALInnerEdge</a>() / 2.; <span class="comment">// 21-sep-04</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512">DCAL_EXT</a>: {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          smName = <span class="stringliteral">&quot;DCEXT&quot;</span>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          parC[1] /= 3.;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;          xpos += (2. * par[1] / 3. * TMath::Sin(phiRad));</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;          ypos -= (2. * par[1] / 3. * TMath::Cos(phiRad));</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;          <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Unkown SM Type!!&quot;</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      };</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">if</span> (SMOrder == 1) { <span class="comment">// first time, create the SM</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(smName, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">ID_AIR</a>, parC, 3);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        mSMVolNames[smName] = <a class="code" href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fab">EMCALSMType</a>(tmpType);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; R<span class="stringliteral">&quot;( Super module with name \&quot;)&quot; &lt;&lt; smName &lt;&lt; R</span><span class="stringliteral">&quot;(\&quot; was created in \&quot;box\&quot; with: par[0] = )&quot;</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="stringliteral">                    &lt;&lt; parC[0] &lt;&lt; </span><span class="stringliteral">&quot;, par[1] = &quot;</span> &lt;&lt; parC[1] &lt;&lt; <span class="stringliteral">&quot;, par[2] = &quot;</span> &lt;&lt; parC[2];</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (smodnum % 2 == 1) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        phiy += 180.;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (phiy &gt;= 360.)</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          phiy -= 360.;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        phiz = 180.;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        zpos *= -1.;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      Int_t rotMatrixID(-1);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 90.0, phi, 90.0, phiy, phiz, 0.0);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      TVirtualMC::GetMC()-&gt;Gspos(smName.data(), SMOrder, mother.data(), xpos, ypos, zpos, rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; smName &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; std::setw(2) &lt;&lt; SMOrder &lt;&lt; <span class="stringliteral">&quot;, fIdRotm &quot;</span> &lt;&lt; std::setw(3) &lt;&lt; rotMatrixID</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; phi &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(1) &lt;&lt; phi &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; std::setw(5)</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                  &lt;&lt; std::setprecision(3) &lt;&lt; phiRad &lt;&lt; <span class="stringliteral">&quot;) xpos &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; xpos</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; ypos &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; ypos &lt;&lt; <span class="stringliteral">&quot; zpos &quot;</span> &lt;&lt; std::setw(7)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                  &lt;&lt; std::setprecision(2) &lt;&lt; zpos &lt;&lt; <span class="stringliteral">&quot; : i &quot;</span> &lt;&lt; smodnum;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    }</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; Number of Super Modules &quot;</span> &lt;&lt; nSMod;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="comment">// Steel plate</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">if</span> (g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a95fca2527605a8618f25237e9f815521">GetSteelFrontThickness</a>() &gt; 0.0) { <span class="comment">// 28-mar-05</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    par[0] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a95fca2527605a8618f25237e9f815521">GetSteelFrontThickness</a>() / 2.;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(<span class="stringliteral">&quot;STPL&quot;</span>, <span class="stringliteral">&quot;BOX&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581">ID_STEEL</a>, par, 3);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG1) &lt;&lt; <span class="stringliteral">&quot;tmed &quot;</span> &lt;&lt; <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad6c3f9fa516326608a8dd14cdb44849b">getMediumID</a>(<a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581">ID_STEEL</a>) &lt;&lt; <span class="stringliteral">&quot; | dx &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; par[0]</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                &lt;&lt; <span class="stringliteral">&quot; dy &quot;</span> &lt;&lt; std::setw(7) &lt;&lt; std::setprecision(2) &lt;&lt; par[1] &lt;&lt; <span class="stringliteral">&quot; dz &quot;</span> &lt;&lt; std::setw(7)</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                &lt;&lt; std::setprecision(2) &lt;&lt; par[2] &lt;&lt; <span class="stringliteral">&quot; (STPL) &quot;</span>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    xpos = -(g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a40fecb65c0bb4cd3e724558b5b52f881">GetShellThickness</a>() - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a95fca2527605a8618f25237e9f815521">GetSteelFrontThickness</a>()) / 2.;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    TVirtualMC::GetMC()-&gt;Gspos(<span class="stringliteral">&quot;STPL&quot;</span>, 1, <span class="stringliteral">&quot;SMOD&quot;</span>, xpos, 0.0, 0.0, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a140082f2b75da794cb46a165ea037503">  860</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a140082f2b75da794cb46a165ea037503">Detector::CreateEmcalModuleGeometry</a>(<span class="keyword">const</span> std::string_view mother, <span class="keyword">const</span> std::string_view child)</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="comment">// 17-may-05; mother=&quot;SMOD&quot;; child=&quot;EMOD&quot;</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="comment">// Oct 26,2010</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keyword">using</span> boost::algorithm::contains;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a> = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  std::string gn = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">GetName</a>();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  std::transform(gn.begin(), gn.end(), gn.begin(), ::toupper);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">// Module definition</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  Double_t xpos = 0., ypos = 0., zpos = 0.;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">// Double_t trd1Angle = g-&gt;GetTrd1Angle()*TMath::DegToRad();tanTrd1 = TMath::Tan(trd1Angle/2.);</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordflow">if</span> (mother == <span class="stringliteral">&quot;SMOD&quot;</span>) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    mParEMOD[0] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae53939e3833ac947734dac705b30686d">GetEtaModuleSize</a>() / 2.;  <span class="comment">// dx1</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    mParEMOD[1] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3aad53c2f80f73359ee4d200d89c0427">Get2Trd1Dx2</a>() / 2.;       <span class="comment">// dx2</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    mParEMOD[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() / 2.;  <span class="comment">// dy</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    mParEMOD[3] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a9d4382b844d46205221e3443a937919a">GetLongModuleSize</a>() / 2.; <span class="comment">// dz</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(child, <span class="stringliteral">&quot;TRD1&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581">ID_STEEL</a>, mParEMOD, 4);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  Int_t nr = 0;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  Int_t rotMatrixID(-1);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="comment">// X-&gt;Z(0, 0); Y-&gt;Y(90, 90); Z-&gt;X(90, 0)</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> iz : boost::irange(0, g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a26e2d1720088e184a803feccdb0323d1">GetNZ</a>())) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html">ShishKebabTrd1Module</a>&amp; mod = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a39c19e1e043e3b8b184faa40ec5429c0">GetShishKebabTrd1Modules</a>()[iz];</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    Double_t <a class="code" href="../../dc/da3/glcorearb_8h.html#a9e06c1f76a20fed54ca742cd25cb02c4">angle</a>(mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a84733f7a62cf76b12ecd2346f8364b8c">GetThetaInDegree</a>()), phiOK(0.);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">if</span> (!contains(gn, <span class="stringliteral">&quot;WSUC&quot;</span>)) { <span class="comment">// ALICE</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 90. - angle, 180., 90.0, 90.0, angle, 0.);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      phiOK = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#aafb1e2aa44ffb420fc000510ae18f456">GetCenterOfModule</a>().Phi() * 180. / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>();</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG4) &lt;&lt; std::setw(2) &lt;&lt; iz + 1 &lt;&lt; <span class="stringliteral">&quot; | angle | &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(3) &lt;&lt; angle &lt;&lt; <span class="stringliteral">&quot; - &quot;</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                  &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(3) &lt;&lt; phiOK &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(3)</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                  &lt;&lt; angle - phiOK &lt;&lt; <span class="stringliteral">&quot;(eta &quot;</span> &lt;&lt; std::setw(5) &lt;&lt; std::setprecision(3) &lt;&lt; mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#af5493ca981a710fee477f8a18ff2d6b5">GetEtaOfCenterOfModule</a>()</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      xpos = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a3859eabed5f4553c93b6754d9b1c2641">GetPosXfromR</a>() + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a95fca2527605a8618f25237e9f815521">GetSteelFrontThickness</a>() - mSmodPar0;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      zpos = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a6069b123086fc0365c128cb2feb4b90d">GetPosZ</a>() - mSmodPar2;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      Int_t iyMax = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">GetNPhi</a>();</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">if</span> (mother == <span class="stringliteral">&quot;SM10&quot;</span>) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        iyMax /= 2;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mother == <span class="stringliteral">&quot;SM3rd&quot;</span>) {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        iyMax /= 3;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mother == <span class="stringliteral">&quot;DCEXT&quot;</span>) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        iyMax /= 3;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mother == <span class="stringliteral">&quot;DCSM&quot;</span>) {</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">if</span> (iz &lt; 8)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;          <span class="keywordflow">continue</span>; </div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        zpos = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a6069b123086fc0365c128cb2feb4b90d">GetPosZ</a>() - mSmodPar2 - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2ab18ca29f5a65736678662bca7e88fb">GetDCALInnerEdge</a>() / 2.;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mother.compare(<span class="stringliteral">&quot;SMOD&quot;</span>))</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(<a class="code" href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">ERROR</a>) &lt;&lt; <span class="stringliteral">&quot;Unknown super module Type!!&quot;</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iy : boost::irange(0, iyMax)) { <span class="comment">// flat in phi</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        ypos = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() * (2 * iy + 1 - iyMax) / 2.;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        TVirtualMC::GetMC()-&gt;Gspos(child.data(), ++nr, mother.data(), xpos, ypos, zpos, rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment">// printf(&quot; %2i xpos %7.2f ypos %7.2f zpos %7.2f fIdRotm %i\n&quot;, nr, xpos, ypos, zpos, fIdRotm);</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG3) &lt;&lt; std::setw(3) &lt;&lt; std::setprecision(3) &lt;&lt; nr &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; std::setprecision(2)</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    &lt;&lt; iy + 1 &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; std::setw(2) &lt;&lt; std::setprecision(2) &lt;&lt; iz + 1 &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="comment">// PH          printf(&quot;\n&quot;);</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// WSUC</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">if</span> (iz == 0)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 0., 0., 90., 0., 90., 90.); <span class="comment">// (x&#39;)z; y&#39;(x); z&#39;(y)</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">Matrix</a>(rotMatrixID, 90 - angle, 270., 90.0, 0.0, angle, 90.);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      phiOK = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#aafb1e2aa44ffb420fc000510ae18f456">GetCenterOfModule</a>().Phi() * 180. / <a class="code" href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">TMath::Pi</a>();</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG4) &lt;&lt; std::setw(2) &lt;&lt; iz + 1 &lt;&lt; <span class="stringliteral">&quot; | angle -phiOK | &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(3) &lt;&lt; angle</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; std::setw(6) &lt;&lt; std::setprecision(3) &lt;&lt; phiOK &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; std::setw(6)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                  &lt;&lt; std::setprecision(3) &lt;&lt; angle - phiOK &lt;&lt; <span class="stringliteral">&quot;(eta &quot;</span> &lt;&lt; std::setw(5) &lt;&lt; std::setprecision(3)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                  &lt;&lt; mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#af5493ca981a710fee477f8a18ff2d6b5">GetEtaOfCenterOfModule</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      zpos = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a6069b123086fc0365c128cb2feb4b90d">GetPosZ</a>() - mSmodPar2;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      ypos = mod.<a class="code" href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a3859eabed5f4553c93b6754d9b1c2641">GetPosXfromR</a>() - mSmodPar1;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">// printf(&quot; zpos %7.2f ypos %7.2f fIdRotm %i\n xpos &quot;, zpos, xpos, fIdRotm);</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> ix : boost::irange(0, g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">GetNPhi</a>())) { <span class="comment">// flat in phi</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        xpos = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() * (2 * ix + 1 - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">GetNPhi</a>()) / 2.;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        TVirtualMC::GetMC()-&gt;Gspos(child.data(), ++nr, mother.data(), xpos, ypos, zpos, rotMatrixID, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="comment">// printf(&quot; %7.2f &quot;, xpos);</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      }</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="comment">// printf(&quot;&quot;);</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG2) &lt;&lt; <span class="stringliteral">&quot; Number of modules in Super Module(&quot;</span> &lt;&lt; mother &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; nr;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aebefc186024f3f0d5b4b2934ce5056ac">  952</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aebefc186024f3f0d5b4b2934ce5056ac">Detector::CreateAlFrontPlate</a>(<span class="keyword">const</span> std::string_view mother, <span class="keyword">const</span> std::string_view child)</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;{</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="comment">// Oct 26,2010 : Al front plate : ALFP</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">Geometry</a>* <a class="code" href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a> = <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">GetGeometry</a>();</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  Double_t trd1Angle = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#accd36deecd2b632dec45ebac8555ea15">GetTrd1Angle</a>() * TMath::DegToRad(), tanTrd1 = TMath::Tan(trd1Angle / 2.);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  Double_t parALFP[5], zposALFP = 0.;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  parALFP[0] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae53939e3833ac947734dac705b30686d">GetEtaModuleSize</a>() / 2. - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2caa5ab39eb387b5495fcf8aca9d7caf">GetLateralSteelStrip</a>(); <span class="comment">// dx1</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  parALFP[1] = parALFP[0] + tanTrd1 * g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>();        <span class="comment">// dx2</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  parALFP[2] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">GetPhiModuleSize</a>() / 2. - g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2caa5ab39eb387b5495fcf8aca9d7caf">GetLateralSteelStrip</a>(); <span class="comment">// dy</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  parALFP[3] = g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>() / 2.;                          <span class="comment">// dz</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">CreateEMCALVolume</a>(child.data(), <span class="stringliteral">&quot;TRD1&quot;</span>, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da9c932e027e0d8290fd9b19602289bfd7">ID_AL</a>, parALFP, 4);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  zposALFP = -mParEMOD[3] + g-&gt;<a class="code" href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">GetTrd1AlFrontThick</a>() / 2.;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  TVirtualMC::GetMC()-&gt;Gspos(child.data(), 1, mother.data(), 0.0, 0.0, zposALFP, 0, <span class="stringliteral">&quot;ONLY&quot;</span>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">  971</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">Detector::CreateEMCALVolume</a>(<span class="keyword">const</span> std::string_view <a class="code" href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a>, <span class="keyword">const</span> std::string_view shape, <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361d">MediumType_t</a> mediumID, Double_t* shapeParams, Int_t nparams)</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;{</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordtype">int</span> volID = TVirtualMC::GetMC()-&gt;Gsvolu(name.data(), shape.data(), <a class="code" href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad6c3f9fa516326608a8dd14cdb44849b">getMediumID</a>(mediumID), shapeParams, nparams);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  mSensitive.emplace_back(name.data());</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="keywordflow">return</span> volID;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#abe1c214a9c8909464388bce64173da74">  978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#abe1c214a9c8909464388bce64173da74">Detector::BeginPrimary</a>()</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;{</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  mCurrentPrimaryID = fMC-&gt;GetStack()-&gt;GetCurrentTrackNumber();</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Starting primary &quot;</span> &lt;&lt; mCurrentPrimaryID &lt;&lt; <span class="stringliteral">&quot; with energy &quot;</span> &lt;&lt; fMC-&gt;GetStack()-&gt;GetCurrentTrack()-&gt;Energy();</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a860806059f6532b4a9ded28b2e6c49be">  984</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a860806059f6532b4a9ded28b2e6c49be">Detector::FinishPrimary</a>()</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <a class="code" href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a>(DEBUG) &lt;&lt; <span class="stringliteral">&quot;Finishing primary &quot;</span> &lt;&lt; mCurrentPrimaryID &lt;&lt; std::endl;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="comment">// Resetting primary and parent ID</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  mCurrentPrimaryID = -1;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div><div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a4985b93c08dc5ab001b22d36cd197fe8"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a4985b93c08dc5ab001b22d36cd197fe8">o2::emcal::Detector::CreateEMCALVolume</a></div><div class="ttdeci">int CreateEMCALVolume(const std::string_view name, const std::string_view shape, MediumType_t mediumID, Double_t *shapeParams, Int_t nparams)</div><div class="ttdoc">Create new EMCAL volume and add it to the list of sensitive volumes. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00971">Detector.cxx:971</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_aa3d9200689ccd9c9ecca685bea037293"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aa3d9200689ccd9c9ecca685bea037293">o2::emcal::Detector::CreateMaterials</a></div><div class="ttdeci">void CreateMaterials()</div><div class="ttdoc">Creating detector materials for the EMCAL detector and space frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00613">Detector.cxx:613</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ad5282674d5341c78dcb86a71d294b1fa"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad5282674d5341c78dcb86a71d294b1fa">o2::emcal::Geometry::GetName</a></div><div class="ttdeci">const std::string &amp; GetName() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00107">Geometry.h:107</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html">o2::emcal::ShishKebabTrd1Module</a></div><div class="ttdoc">Main class for TRD1 geometry of Shish-Kebab case.Sep 20004 - Nov 2006; Apr 2010 See web page with des...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/ShishKebabTrd1Module_8h_source.html#l00039">ShishKebabTrd1Module.h:39</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01faba53f1b9001c9adca9b403cf3c47ce1373"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba53f1b9001c9adca9b403cf3c47ce1373">o2::emcal::EMCAL_HALF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00023">GeometryBase.h:23</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_a84733f7a62cf76b12ecd2346f8364b8c"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a84733f7a62cf76b12ecd2346f8364b8c">o2::emcal::ShishKebabTrd1Module::GetThetaInDegree</a></div><div class="ttdeci">Double_t GetThetaInDegree() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/ShishKebabTrd1Module_8cxx_source.html#l00262">ShishKebabTrd1Module.cxx:262</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_a4e97b838ac96d726227da91ec35a9650"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#a4e97b838ac96d726227da91ec35a9650">nullptr</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events Simulate correct bunch interactions instead of placing only the average number of events A value [n] sets TFlen for [n] collisions in Number of bunches per train Number of bunch trains Instantaneous interaction rate Do not simulate border Total number of collisions to be placed in the interior of all time Do not select random but walk over array of events in stride steps h QA settings const char Legend entries for data from comparison histogram files const char nullptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00044">qconfigoptions.h:44</a></div></div>
<div class="ttc" id="namespaceo2_html"><div class="ttname"><a href="../../d4/d7c/namespaceo2.html">o2</a></div><div class="ttdoc">information complementary to a CCDB object (path, metadata, startTimeValidity, endTimeValidity etc) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d24/BitstreamReader_8h_source.html#l00022">BitstreamReader.h:22</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_a6069b123086fc0365c128cb2feb4b90d"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a6069b123086fc0365c128cb2feb4b90d">o2::emcal::ShishKebabTrd1Module::GetPosZ</a></div><div class="ttdeci">Double_t GetPosZ() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/ShishKebabTrd1Module_8h_source.html#l00079">ShishKebabTrd1Module.h:79</a></div></div>
<div class="ttc" id="glcorearb_8h_html_aee38b51639b577753f6a92029fb92000"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#aee38b51639b577753f6a92029fb92000">z</a></div><div class="ttdeci">GLdouble GLdouble GLdouble z</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00843">glcorearb.h:843</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1SpaceFrame_html_a2f5d5a7d41630c684df3f06f78459b29"><div class="ttname"><a href="../../dd/db3/classo2_1_1emcal_1_1SpaceFrame.html#a2f5d5a7d41630c684df3f06f78459b29">o2::emcal::SpaceFrame::CreateGeometry</a></div><div class="ttdeci">void CreateGeometry()</div><div class="ttdoc">Assembles the Geometries and places them into the Alice master volume. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7c/SpaceFrame_8cxx_source.html#l00026">SpaceFrame.cxx:26</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01fabacfea911ef7161eeb8dbba3b66b61dab1"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabacfea911ef7161eeb8dbba3b66b61dab1">o2::emcal::EMCAL_STANDARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00022">GeometryBase.h:22</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_ad5775c421f2fc1496e7f9ef2a77868ab"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad5775c421f2fc1496e7f9ef2a77868ab">o2::emcal::Detector::CreateShiskebabGeometry</a></div><div class="ttdeci">void CreateShiskebabGeometry()</div><div class="ttdoc">Generate tower geometry. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00436">Detector.cxx:436</a></div></div>
<div class="ttc" id="namespaceo2_1_1utils_html_a75b30d76ec9c94abf7bf374f874fd16a"><div class="ttname"><a href="../../d0/d28/namespaceo2_1_1utils.html#a75b30d76ec9c94abf7bf374f874fd16a">o2::utils::createSimVector</a></div><div class="ttdeci">std::vector&lt; T &gt; * createSimVector()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d91/ShmAllocator_8h_source.html#l00108">ShmAllocator.h:108</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ade2df61f4175899b9b7f66240a2ef724"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ade2df61f4175899b9b7f66240a2ef724">o2::emcal::Geometry::GetNameOfEMCALEnvelope</a></div><div class="ttdeci">const Char_t * GetNameOfEMCALEnvelope() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00173">Geometry.h:173</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361da6646029bb2e35b9ec829475476f06da9"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da6646029bb2e35b9ec829475476f06da9">o2::emcal::Detector::ID_SC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00055">Detector.h:55</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a0427765cf89f5bddba04ad12f9a82252"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a0427765cf89f5bddba04ad12f9a82252">o2::emcal::Geometry::GetInstanceFromRunNumber</a></div><div class="ttdeci">static Geometry * GetInstanceFromRunNumber(Int_t runNumber, const std::string_view=&quot;&quot;, const std::string_view mcname=&quot;TGeant3&quot;, const std::string_view mctitle=&quot;&quot;)</div><div class="ttdoc">Instanciate geometry depending on the run number. Mostly used in analysis and MC anchors. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d49/EMCAL_2base_2src_2Geometry_8cxx_source.html#l00214">Geometry.cxx:214</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_aeb2686e5e8dcbf641a431a8774d804a7"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aeb2686e5e8dcbf641a431a8774d804a7">o2::emcal::Geometry::GetNPHIdiv</a></div><div class="ttdeci">Int_t GetNPHIdiv() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00206">Geometry.h:206</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ae583535d75860286d440c4d6ba643e4a"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae583535d75860286d440c4d6ba643e4a">o2::emcal::Geometry::GetTrd1AlFrontThick</a></div><div class="ttdeci">Float_t GetTrd1AlFrontThick() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00212">Geometry.h:212</a></div></div>
<div class="ttc" id="GPUCommonLogger_8h_html_aea3d0edfe28fc0325c636b2b33f0527a"><div class="ttname"><a href="../../df/d5b/GPUCommonLogger_8h.html#aea3d0edfe28fc0325c636b2b33f0527a">LOG</a></div><div class="ttdeci">#define LOG(type)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5b/GPUCommonLogger_8h_source.html#l00028">GPUCommonLogger.h:28</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a4568fc090febc136eed4577a600739ca"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a4568fc090febc136eed4577a600739ca">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00832">glcorearb.h:832</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a9d4382b844d46205221e3443a937919a"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a9d4382b844d46205221e3443a937919a">o2::emcal::Geometry::GetLongModuleSize</a></div><div class="ttdeci">Float_t GetLongModuleSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00209">Geometry.h:209</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a72e7657cbd9f25d369daa9203553bd96"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a72e7657cbd9f25d369daa9203553bd96">o2::emcal::Detector::CreateEmcalEnvelope</a></div><div class="ttdeci">void CreateEmcalEnvelope()</div><div class="ttdoc">Generate EMCAL envelop (mother volume of all supermodules) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00385">Detector.cxx:385</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_abe6cea8ce79383ace5720c496b41b35f"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#abe6cea8ce79383ace5720c496b41b35f">o2::emcal::Geometry::GetNECLayers</a></div><div class="ttdeci">Int_t GetNECLayers() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00187">Geometry.h:187</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_a3859eabed5f4553c93b6754d9b1c2641"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#a3859eabed5f4553c93b6754d9b1c2641">o2::emcal::ShishKebabTrd1Module::GetPosXfromR</a></div><div class="ttdeci">Double_t GetPosXfromR() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/ShishKebabTrd1Module_8h_source.html#l00080">ShishKebabTrd1Module.h:80</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a32f80be92fd7f6724bb794710469b7c3"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a32f80be92fd7f6724bb794710469b7c3">o2::emcal::Detector::InitializeO2Detector</a></div><div class="ttdeci">void InitializeO2Detector() override</div><div class="ttdoc">Initializing detector. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00112">Detector.cxx:112</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_accf2d92b21a58f05528d1e7322f6f3d9"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#accf2d92b21a58f05528d1e7322f6f3d9">o2::emcal::ShishKebabTrd1Module::GetTanBetta</a></div><div class="ttdeci">Double_t GetTanBetta() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/ShishKebabTrd1Module_8h_source.html#l00140">ShishKebabTrd1Module.h:140</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_ad15caad40ca8580b5f1cd076960ddbc0"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad15caad40ca8580b5f1cd076960ddbc0">o2::base::Detector::Medium</a></div><div class="ttdeci">void Medium(Int_t numed, const char *name, Int_t nmat, Int_t isvol, Int_t ifield, Float_t fieldm, Float_t tmaxfd, Float_t stemax, Float_t deemax, Float_t epsil, Float_t stmin, Float_t *ubuf=nullptr, Int_t nbuf=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00069">Detector.cxx:69</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a5f9592253684198035ea45072099c6c7"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a5f9592253684198035ea45072099c6c7">o2::emcal::Geometry::GetCentersOfCellsPhiDir</a></div><div class="ttdeci">std::vector&lt; Double_t &gt; GetCentersOfCellsPhiDir() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00478">Geometry.h:478</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a9cd653b1648845554169fbc3a3f6d37a"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a></div><div class="ttdeci">GLboolean GLboolean g</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l01233">glcorearb.h:1233</a></div></div>
<div class="ttc" id="classROOT_1_1Math_1_1PositionVector3D_html"><div class="ttname"><a href="../../d5/daf/classROOT_1_1Math_1_1PositionVector3D.html">ROOT::Math::PositionVector3D</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8b/DataFormats_2Reconstruction_2include_2ReconstructionDataFormats_2Track_8h_source.html#l00050">Track.h:50</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a2caa5ab39eb387b5495fcf8aca9d7caf"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2caa5ab39eb387b5495fcf8aca9d7caf">o2::emcal::Geometry::GetLateralSteelStrip</a></div><div class="ttdeci">Float_t GetLateralSteelStrip() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00200">Geometry.h:200</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a3aad53c2f80f73359ee4d200d89c0427"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3aad53c2f80f73359ee4d200d89c0427">o2::emcal::Geometry::Get2Trd1Dx2</a></div><div class="ttdeci">Float_t Get2Trd1Dx2() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00211">Geometry.h:211</a></div></div>
<div class="ttc" id="namespaceo2_1_1data__flow_html_a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873"><div class="ttname"><a href="../../d1/df4/namespaceo2_1_1data__flow.html#a3a67fd76d9a0e56c332aebc06a41e8e8ad6e1b2dd08ee0161c09b9dffb4f99873">o2::data_flow::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/TimeframeParser_8cxx_source.html#l00049">TimeframeParser.cxx:49</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ae38c2e2fb7f6603e2b16675850422fe6"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae38c2e2fb7f6603e2b16675850422fe6">o2::emcal::Geometry::GetAbsCellIdFromCellIndexes</a></div><div class="ttdeci">Int_t GetAbsCellIdFromCellIndexes(Int_t nSupMod, Int_t iphi, Int_t ieta) const</div><div class="ttdoc">Transition from super module number (nSupMod) and cell indexes (ieta,iphi) to cell absolute ID number...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d49/EMCAL_2base_2src_2Geometry_8cxx_source.html#l00740">Geometry.cxx:740</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a36862d7c6208bc30723fd06f2a0f9bfd"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a36862d7c6208bc30723fd06f2a0f9bfd">entry</a></div><div class="ttdeci">GLuint entry</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l05735">glcorearb.h:5735</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a380787c7bcdee46fb5b5c94aa43cfda4"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a380787c7bcdee46fb5b5c94aa43cfda4">o2::emcal::Geometry::GetSuperModulesPar</a></div><div class="ttdeci">Float_t GetSuperModulesPar(Int_t ipar) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00228">Geometry.h:228</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a5c4947d4516dd7cfa3505ce3a648a4ef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a5c4947d4516dd7cfa3505ce3a648a4ef">name</a></div><div class="ttdeci">GLuint const GLchar * name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00781">glcorearb.h:781</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361d"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361d">o2::emcal::Detector::MediumType_t</a></div><div class="ttdeci">MediumType_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00053">Detector.h:53</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_adf5bd20df16f4b0e2ea554a8deebd1ff"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#adf5bd20df16f4b0e2ea554a8deebd1ff">o2::emcal::Geometry::GetNPhi</a></div><div class="ttdeci">Int_t GetNPhi() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00191">Geometry.h:191</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_ac61e24c4355c1b6370a609ae938b8390"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ac61e24c4355c1b6370a609ae938b8390">o2::emcal::Detector::FindHit</a></div><div class="ttdeci">Hit * FindHit(Int_t cellID, Int_t parentID)</div><div class="ttdoc">Try to find hit with same cell and parent track ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00350">Detector.cxx:350</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_ad08a37964429d340d966dfa679443e8f"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#ad08a37964429d340d966dfa679443e8f">int</a></div><div class="ttdeci">Visualize clusters only Timeframe settings Average distance in cm of events merged into Randomize distance around average distance of merged events int</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00025">qconfigoptions.h:25</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ae53939e3833ac947734dac705b30686d"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ae53939e3833ac947734dac705b30686d">o2::emcal::Geometry::GetEtaModuleSize</a></div><div class="ttdeci">Float_t GetEtaModuleSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00198">Geometry.h:198</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8e8a78e36205bada4146dc581c95f82c"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8e8a78e36205bada4146dc581c95f82c">offset</a></div><div class="ttdeci">GLintptr offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00660">glcorearb.h:660</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html">o2::emcal::Geometry</a></div><div class="ttdoc">EMCAL geometry definition. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00038">Geometry.h:38</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_aea8ab030d629ff25ed0a50c5e10b0e2b"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aea8ab030d629ff25ed0a50c5e10b0e2b">o2::emcal::Geometry::DefineSamplingFraction</a></div><div class="ttdeci">void DefineSamplingFraction(const std::string_view mcname=&quot;&quot;, const std::string_view mctitle=&quot;&quot;)</div><div class="ttdoc">Set the value of the Sampling used to calibrate the MC hits energy (check) </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d49/EMCAL_2base_2src_2Geometry_8cxx_source.html#l00280">Geometry.cxx:280</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a2bed201fca1a88a8ac07f38f65937821"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2bed201fca1a88a8ac07f38f65937821">o2::emcal::Geometry::GetNEta</a></div><div class="ttdeci">Int_t GetNEta() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00190">Geometry.h:190</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_ae2e021e89d0668ab0a0e9703afbf5693"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#ae2e021e89d0668ab0a0e9703afbf5693">o2::base::Detector::initFieldTrackingParams</a></div><div class="ttdeci">static void initFieldTrackingParams(int &amp;mode, float &amp;maxfield)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00140">Detector.cxx:140</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1SpaceFrame_html"><div class="ttname"><a href="../../dd/db3/classo2_1_1emcal_1_1SpaceFrame.html">o2::emcal::SpaceFrame</a></div><div class="ttdoc">Space Frame implementation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7b/SpaceFrame_8h_source.html#l00026">SpaceFrame.h:26</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a3d1e3edfcf61ca2d831883e1afbad89e"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a3d1e3edfcf61ca2d831883e1afbad89e">size</a></div><div class="ttdeci">GLsizeiptr size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00659">glcorearb.h:659</a></div></div>
<div class="ttc" id="simulation_2include_2SimulationDataFormat_2Stack_8h_html"><div class="ttname"><a href="../../d4/d03/simulation_2include_2SimulationDataFormat_2Stack_8h.html">Stack.h</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a16a96c472fcb197bc014b02f373961ac"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16a96c472fcb197bc014b02f373961ac">o2::emcal::Detector::CalculateLightYield</a></div><div class="ttdeci">Double_t CalculateLightYield(Double_t energydeposit, Double_t tracklength, Int_t charge) const</div><div class="ttdoc">Calculate the amount of light seen by the APD for a given track segment (charged particles only) acco...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00327">Detector.cxx:327</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361daa820be5043e6e886858544ccf2f1e581">o2::emcal::Detector::ID_STEEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00057">Detector.h:57</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html">o2::emcal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbc/SimTraits_8h_source.html#l00116">SimTraits.h:116</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_aafcf60fdfd4698fc0c2058446cd2d8a1"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aafcf60fdfd4698fc0c2058446cd2d8a1">o2::emcal::Detector::EndOfEvent</a></div><div class="ttdeci">void EndOfEvent() final</div><div class="ttdoc">Steps to be carried out at the end of the event. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00136">Detector.cxx:136</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a16c58a80f0f782124c83f8c7392f352f"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a16c58a80f0f782124c83f8c7392f352f">o2::emcal::Geometry::GetSampling</a></div><div class="ttdeci">Float_t GetSampling() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00194">Geometry.h:194</a></div></div>
<div class="ttc" id="structo2_1_1emcal_1_1Parent_html_ab32a8ead850ed6486842944733386542"><div class="ttname"><a href="../../de/d43/structo2_1_1emcal_1_1Parent.html#ab32a8ead850ed6486842944733386542">o2::emcal::Parent::mEnergy</a></div><div class="ttdeci">double mEnergy</div><div class="ttdoc">Total energy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00039">Detector.h:39</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_aba38da94c4a45a69a1014a8240b5d88b"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#aba38da94c4a45a69a1014a8240b5d88b">o2::base::Detector::Mixture</a></div><div class="ttdeci">void Mixture(Int_t imat, const char *name, Float_t *a, Float_t *z, Float_t dens, Int_t nlmat, Float_t *wmat)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00063">Detector.cxx:63</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a22947535e3dda5822356f3e02c775f77"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a22947535e3dda5822356f3e02c775f77">o2::emcal::Detector::CreateSupermoduleGeometry</a></div><div class="ttdeci">void CreateSupermoduleGeometry(const std::string_view mother=&quot;XEN1&quot;)</div><div class="ttdoc">Generate super module geometry. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00695">Detector.cxx:695</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ad7e920cdf1d78fc4faab42b2212252a9"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad7e920cdf1d78fc4faab42b2212252a9">o2::emcal::Geometry::GetTrd1BondPaperThick</a></div><div class="ttdeci">Float_t GetTrd1BondPaperThick() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00213">Geometry.h:213</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_abe1c214a9c8909464388bce64173da74"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#abe1c214a9c8909464388bce64173da74">o2::emcal::Detector::BeginPrimary</a></div><div class="ttdeci">void BeginPrimary() override</div><div class="ttdoc">Begin primaray. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00978">Detector.cxx:978</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a323064dc5a35b5502aa2ea51b83f392b"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a323064dc5a35b5502aa2ea51b83f392b">o2::emcal::Geometry::GetPhiCenterOfSMSec</a></div><div class="ttdeci">Double_t GetPhiCenterOfSMSec(Int_t nsupmod) const</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d49/EMCAL_2base_2src_2Geometry_8cxx_source.html#l01616">Geometry.cxx:1616</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a8c479a3f8d3446167748479959339749"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a8c479a3f8d3446167748479959339749">o2::emcal::Geometry::GetSMType</a></div><div class="ttdeci">EMCALSMType GetSMType(Int_t nSupMod) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00230">Geometry.h:230</a></div></div>
<div class="ttc" id="structo2_1_1emcal_1_1Parent_html"><div class="ttname"><a href="../../de/d43/structo2_1_1emcal_1_1Parent.html">o2::emcal::Parent</a></div><div class="ttdoc">Information about superparent (particle entering EMCAL) </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00037">Detector.h:37</a></div></div>
<div class="ttc" id="Base_2src_2Detector_8cxx_html_a886df5311b2b53f2286860cc95a7f262"><div class="ttname"><a href="../../d3/dee/Base_2src_2Detector_8cxx.html#a886df5311b2b53f2286860cc95a7f262">ClassImp</a></div><div class="ttdeci">ClassImp(o2::base::Detector)</div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_accd36deecd2b632dec45ebac8555ea15"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#accd36deecd2b632dec45ebac8555ea15">o2::emcal::Geometry::GetTrd1Angle</a></div><div class="ttdeci">Float_t GetTrd1Angle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00210">Geometry.h:210</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a81352f8c354ad430886d4e5f6ce62a8b"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a81352f8c354ad430886d4e5f6ce62a8b">o2::emcal::Geometry::GetCellPhiEtaIndexInSModule</a></div><div class="ttdeci">std::tuple&lt; int, int &gt; GetCellPhiEtaIndexInSModule(Int_t nSupMod, Int_t nModule, Int_t nIphi, Int_t nIeta) const</div><div class="ttdoc">Get eta-phi indexes of cell in SM. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d49/EMCAL_2base_2src_2Geometry_8cxx_source.html#l00937">Geometry.cxx:937</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Hit_html"><div class="ttname"><a href="../../df/d3e/classo2_1_1emcal_1_1Hit.html">o2::emcal::Hit</a></div><div class="ttdoc">EMCAL simulation hit information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d16/Detectors_2EMCAL_2base_2include_2EMCALBase_2Hit_8h_source.html#l00024">Hit.h:24</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_af59101fcfad097f18ac1e12245b61857"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af59101fcfad097f18ac1e12245b61857">o2::emcal::Geometry::GetArm1PhiMax</a></div><div class="ttdeci">Float_t GetArm1PhiMax() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00175">Geometry.h:175</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a16c3573b2164ebe124d657975bf8a3b9"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a16c3573b2164ebe124d657975bf8a3b9">o2::emcal::Detector::AddSuperparent</a></div><div class="ttdeci">Parent * AddSuperparent(Int_t trackID, Int_t pdg, Double_t energy)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00320">Detector.cxx:320</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_af029394876e334bc6fdb977f4e86c8bc"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#af029394876e334bc6fdb977f4e86c8bc">o2::base::Detector::addNameTo</a></div><div class="ttdeci">std::string addNameTo(const char *ext) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3a/Base_2include_2DetectorsBase_2Detector_8h_source.html#l00146">Detector.h:146</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_af0caf7422195f46d4fc66883ff211135"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af0caf7422195f46d4fc66883ff211135">o2::emcal::Geometry::GetEnvelop</a></div><div class="ttdeci">Float_t GetEnvelop(Int_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00179">Geometry.h:179</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_af82f3ebc45eb85ea1ddc2979b471af40"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#af82f3ebc45eb85ea1ddc2979b471af40">o2::emcal::Detector::AddHit</a></div><div class="ttdeci">Hit * AddHit(Int_t trackID, Int_t primary, Double_t initialEnergy, Int_t detID, const Point3D&lt; float &gt; &amp;pos, const Vector3D&lt; float &gt; &amp;mom, Double_t time, Double_t energyloss)</div><div class="ttdoc">Add EMCAL hit. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00310">Detector.cxx:310</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a5723cbff32a83ff778f711d7b06a2155"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a5723cbff32a83ff778f711d7b06a2155">o2::emcal::Geometry::GetPhiSuperModule</a></div><div class="ttdeci">Float_t GetPhiSuperModule() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00204">Geometry.h:204</a></div></div>
<div class="ttc" id="Cartesian3D_8h_html_a757a9e27d06d62775ddfed09c1ef2f18"><div class="ttname"><a href="../../dd/d76/Cartesian3D_8h.html#a757a9e27d06d62775ddfed09c1ef2f18">Vector3D</a></div><div class="ttdeci">ROOT::Math::DisplacementVector3D&lt; ROOT::Math::Cartesian3D&lt; T &gt;, ROOT::Math::DefaultCoordinateSystemTag &gt; Vector3D</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d76/Cartesian3D_8h_source.html#l00031">Cartesian3D.h:31</a></div></div>
<div class="ttc" id="classFloat__t_html"><div class="ttname"><a href="../../d9/d7d/classFloat__t.html">Float_t</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01fabaaa49e36bd1b73f8ad96e1f502d19b91c"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaaa49e36bd1b73f8ad96e1f502d19b91c">o2::emcal::NOT_EXISTENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00021">GeometryBase.h:21</a></div></div>
<div class="ttc" id="classo2_1_1utils_1_1ShmManager_html_ac70760dbf1a9534cb0e8213c5dd310c2"><div class="ttname"><a href="../../dd/da9/classo2_1_1utils_1_1ShmManager.html#ac70760dbf1a9534cb0e8213c5dd310c2">o2::utils::ShmManager::Instance</a></div><div class="ttdeci">static ShmManager &amp; Instance()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d61/ShmManager_8h_source.html#l00054">ShmManager.h:54</a></div></div>
<div class="ttc" id="classuint64__t_html"><div class="ttname"><a href="../../d6/d30/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361da01b52f27d31b14c8c8d6d90826cb71c2"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da01b52f27d31b14c8c8d6d90826cb71c2">o2::emcal::Detector::ID_PAPER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00058">Detector.h:58</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_aa1b24a68669e386d3240c0443dba1eef"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aa1b24a68669e386d3240c0443dba1eef">o2::emcal::Geometry::GetPhiTileSize</a></div><div class="ttdeci">Float_t GetPhiTileSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00202">Geometry.h:202</a></div></div>
<div class="ttc" id="structo2_1_1emcal_1_1Parent_html_af8c2c9550c8208b6c67dcab13170b317"><div class="ttname"><a href="../../de/d43/structo2_1_1emcal_1_1Parent.html#af8c2c9550c8208b6c67dcab13170b317">o2::emcal::Parent::mHasTrackReference</a></div><div class="ttdeci">bool mHasTrackReference</div><div class="ttdoc">Flag indicating whether parent has a track reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00040">Detector.h:40</a></div></div>
<div class="ttc" id="SpaceFrame_8h_html"><div class="ttname"><a href="../../d0/d7b/SpaceFrame_8h.html">SpaceFrame.h</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabad263d373d83bf2bc6bad572468b5371e">o2::emcal::EMCAL_THIRD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00024">GeometryBase.h:24</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a26e2d1720088e184a803feccdb0323d1"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a26e2d1720088e184a803feccdb0323d1">o2::emcal::Geometry::GetNZ</a></div><div class="ttdeci">Int_t GetNZ() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00189">Geometry.h:189</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1DetImpl_html"><div class="ttname"><a href="../../de/dc8/classo2_1_1base_1_1DetImpl.html">o2::base::DetImpl&lt; Detector &gt;</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a2405fdd7fef79a727a5f48982ffb146b"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a2405fdd7fef79a727a5f48982ffb146b">o2::emcal::Detector::~Detector</a></div><div class="ttdeci">~Detector() override</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00107">Detector.cxx:107</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html">o2::emcal::Detector</a></div><div class="ttdoc">Detector simulation class for the EMCAL detectorThe detector class handles the implementation of the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00050">Detector.h:50</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_aaf6abc073195a984a4e2cec1fb128faf"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aaf6abc073195a984a4e2cec1fb128faf">o2::emcal::Detector::ProcessHits</a></div><div class="ttdeci">Bool_t ProcessHits(FairVolume *v=nullptr) final</div><div class="ttdoc">Processing hit creation in the EMCAL scintillator volume. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00164">Detector.cxx:164</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ad417809781764510a2b74882b891e9ec"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad417809781764510a2b74882b891e9ec">o2::emcal::Geometry::GetECScintThick</a></div><div class="ttdeci">Float_t GetECScintThick() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00193">Geometry.h:193</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a59e381d0b2383df77c683c99ba021e14"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a59e381d0b2383df77c683c99ba021e14">o2::emcal::Detector::GetGeometry</a></div><div class="ttdeci">Geometry * GetGeometry()</div><div class="ttdoc">Get the EMCAL geometry desciption. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00375">Detector.cxx:375</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_ad2cf464593a0c497a98222abdb12684d"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#ad2cf464593a0c497a98222abdb12684d">o2::emcal::Detector::Reset</a></div><div class="ttdeci">void Reset() final</div><div class="ttdoc">Clean point collection. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00363">Detector.cxx:363</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_aebefc186024f3f0d5b4b2934ce5056ac"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#aebefc186024f3f0d5b4b2934ce5056ac">o2::emcal::Detector::CreateAlFrontPlate</a></div><div class="ttdeci">void CreateAlFrontPlate(const std::string_view mother=&quot;EMOD&quot;, const std::string_view child=&quot;ALFP&quot;)</div><div class="ttdoc">Generate aluminium plates geometry. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00952">Detector.cxx:952</a></div></div>
<div class="ttc" id="namespaceo2_1_1utils_html_a2460e2490970226d5b23661ee8fe17a2"><div class="ttname"><a href="../../d0/d28/namespaceo2_1_1utils.html#a2460e2490970226d5b23661ee8fe17a2">o2::utils::freeSimVector</a></div><div class="ttdeci">void freeSimVector(std::vector&lt; T &gt; *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d91/ShmAllocator_8h_source.html#l00121">ShmAllocator.h:121</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a40fecb65c0bb4cd3e724558b5b52f881"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a40fecb65c0bb4cd3e724558b5b52f881">o2::emcal::Geometry::GetShellThickness</a></div><div class="ttdeci">Float_t GetShellThickness() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00180">Geometry.h:180</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a3301382181331839db3eaea7a36d3ba5"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a3301382181331839db3eaea7a36d3ba5">o2::emcal::Geometry::GetPhiModuleSize</a></div><div class="ttdeci">Float_t GetPhiModuleSize() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00197">Geometry.h:197</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361da16b9c0b5b63036bde7cd81f0bc7e135e"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da16b9c0b5b63036bde7cd81f0bc7e135e">o2::emcal::Detector::ID_PB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00054">Detector.h:54</a></div></div>
<div class="ttc" id="classo2_1_1data_1_1Stack_html"><div class="ttname"><a href="../../d2/de8/classo2_1_1data_1_1Stack.html">o2::data::Stack</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d03/simulation_2include_2SimulationDataFormat_2Stack_8h_source.html#l00064">Stack.h:64</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a5b5d2f82d13bb50d1da41572d69ee035"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a5b5d2f82d13bb50d1da41572d69ee035">o2::emcal::Detector::Detector</a></div><div class="ttdeci">Detector()=default</div><div class="ttdoc">Default constructor. </div></div>
<div class="ttc" id="Detectors_2EMCAL_2base_2include_2EMCALBase_2Hit_8h_html"><div class="ttname"><a href="../../d8/d16/Detectors_2EMCAL_2base_2include_2EMCALBase_2Hit_8h.html">Hit.h</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01fab"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fab">o2::emcal::EMCALSMType</a></div><div class="ttdeci">EMCALSMType</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00020">GeometryBase.h:20</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_af5493ca981a710fee477f8a18ff2d6b5"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#af5493ca981a710fee477f8a18ff2d6b5">o2::emcal::ShishKebabTrd1Module::GetEtaOfCenterOfModule</a></div><div class="ttdeci">Double_t GetEtaOfCenterOfModule() const</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/ShishKebabTrd1Module_8cxx_source.html#l00264">ShishKebabTrd1Module.cxx:264</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_aff136294a2224bbc065e877188f6066f"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#aff136294a2224bbc065e877188f6066f">o2::emcal::Geometry::GetNETAdiv</a></div><div class="ttdeci">Int_t GetNETAdiv() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00207">Geometry.h:207</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a9e06c1f76a20fed54ca742cd25cb02c4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a9e06c1f76a20fed54ca742cd25cb02c4">angle</a></div><div class="ttdeci">GLfloat angle</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l04071">glcorearb.h:4071</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a4f3ee56cf3e8f69395f152d1a1f75a06"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a4f3ee56cf3e8f69395f152d1a1f75a06">o2::emcal::Geometry::GetEMCSystem</a></div><div class="ttdeci">std::vector&lt; EMCALSMType &gt; GetEMCSystem() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00468">Geometry.h:468</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a860806059f6532b4a9ded28b2e6c49be"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a860806059f6532b4a9ded28b2e6c49be">o2::emcal::Detector::FinishPrimary</a></div><div class="ttdeci">void FinishPrimary() override</div><div class="ttdoc">Finish current primary. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00984">Detector.cxx:984</a></div></div>
<div class="ttc" id="qconfigoptions_8h_html_acc2760558000045ec0803d60d4d01c98"><div class="ttname"><a href="../../d8/de9/qconfigoptions_8h.html#acc2760558000045ec0803d60d4d01c98">e</a></div><div class="ttdeci">Run track merging Number of iterations to Number of iterations to Number of initial iterations excluded from const char e</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de9/qconfigoptions_8h_source.html#l00140">qconfigoptions.h:140</a></div></div>
<div class="ttc" id="namespaceo2_1_1its_1_1constants_1_1math_html_a790aa0015b1208f2a67ff3eaee25392b"><div class="ttname"><a href="../../d3/df6/namespaceo2_1_1its_1_1constants_1_1math.html#a790aa0015b1208f2a67ff3eaee25392b">o2::its::constants::math::Pi</a></div><div class="ttdeci">constexpr float Pi</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d86/Detectors_2ITSMFT_2ITS_2tracking_2include_2ITStracking_2Constants_8h_source.html#l00037">Constants.h:37</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a7a20c3effc84d8ab7b9018168690348c"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a7a20c3effc84d8ab7b9018168690348c">o2::emcal::Detector::Register</a></div><div class="ttdeci">void Register() override</div><div class="ttdoc">register container with hits </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00358">Detector.cxx:358</a></div></div>
<div class="ttc" id="namespaceutils_html"><div class="ttname"><a href="../../d6/d84/namespaceutils.html">utils</a></div><div class="ttdoc">Common utility functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7a/Detectors_2TPC_2base_2include_2TPCBase_2Utils_8h_source.html#l00035">Utils.h:35</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da2cc11a4038089e9ca0994c13f2a1483e">o2::emcal::Detector::ID_AIR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00053">Detector.h:53</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a0cdec8e97a75ee9458b23d152bf962d4"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a0cdec8e97a75ee9458b23d152bf962d4">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00403">glcorearb.h:403</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a39c19e1e043e3b8b184faa40ec5429c0"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a39c19e1e043e3b8b184faa40ec5429c0">o2::emcal::Geometry::GetShishKebabTrd1Modules</a></div><div class="ttdeci">const std::vector&lt; ShishKebabTrd1Module &gt; &amp; GetShishKebabTrd1Modules() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00120">Geometry.h:120</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1ShishKebabTrd1Module_html_aafb1e2aa44ffb420fc000510ae18f456"><div class="ttname"><a href="../../d7/da5/classo2_1_1emcal_1_1ShishKebabTrd1Module.html#aafb1e2aa44ffb420fc000510ae18f456">o2::emcal::ShishKebabTrd1Module::GetCenterOfModule</a></div><div class="ttdeci">const TVector2 &amp; GetCenterOfModule() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d00/ShishKebabTrd1Module_8h_source.html#l00077">ShishKebabTrd1Module.h:77</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a74d80fd479c0f6d0153c709949a089ef"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a74d80fd479c0f6d0153c709949a089ef">y</a></div><div class="ttdeci">GLint y</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00270">glcorearb.h:270</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01fabaac973f23b5a364b2d695c2404292f36c">o2::emcal::DCAL_STANDARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00025">GeometryBase.h:25</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a95fca2527605a8618f25237e9f815521"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a95fca2527605a8618f25237e9f815521">o2::emcal::Geometry::GetSteelFrontThickness</a></div><div class="ttdeci">Float_t GetSteelFrontThickness() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00253">Geometry.h:253</a></div></div>
<div class="ttc" id="SecondaryVertex_8h_html_a7effbf82c50caa2e6b11dd6c61317195"><div class="ttname"><a href="../../dd/ddf/SecondaryVertex_8h.html#a7effbf82c50caa2e6b11dd6c61317195">energy</a></div><div class="ttdeci">float energy(float px, float py, float pz, float mass)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddf/SecondaryVertex_8h_source.html#l00079">SecondaryVertex.h:79</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_ad6c3f9fa516326608a8dd14cdb44849b"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#ad6c3f9fa516326608a8dd14cdb44849b">o2::base::Detector::getMediumID</a></div><div class="ttdeci">int getMediumID(int imed) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3a/Base_2include_2DetectorsBase_2Detector_8h_source.html#l00131">Detector.h:131</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a86de4b40f413c387a1224c068ce3361da9c932e027e0d8290fd9b19602289bfd7"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a86de4b40f413c387a1224c068ce3361da9c932e027e0d8290fd9b19602289bfd7">o2::emcal::Detector::ID_AL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_source.html#l00056">Detector.h:56</a></div></div>
<div class="ttc" id="namespaceo2_1_1emcal_html_ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512"><div class="ttname"><a href="../../db/dc1/namespaceo2_1_1emcal.html#ab0c3f58baa3641f63880d263dda01faba54758e56b72e7176e8d1a38e7be16512">o2::emcal::DCAL_EXT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5e/GeometryBase_8h_source.html#l00026">GeometryBase.h:26</a></div></div>
<div class="ttc" id="EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h_html"><div class="ttname"><a href="../../d8/d3d/EMCAL_2simulation_2include_2EMCALSimulation_2Detector_8h.html">Detector.h</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_a21f783b8a6fc35d0db8acdfe9c016319"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#a21f783b8a6fc35d0db8acdfe9c016319">o2::base::Detector::registerSensitiveVolumeAndGetVolID</a></div><div class="ttdeci">int registerSensitiveVolumeAndGetVolID(std::string const &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00183">Detector.cxx:183</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_aee0e854831d4240d79f15820a7796928"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#aee0e854831d4240d79f15820a7796928">o2::base::Detector::Material</a></div><div class="ttdeci">void Material(Int_t imat, const char *name, Float_t a, Float_t z, Float_t dens, Float_t radl, Float_t absl, Float_t *buf=nullptr, Int_t nwbuf=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00056">Detector.cxx:56</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ab819ae25028c2c816af4620334f41255"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ab819ae25028c2c816af4620334f41255">o2::emcal::Geometry::GetCentersOfCellsEtaDir</a></div><div class="ttdeci">std::vector&lt; Double_t &gt; GetCentersOfCellsEtaDir() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00470">Geometry.h:470</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a2afaa8759aa0ace72fc01d19e9787352"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2afaa8759aa0ace72fc01d19e9787352">o2::emcal::Geometry::IsInitialized</a></div><div class="ttdeci">static Bool_t IsInitialized()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00111">Geometry.h:111</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a929268618a46c57137741a179fc3113d"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a929268618a46c57137741a179fc3113d">o2::emcal::Detector::ConstructGeometry</a></div><div class="ttdeci">void ConstructGeometry() override</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00138">Detector.cxx:138</a></div></div>
<div class="ttc" id="GPUDisplayBackendWindows_8cxx_html_a03c996f9fcf0e10baeb3e700be0c409a"><div class="ttname"><a href="../../dc/d2e/GPUDisplayBackendWindows_8cxx.html#a03c996f9fcf0e10baeb3e700be0c409a">active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2e/GPUDisplayBackendWindows_8cxx_source.html#l00035">GPUDisplayBackendWindows.cxx:35</a></div></div>
<div class="ttc" id="glcorearb_8h_html_a8922a680b00df660c57f47c1971d04c5"><div class="ttname"><a href="../../dc/da3/glcorearb_8h.html#a8922a680b00df660c57f47c1971d04c5">data</a></div><div class="ttdeci">GLboolean * data</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da3/glcorearb_8h_source.html#l00298">glcorearb.h:298</a></div></div>
<div class="ttc" id="GPUCommonAlgorithm_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="../../dd/d0b/GPUCommonAlgorithm_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d0b/GPUCommonAlgorithm_8h_source.html#l00385">GPUCommonAlgorithm.h:385</a></div></div>
<div class="ttc" id="classo2_1_1base_1_1Detector_html_a8636712498bbcfbb35fb8716cc6f9145"><div class="ttname"><a href="../../d2/d00/classo2_1_1base_1_1Detector.html#a8636712498bbcfbb35fb8716cc6f9145">o2::base::Detector::Matrix</a></div><div class="ttdeci">void Matrix(Int_t &amp;nmat, Float_t theta1, Float_t phi1, Float_t theta2, Float_t phi2, Float_t theta3, Float_t phi3) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dee/Base_2src_2Detector_8cxx_source.html#l00101">Detector.cxx:101</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a1c94b16ef08b0d81e00b436fd96263d0"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a1c94b16ef08b0d81e00b436fd96263d0">o2::emcal::Geometry::GetArm1PhiMin</a></div><div class="ttdeci">Float_t GetArm1PhiMin() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00174">Geometry.h:174</a></div></div>
<div class="ttc" id="EMCAL_2base_2include_2EMCALBase_2Geometry_8h_html"><div class="ttname"><a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h.html">Geometry.h</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_a2ab18ca29f5a65736678662bca7e88fb"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#a2ab18ca29f5a65736678662bca7e88fb">o2::emcal::Geometry::GetDCALInnerEdge</a></div><div class="ttdeci">Float_t GetDCALInnerEdge() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00182">Geometry.h:182</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_ad3171cc52fcea4bdd401ec10ea034e28"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#ad3171cc52fcea4bdd401ec10ea034e28">o2::emcal::Geometry::GetNumberOfSuperModules</a></div><div class="ttdeci">Int_t GetNumberOfSuperModules() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00195">Geometry.h:195</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Geometry_html_af4f6ad17a7cadac71876efe2ad25e4ff"><div class="ttname"><a href="../../d3/d2b/classo2_1_1emcal_1_1Geometry.html#af4f6ad17a7cadac71876efe2ad25e4ff">o2::emcal::Geometry::GetECPbRadThick</a></div><div class="ttdeci">Float_t GetECPbRadThick() const</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/da8/EMCAL_2base_2include_2EMCALBase_2Geometry_8h_source.html#l00192">Geometry.h:192</a></div></div>
<div class="ttc" id="ShishKebabTrd1Module_8h_html"><div class="ttname"><a href="../../d8/d00/ShishKebabTrd1Module_8h.html">ShishKebabTrd1Module.h</a></div></div>
<div class="ttc" id="classo2_1_1TrackReference_html"><div class="ttname"><a href="../../db/d28/classo2_1_1TrackReference.html">o2::TrackReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dbe/TrackReference_8h_source.html#l00087">TrackReference.h:87</a></div></div>
<div class="ttc" id="classo2_1_1emcal_1_1Detector_html_a140082f2b75da794cb46a165ea037503"><div class="ttname"><a href="../../d2/d5c/classo2_1_1emcal_1_1Detector.html#a140082f2b75da794cb46a165ea037503">o2::emcal::Detector::CreateEmcalModuleGeometry</a></div><div class="ttdeci">void CreateEmcalModuleGeometry(const std::string_view mother=&quot;SMOD&quot;, const std::string_view child=&quot;EMOD&quot;)</div><div class="ttdoc">Generate module geometry (2x2 towers) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx_source.html#l00860">Detector.cxx:860</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_051dca18e802f8e9474f2e30d29c04e0.html">Detectors</a></li><li class="navelem"><a class="el" href="../../dir_088378b58cb1ba39db48039cbd66d10f.html">EMCAL</a></li><li class="navelem"><a class="el" href="../../dir_40743f2e882add17463d3ecfa83bffd4.html">simulation</a></li><li class="navelem"><a class="el" href="../../dir_f58e8c7317032c3b254e2280a1692bd1.html">src</a></li><li class="navelem"><a class="el" href="../../da/d98/EMCAL_2simulation_2src_2Detector_8cxx.html">Detector.cxx</a></li>
    <li class="footer">Generated on Thu Jun 4 2020 09:30:22 for Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
